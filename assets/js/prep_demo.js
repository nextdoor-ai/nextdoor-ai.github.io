var _0x3f50=['moveTo','Filtered\x20file\x20list\x20does\x20not\x20any\x20files!','1574786oTtNDx','<a\x20href=\x22#\x22\x20class=\x22list-group-item\x20list-group-item-action\x20active\x22\x20attr-value=\x22','#chk_inf','kind','_via_attributes','row_id','text/csv','keyup','removeAttr','fill','scrollIntoView','_via_attribute_option_default_','toString','recompute_svg','message','img_options','detect_box_xmax','dimg','image','image_grid_group_by_img_count','documentElement','pow','highlight','X,\x20Y','def.','Filename','lineTo','CIRCLE','작업중인\x20데이터를\x20저장후\x20불러와\x20주세요','floor','getElementById','inv_rx2','All\x20Images','<i\x20id=\x22loading_btn4\x22\x20class=\x22fa\x20fa-spinner\x20fa-spin\x22\x20style=\x22display:none;\x22></i>확인완료','#stats_btn','dtt_id','\x20attribute','width:60%','Default\x20value\x20of\x20this\x20attribute','settings_panel','Loading\x20VIA\x20submodule','progress','Group\x20of\x20','#right_area','hide','detect_box_ymin','_via_settings.core.default_filepath','page_404','<span>Cancelled</span>','region_canvas','Press\x20[Esc]\x20to\x20cancel\x20drawing\x20operation.!','글자입니다.','#load_btn','col-lg-10','<pre>','detect_id','css','PAGE_ABOUT','alt','\x20class=\x22sel\x22','is_on_edge','charAt','readAsDataURL','Imported\x20','dtt_model','table-cell','detect_height','Jul','polyline','<p>Region\x20annotations\x20cannot\x20be\x20updated\x20in\x20image\x20grid\x20view.\x20','#_total_main_tag','#img_list','concat','getMonth','call','col-md-1','project_panel_title','\x22>[','show_region_shape','join','.csv,.json','_attributes.json','Switch\x20to\x20<span\x20class=\x22text_button\x22\x20onclick=\x22show_single_image_view()\x22>single\x20image\x20view</span>\x20to\x20update\x20region\x20annotations.</p>','<span\x20class=\x22text_button\x20right\x22\x20onclick=\x22image_grid_page_next()\x22>Next</span','onchange','dist_to_nearest_edge','classList','Mar','data:image','width:25%','Attribute\x20Option\x20(new)','ctrlKey','\x20onclick=\x22jump_to_image(','Attribute\x20Id','Renamed\x20option\x20[','https://github.com/nextdoor-ai/nextdoor-ai.github.io/blob/master/assets/img/children.jpg?raw=true',']\x20count\x20mismatch','width','ELLIPSE',')\x20version\x20','now','img_fn_list_regex','setAttribute','files_error_loading','region_id','nwse-resize','Save\x20VIA\x20application\x20settings','image_grid_content_img','click','<span>Showing\x20','attribute_default_value','files_missing_region_annotations','<ul>','.json','Updated\x20file\x20attributes\x20of\x20','inline-block','10px\x20Sans','removeChild','Delete\x20from\x20(count\x20format)<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20to\x20delete\x20copied\x20regions\x20from\x20the\x20<i>previous\x202\x20images</i>\x20and\x20<i>next\x203\x20images</i>,\x20type\x20<strong>2,3</strong>\x20in\x20the\x20textbox\x20and\x20to\x20delete\x20regions\x20only\x20in\x20<i>next\x205\x20images</i>,\x20type\x20<strong>0,5</strong></span>','\x27\x20selected>','491673kGOdFC','https://github.com/nextdoor-ai/nextdoor-ai.github.io/blob/master/assets/img/dog.JPG?raw=true','button_edit_','clearRect',']\x20regions\x20','blur','text/','\x20attribute\x20will\x20rename\x20all\x20annotations\x20with\x20this\x20option.\x20<span\x20class=\x22warning\x22>WARNING:\x20this\x20process\x20cannot\x20be\x20undone.</span>','Optional\x20description','push',']\x20to\x20[','First\x20load\x20some\x20images!','허용되지\x20않은\x20문자입니다.[','You\x20must\x20tick\x20the\x20checkbox\x20to\x20confirm\x20deletion\x20of\x20attribute.','ae_','load','type=\x22text\x22\x20id=\x22','attr_name','deltaY','region_attr_index','PAGE_START_INFO','get_svg_element','attribute_property_on_option_add(this)','rshape_fill','최소\x20입력길이는\x20','<span\x20class=\x22text_button\x22>Prev</span>','Copied\x20','input','append','abs','none','\x22>\x20<img\x20src=\x22','option_id','user_input_panel','default_value','Removed\x20file\x20[','<span\x20class=\x22text_button\x22\x20title=\x22Delete\x20image\x20path\x22\x20onclick=\x22project_filepath_del(\x22','MindTrip','values','detect_center_point_x','ellipse','image_grid_toolbar_group_by_select','substring','property','n-resize','<input\x20class=\x22_via_user_input_variable\x22\x20','image_panel','mousemove','<img\x20src=\x22','File\x20type\x20for\x20','content','<div\x20class=\x22container_i\x20float-right','gap5','Name','image_id','message_panel','user_input_attribute_id','Attribute\x20type\x20','image_grid_info','For\x20a\x20polygon,\x20you\x20must\x20define\x20at\x20least\x203\x20points.\x20','Delete\x20from\x20filenames\x20matching\x20a\x20regular\x20expression<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20<strong>_large</strong>\x20deletes\x20the\x20copied\x20regions\x20from\x20all\x20images\x20whose\x20filename\x20contain\x20the\x20keyword\x20<i>_large</i></span>','#leftsidebar','url','substr','#label_list\x20a.active','480647Bgsmab','svg_element','image_grid_content_rshape',']\x0aAnnotation하시겠습니까?','addEventListener','Zoom\x20reset','nesw-resize','image_grid_panel','name','img_fn_list_panel','display_block','first_mid_last','_via_attribute_new_option_id','naturalHeight','col-lg-11',',0,0,\x22{}\x22,\x22{}\x22','</textarea>','dblclick','\x0a|\x0d|\x0d\x0a','fillStyle','#menu_url','attributes_editor_panel_title','firstChild','cursor','move','_via_attribute_option_description_','offset_y','annotations','selectedIndex','Add\x20File\x20using\x20URL','mouseup',']\x20already\x20exists','Attribute\x20[','prop','_via_attribute_new_option_description','buffered','1601933PsbIqd','annotation_editor_on_metadata_update(this)','\x20to\x20','MAX_SAFE_INTEGER','image_grid_content','POINT','Project\x20Name','dview','active','indexOf','#hide_cnt','getOwnPropertyDescriptor','CHECKBOX','\x20=\x20','#ff0000',']\x20and\x20_via_canvas_regions[',';charset=utf-8','image_grid_group_value_onchange(this)','application/json','region_label','origin','attr-value','is_header','scrollTop','new_option_id','#info_btn','readAsText','getContext','car','6313VTOTRa','\x22\x20class=\x22thumb1\x20rounded\x22\x20alt=\x22...\x22\x20attr-idx=\x220\x22><span>','#toggle_left','svg_attributes','Apr','stringify','Loaded\x20','page_user_guide','A\x20polyline\x20must\x20have\x20at\x20least\x202\x20points.\x20','176uPrUcv','mouseover','setting\x20img\x20content','[Click]\x20to\x20define\x20polygon/polyline\x20vertices',']\x20for\x20','</ul>','2,3','underfined','Image\x20Annotator','img_index','Delete\x20an\x20option\x20for\x20','#menu_urls','type','sort','최대\x20입력길이는\x20','Option\x20id\x20[','selected','gap','startsWith','preventDefault','file','Aug','<span\x20class=\x22text_button\x22>Next</span>','xlink:href','page_license','globalAlpha','Copy\x20to\x20(image\x20index\x20list)<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20<strong>2-5,7,9</strong>\x20pastes\x20the\x20copied\x20regions\x20to\x20the\x20images\x20with\x20the\x20following\x20id\x20<i>2,3,4,5,7,9</i>\x20and\x20<strong>3,8,141</strong>\x20pastes\x20to\x20the\x20images\x20with\x20id\x20<i>3,8\x20and\x20141</i></span>','height','clientHeight','When\x20selected,\x20this\x20is\x20the\x20value\x20that\x20appears\x20in\x20exported\x20annotations','display_none','project','removeClass','placeholder','img_width','atan2','text-align:center','get_svg_string','Absolute\x20path','\x22\x20style=\x22width:\x20140px;\x22>','utf-8','lastIndexOf','ING','shape','img_obj','text/plain','/prep/','<span\x20class=\x22cell\x22>','attribute_properties','offsetTop','desc','shape_attributes','annotation_editor_header','adding\x20path:\x20','min','Further\x20zoom-in\x20not\x20possible','#val_chkbox','_via_user_input_variable','file_attr_index','visible','박스\x20영역이\x20이미지\x20크기를\x20초과해서\x20제외되었습니다.\x20[','attr_id','even_indexed','#default_val\x20option:eq(1)','detect_box_ymax','csv_column_count','fontSize','annotation_editor','attribute_type','Remove\x20File\x20from\x20Project','defineProperty','#icon_gridoff','Cannot\x20reset\x20zoom\x20because\x20image\x20zoom\x20has\x20not\x20been\x20applied!','getAttribute','for','\x20selected\x20regions','function','remove','_metadata','display','_via_settings','RECT','stroke','disabled','[region]\x20','Source:\x20image\x20data\x20in\x20base64\x20format','col','current_value_index','Task\x20<span\x20style=\x22margin-left:1rem;\x22\x20class=\x22loading_spinbox\x22></span>','settings_input_new_filepath','bim','onchange=\x22annotation_editor_on_metadata_update(this)\x22\x20','scale','text/json;charset=utf-8','red','then','Cannot\x20import\x20project\x20from\x20a\x20corrupt\x20file!','Added\x20file\x20at\x20absolute\x20path\x20[','\x22><p>','Rename\x20an\x20option\x20for\x20','_via_attribute_new_option_default','point','core','log','<span\x20class=\x22ok\x22>','...','Enter\x20the\x20name\x20of\x20attribute\x20that\x20you\x20wish\x20to\x20delete','length','#_header_a','which','attribute_property_on_option_update(this)','scrollLeft','naturalWidth','\x20(\x20Discarded\x20','col-md-2','http://www.robots.ox.ac.uk/~vgg/software/via/images/swan.jpg','\x22\x20style=\x22position:relative;\x22\x20attr-idx=\x22','select','.\x20Ready\x20!','wheel','sel_local_data_file()\x20:\x20unknown\x20type\x20','Header\x20line\x20missing\x20in\x20CSV\x20file','checkbox','attribute_options','offsetLeft','#sav_btn','removeAttribute','class','confirm','URL\x20or\x20base64\x20(see\x20https://www.base64-image.de/)\x20encoded\x20image\x20data\x20that\x20corresponds\x20to\x20the\x20image\x20shown\x20as\x20an\x20option\x20to\x20the\x20annotator','leftsidebar_width','#txt_search','innerHTML','option','radio','black','strokeStyle','offsetX','\x20attribute\x20will\x20delete\x20all\x20annotations\x20with\x20this\x20option.\x20<span\x20class=\x22warning\x22>WARNING:\x20this\x20process\x20cannot\x20be\x20undone.</span>','svg_string','dropdown','html','May','focus','_via_settings.core.filepath','<span\x20class=\x22text_button\x20left\x22\x20onclick=\x22image_grid_page_prev()\x22>Prev</span>','attributes','row','group_index','Attribute\x20Option','#ffffff','yellow','\x22{}\x22','measureText','img','\x20region','nextSibling','Press\x20single\x20click\x20to\x20define\x20points\x20(or\x20landmarks)','findIndex','is_inside','\x22\x20maxlength=\x22','Deleted\x20','trim','http://','_via_img_metadata','button','closePath','\x20images','default','This\x20is\x20the\x20text\x20shown\x20as\x20an\x20option\x20to\x20the\x20annotator','error','offsetHeight','annotation_editor_height','arc','result','regex','</li>','ready','initialize','_via_img_buffer_add_image()\x20failed\x20for\x20file:\x20','region_shape_attr_index','1PJaFUA','Delete\x20','region_label_font','Loading\x20data\x20from\x20file\x20:\x20','get_video_list','Task','Value\x20of\x20Region\x20Attribute:\x20','leftsidebar','id=\x22','beginPath','Paste\x20Regions\x20to\x20Multiple\x20Images','hasOwnProperty','label','size','checked','src','\x20different\x20values','mousedown','onclick','open','page_about','json','regular\x20expression','slice','title=\x22','https://github.com/nextdoor-ai/nextdoor-ai.github.io/blob/master/assets/img/dog2.JPG?raw=true','string','#filename,file_size,file_attributes,region_count,region_id,region_shape_attributes,region_attributes','in\x20','div','Please\x20upload\x20some\x20image\x20files!','all_points_y','#left_menu_0','IMAGE_GRID','split','data','files_missing_file_annotations','parse','\x22></span>','style','leftsidebar_accordion','is_valid','attribute_property_on_update(this)','addClass','all_points_x','\x20files','attr_type','description','checked=\x22checked\x22','.jpg,.jpeg,.png,.bmp','db_i','Option\x20id\x20cannot\x20contain\x20two\x20consecutive\x20underscores','dispatchEvent','.dragscroll','SETTINGS',':checked','fillText','lastChild','\x22\x20value=\x22','rem','mt_project_','#label_list','Added\x20','<div\x20class=\x22row\x22>','href','getElementsByClassName','1364858BgrEbl','toolbar_image_grid_toggle','mconst','gap50','고양이','title','regions','rshape_fill_opacity','Add\x20new\x20id','The\x20','<span\x20class=\x22cancel\x22>','Confirm\x20(by\x20checking\x20box)\x20that\x20you\x20understand\x20the\x20following:\x20<span\x20class=\x22warning\x22>Removing\x20a\x20file\x20from\x20this\x20project\x20will\x20remove\x20all\x20the\x20region\x20and\x20file\x20annotations\x20associated\x20with\x20this\x20file.</span>','clientTop','\x20regions.\x20','page_start_info','keydown','Region\x20id\x20(1,\x202,\x20...)','cctv_inc','rshape_stroke_width','작업중인\x20데이터가\x20없습니다.','<input\x20type=\x22text\x22\x20onchange=\x22annotation_editor_on_metadata_update(this)\x22\x20id=\x22','img_fn_list',']\x20regions,\x20',')\x22\x20title=\x22','attr','image_grid_group_next(this)','shadowColor','prototype','replaceChild','\x20selected\x20regions.\x20Press\x20Ctrl\x20+\x20v\x20to\x20paste','img_height','span','To\x20paste\x20a\x20region,\x20you\x20first\x20need\x20to\x20select\x20a\x20region\x20and\x20copy\x20it!','display_area','leftsidebar_collapse_panel','toggle','group','replace','attr-idx','Failed\x20to\x20import\x20attributes:\x20[','offset_x','File\x20Id','image\x20url\x20or\x20b64','scale_factor','setAttributeNS','</option>','fileread\x20err','not\x20defined\x20yet!','appendChild','PAGE_USER_GUIDE','Attributes','show_image_policy','<li\x20id=\x22fl','placeholder=\x22','image_grid_group_prev(this)','pop','line','application/vnd.ms-excel','group_toolbar_','label_text','Failed\x20to\x20update\x20file\x20attributes!\x20','prepare_svg_element','ns-resize',']\x20from\x20project','_attributes','add','Def.','Annotations\x20(preview)\x20','buffer_size','Feb','menu_url','Copy\x20to\x20(count\x20format)<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20to\x20paste\x20copied\x20regions\x20to\x20the\x20<i>previous\x202\x20images</i>\x20and\x20<i>next\x203\x20images</i>,\x20type\x20<strong>2,3</strong>\x20in\x20the\x20textbox\x20and\x20to\x20paste\x20only\x20in\x20<i>next\x205\x20images</i>,\x20type\x20<strong>0,5</strong></span>','Zoomed\x20in\x20to\x20level\x20','DROPDOWN','#default_val','clientLeft','<div\x20class=\x22container_i\x20float-left','aaa','image_grid_set_content_to_current_group():\x20expected\x20array\x20while\x20got\x20','Delete\x20from\x20(image\x20index\x20list)<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20<strong>2-5,7,9</strong>\x20deletes\x20the\x20copied\x20regions\x20to\x20the\x20images\x20with\x20the\x20following\x20id\x20<i>2,3,4,5,7,9</i>\x20and\x20<strong>3,8,141</strong>\x20deletes\x20regions\x20from\x20the\x20images\x20with\x20id\x20<i>3,8\x20and\x20141</i></span>','filename','rshape_stroke','12px\x20Sans','\x20attribute\x20[','a[attr-class=\x27left_link_menu\x27]','<button\x20id=\x22user_input_cancel_button\x22\x20onclick=\x22user_input_cancel_handler()\x22>CANCEL</button></span></div>','default_filepath','show','#808080','1163YQEriT','<option\x20value=\x27','col\x20header','<button\x20id=\x22user_input_ok_button\x22\x20onclick=\x22user_input_parse_and_invoke_handler()\x22>&nbsp;OK&nbsp;</button></span>','createElement','project_open_parse_json_file()\x20img_id:','#inf_include','object','#annotation_editor_panel_2','body','First\x20copy\x20some\x20regions!','restore',']\x20does\x20not\x20exist!','Confirm\x20(by\x20checking\x20box)\x20that\x20you\x20understand\x20the\x20following:\x20Deleting\x20an\x20option\x20in\x20','button_show_','resize','parent','#menuId','attributes_editor_panel','.container_i[attr-idx=\x27','image_grid_group_toolbar','detect_box_xmin','getDate','POLYGON','isArray','</span>','annotation_editor_fontsize','Added\x20file\x20at\x20url\x20[','createElementNS','target','detect_width','RADIO','#aaeeff','filename_index','crosshair','rect','Add\x20File\x20using\x20Absolute\x20Path','<span\x20class=\x22text_button\x20right\x22\x20onclick=\x22image_grid_cancel_load_ongoing()\x22>Cancel</span>','multiple','files','filelist_preset_filters_list','polygon','Deleted\x20option\x20[','circle','sel','attribute_description','\x20files\x20to\x20project','\x20region\x20attributes','text','clientWidth','attributes_name_list','_via_settings.ui.image.region_label','#image_chk','#lbl_sts','#cnt_desc','Save\x20Project','insertBefore','[Enter]\x20to\x20finish,\x20[Esc]\x20to\x20cancel,\x20','idx_1','작업중인\x20데이터를\x20저장하지\x20않고\x20이동하면\x20데이터는\x20유실됩니다.\x0a이동하시겠습니까?','Import\x20Summary\x20:\x20[','region_attributes','2-5,7,9','attributes_panel','filepath','detect_center_point_y','download','files_without_region','text/json','accept','points','입력\x20안된\x20Annotation\x20있습니다.\x0aimage_id:[','Unknown\x20shape\x20selected!','Error\x20loading\x20data\x20text\x20file\x20:\x20\x20','fillRect','all','The\x20default\x20value\x20of\x20this\x20attribute','csv','Save\x20region\x20and\x20file\x20attributes.','URL','#stats_btn_no','</span>\x20</div>\x20','project_name','default_options','중간공백을\x20체크해주세요','<div\x20class=\x22user_inputs\x22>','undefined','#del_btn','sqrt','Save\x20region\x20and\x20file\x20annotations\x20(i.e.\x20manual\x20annotations)','e-resize','.container_i','odd_indexed','value','lineWidth','splice','childNodes','\x20non-image\x20files!\x20)','#f2f2f2','\x20is\x20unavailable','Project','txt_search:','page_404_filename','scope','\x20regions\x20exceeding\x20image\x20boundary.','</p>','annotation_editor_panel','prev_next_count','invisible_file_input','img_index_list','Pasted\x20','1exzygY','keys','20%','Attribute\x20Type','gap25','Jun','region','file_attributes','translate','</a>\x20','image_grid_remove_group_by(this)','shiftKey','document','offsetY','<a\x20href=\x22#\x22\x20class=\x22list-group-item\x20list-group-item-action\x22\x20attr-value=\x22','image_grid','transparent','Attribute\x20type\x20(e.g.\x20text,\x20checkbox,\x20radio,\x20etc)','round','includes','textarea','80%',']\x20malformed\x20csv\x20lines.','#image_panel\x20img','_via_show_img_from_buffer()\x20failed\x20for\x20file:\x20','_via_attribute_option_id_','region_shape_','get_video_info','Dec','Switch\x20to\x20Image\x20Grid\x20View','img_buffer_now','Description\x20of\x20attribute\x20(shown\x20to\x20user\x20during\x20annotation\x20session)','options','col\x20id','input_type2\x20','Number\x20of\x20regions','attribute_name','IMAGE','#canvas_div','attr_value:','filesize','POLYLINE','<span\x20class=\x22text_button\x20left\x22\x20onclick=\x22image_grid_cancel_load_ongoing()\x22>Cancel</span>','229iKIeGP','val','_via_img_metadata.regions[','PAGE_404','contains'];var _0x8643=function(_0x26dd24,_0x2fa40f){_0x26dd24=_0x26dd24-0x1ad;var _0x3f50a1=_0x3f50[_0x26dd24];return _0x3f50a1;};var _0x5d4abf=_0x8643;(function(_0x418dea,_0x510202){var _0x4d2bab=_0x8643;while(!![]){try{var _0x24e8fa=parseInt(_0x4d2bab(0x3ce))*parseInt(_0x4d2bab(0x2cd))+-parseInt(_0x4d2bab(0x1da))+parseInt(_0x4d2bab(0x233))*-parseInt(_0x4d2bab(0x3d7))+-parseInt(_0x4d2bab(0x38d))*-parseInt(_0x4d2bab(0x2a2))+parseInt(_0x4d2bab(0x48c))*-parseInt(_0x4d2bab(0x3b1))+parseInt(_0x4d2bab(0x2d4))+parseInt(_0x4d2bab(0x34c));if(_0x24e8fa===_0x510202)break;else _0x418dea['push'](_0x418dea['shift']());}catch(_0x18b3d1){_0x418dea['push'](_0x418dea['shift']());}}}(_0x3f50,0xc8838));var _default_val='',_default_txt='';let _img_class=[],_is_drawing=![];function drawImageHTML(_0x2b3950){var _0x8090e9=_0x8643,_0x1ec25f='';(_0x2b3950==undefined||_0x2b3950==null)&&(_0x2b3950=0x0);var _0x204b1a=0x0;for(var _0x492f36 in _via_img_metadata){var _0xcb8a86=_via_img_metadata[_0x492f36]['filename'],_0x2e5839='['+(_0x204b1a+0x1)+']\x20'+_0x492f36,_0xfd9d6f='';_0x2b3950==_0x204b1a&&(_0xfd9d6f='\x20active'),_0x204b1a%0x2==0x0?_0x204b1a==0x0?_0x1ec25f+='<div\x20class=\x22container_i\x20float-left'+_0xfd9d6f+_0x8090e9(0x44b)+_0x204b1a+'\x22>\x20<img\x20src=\x22'+_0xcb8a86+_0x8090e9(0x3cf)+_0x2e5839+'</span>\x20</div>\x20':_0x1ec25f+=_0x8090e9(0x226)+_0xfd9d6f+_0x8090e9(0x44b)+_0x204b1a+_0x8090e9(0x36b)+_0xcb8a86+_0x8090e9(0x3cf)+_0x2e5839+'</span>\x20</div>\x20':_0x1ec25f+=_0x8090e9(0x37f)+_0xfd9d6f+'\x22\x20style=\x22position:relative;\x22\x20attr-idx=\x22'+_0x204b1a+_0x8090e9(0x36b)+_0xcb8a86+_0x8090e9(0x3cf)+_0x2e5839+_0x8090e9(0x284),_0x204b1a+=0x1;}$(_0x8090e9(0x31b))[_0x8090e9(0x464)](_0x1ec25f),$('#img_list')[_0x8090e9(0x231)]();}var TASK_STATUS=_0x5d4abf(0x401);'use\x20strict';var VIA_VERSION='beta',VIA_NAME=_0x5d4abf(0x3df),VIA_SHORT_NAME=_0x5d4abf(0x371),VIA_REGION_SHAPE={'RECT':_0x5d4abf(0x256),'CIRCLE':_0x5d4abf(0x25e),'ELLIPSE':'ellipse','POLYGON':_0x5d4abf(0x25c),'POINT':'point','POLYLINE':_0x5d4abf(0x318)},VIA_ATTRIBUTE_TYPE={'TEXT':_0x5d4abf(0x263),'CHECKBOX':_0x5d4abf(0x451),'RADIO':'radio','IMAGE':_0x5d4abf(0x2e6),'DROPDOWN':'dropdown'},VIA_DISPLAY_AREA_CONTENT_NAME={'IMAGE':_0x5d4abf(0x37a),'IMAGE_GRID':_0x5d4abf(0x394),'SETTINGS':_0x5d4abf(0x2fb),'PAGE_404':_0x5d4abf(0x303),'PAGE_USER_GUIDE':_0x5d4abf(0x3d5),'PAGE_ABOUT':_0x5d4abf(0x4a0),'PAGE_START_INFO':_0x5d4abf(0x1e8),'PAGE_LICENSE':_0x5d4abf(0x3ef),'VIDEO':'video_list_panel'},VIA_REGION_EDGE_TOL=0x5,VIA_REGION_CONTROL_POINT_SIZE=0x2,VIA_REGION_POINT_RADIUS=0x3,VIA_POLYGON_VERTEX_MATCH_TOL=0x5,VIA_REGION_MIN_DIM=0x3,VIA_MOUSE_CLICK_TOL=0x2,VIA_ELLIPSE_EDGE_TOL=0.2,VIA_THETA_TOL=Math['PI']/0x12,VIA_POLYGON_RESIZE_VERTEX_OFFSET=0x64,VIA_CANVAS_DEFAULT_ZOOM_LEVEL_INDEX=0x3,VIA_CANVAS_ZOOM_LEVELS=[0.25,0.5,0.75,0x1,1.5,0x2,2.5,0x3,0x4,0x5],VIA_THEME_REGION_BOUNDARY_WIDTH=0x2,VIA_THEME_BOUNDARY_LINE_COLOR=_0x5d4abf(0x45e),VIA_THEME_BOUNDARY_FILL_COLOR=_0x5d4abf(0x435),VIA_THEME_SEL_REGION_FILL_COLOR=_0x5d4abf(0x232),VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR='red',VIA_THEME_SEL_REGION_OPACITY=0.5,VIA_THEME_MESSAGE_TIMEOUT_MS=0x1770,VIA_THEME_CONTROL_POINT_COLOR=_0x5d4abf(0x3bf),VIA_CSV_SEP=',',VIA_CSV_QUOTE_CHAR='\x22',VIA_CSV_KEYVAL_SEP=':',_via_img_metadata={},_via_img_src={},_via_img_fileref={},_via_img_count=0x0,_via_canvas_regions=[],_via_canvas_scale=0x1,_via_image_id='',_via_image_index=-0x1,_via_current_image_filename,_via_current_image,_via_current_image_width,_via_current_image_height,_via_img_panel=document['getElementById']('image_panel'),_via_reg_canvas=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x305)),_via_reg_ctx=_via_reg_canvas[_0x5d4abf(0x3cc)]('2d'),_via_canvas_width,_via_canvas_height,_via_canvas_zoom_level_index=VIA_CANVAS_DEFAULT_ZOOM_LEVEL_INDEX,_via_canvas_scale_without_zoom=0x1,_via_is_user_drawing_region=![],_via_current_image_loaded=![],_via_is_window_resized=![],_via_is_user_resizing_region=![],_via_is_user_moving_region=![],_via_is_user_drawing_polygon=![],_via_is_region_selected=![],_via_is_all_region_selected=![],_via_is_user_updating_attribute_name=![],_via_is_user_updating_attribute_value=![],_via_is_user_adding_attribute_name=![],_via_is_loaded_img_list_visible=![],_via_is_attributes_panel_visible=![],_via_is_reg_attr_panel_visible=![],_via_is_file_attr_panel_visible=![],_via_is_canvas_zoomed=![],_via_is_loading_current_image=![],_via_is_region_id_visible=!![],_via_is_region_boundary_visible=!![],_via_is_ctrl_pressed=![],_via_current_shape=VIA_REGION_SHAPE['RECT'],_via_current_polygon_region_id=-0x1,_via_user_sel_region_id=-0x1,_via_click_x0=0x0,_via_click_y0=0x0,_via_click_x1=0x0,_via_click_y1=0x0,_via_region_click_x,_via_region_click_y,_via_region_edge=[-0x1,-0x1],_via_current_x=0x0,_via_current_y=0x0,_via_region_selected_flag=[],_via_copied_image_regions=[],_via_paste_to_multiple_images_input,_via_message_clear_timer,_via_attribute_being_updated=_0x5d4abf(0x2a8),_via_attributes={'region':{},'file':{}},_via_current_attribute_id='',_via_user_input_ok_handler=null,_via_user_input_cancel_handler=null,_via_user_input_data={},_via_metadata_being_updated=_0x5d4abf(0x2a8),_via_is_local_storage_available=![],_via_is_save_ongoing=![],_via_image_id_list=[],_via_image_filename_list=[],_via_image_load_error=[],_via_image_filepath_resolved=[],_via_image_filepath_id_list=[],_via_reload_img_fn_list_table=!![],_via_img_fn_list_img_index_list=[],_via_img_fn_list_html=[],image_grid_panel=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x394)),_via_display_area_content_name='',_via_display_area_content_name_prev='',_via_image_grid_requires_update=![],_via_image_grid_content_overflow=![],_via_image_grid_load_ongoing=![],_via_image_grid_page_first_index=0x0,_via_image_grid_page_last_index=-0x1,_via_image_grid_selected_img_index_list=[],_via_image_grid_page_img_index_list=[],_via_image_grid_mousedown_img_index=-0x1,_via_image_grid_mouseup_img_index=-0x1,_via_image_grid_img_index_list=[],_via_image_grid_group={},_via_image_grid_group_var=[],_via_image_grid_group_show_all=![],_via_image_grid_stack_prev_page=[],VIA_IMG_PRELOAD_INDICES=[0x1,-0x1,0x2,0x3,-0x2,0x4],VIA_IMG_PRELOAD_COUNT=0x4,_via_buffer_preload_img_index=-0x1,_via_buffer_img_index_list=[],_via_buffer_img_shown_timestamp=[],_via_preload_img_promise_list=[],_via_settings={};_via_settings['ui']={},_via_settings['ui'][_0x5d4abf(0x483)]=0x23,_via_settings['ui'][_0x5d4abf(0x24d)]=0.8,_via_settings['ui'][_0x5d4abf(0x459)]=0x12,_via_settings['ui'][_0x5d4abf(0x2b1)]={},_via_settings['ui']['image_grid'][_0x5d4abf(0x1f8)]=0x50,_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x363)]=_0x5d4abf(0x36a),_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x1e1)]=0.3,_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x22b)]=_0x5d4abf(0x46e),_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x1ec)]=0x2,_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x322)]=!![],_via_settings['ui'][_0x5d4abf(0x2b1)][_0x5d4abf(0x20d)]=_0x5d4abf(0x27e),_via_settings['ui'][_0x5d4abf(0x2e6)]={},_via_settings['ui']['image'][_0x5d4abf(0x3c4)]='region_id',_via_settings['ui'][_0x5d4abf(0x2e6)][_0x5d4abf(0x48e)]=_0x5d4abf(0x22c),_via_settings[_0x5d4abf(0x43d)]={},_via_settings[_0x5d4abf(0x43d)][_0x5d4abf(0x21e)]=0x4*VIA_IMG_PRELOAD_COUNT+0x2,_via_settings[_0x5d4abf(0x43d)][_0x5d4abf(0x273)]={},_via_settings[_0x5d4abf(0x43d)][_0x5d4abf(0x230)]='';var invisible_file_input=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x29f)),display_area=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x1fb)),ui_top_panel=document['getElementById']('ui_top_panel'),image_panel=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x37a)),img_buffer_now=document['getElementById'](_0x5d4abf(0x2c0)),annotation_list_snippet=document[_0x5d4abf(0x2f2)]('annotation_list_snippet'),annotation_textarea=document[_0x5d4abf(0x2f2)]('annotation_textarea'),img_fn_list_panel=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x396)),img_fn_list=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x1ef)),attributes_panel=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x272)),leftsidebar=document[_0x5d4abf(0x2f2)](_0x5d4abf(0x493)),BBOX_LINE_WIDTH=0x4,BBOX_SELECTED_OPACITY=0.3,BBOX_BOUNDARY_FILL_COLOR_ANNOTATED=_0x5d4abf(0x295),BBOX_BOUNDARY_FILL_COLOR_NEW=_0x5d4abf(0x253),BBOX_BOUNDARY_LINE_COLOR='#1a1a1a',BBOX_SELECTED_FILL_COLOR=_0x5d4abf(0x46d),VIA_ANNOTATION_EDITOR_HEIGHT_CHANGE=0x5,VIA_ANNOTATION_EDITOR_FONTSIZE_CHANGE=0.1,VIA_IMAGE_GRID_IMG_HEIGHT_CHANGE=0x14,VIA_LEFTSIDEBAR_WIDTH_CHANGE=0x1,del_dtt_id=[],CHECKED_DICT={},curr_img_id='',curr_image_no=0x0,last_image_no=0x0,clicked_img_list=[],updating=![];function checkImg(_0x49cc5e,_0xfe770c){CHECKED_DICT[_0x49cc5e]=_0xfe770c;}function setCurrChecked(_0x3abf1d){var _0x51ab40=_0x5d4abf;_0x3abf1d in CHECKED_DICT?CHECKED_DICT[_0x3abf1d]?$(_0x51ab40(0x267))[_0x51ab40(0x3ae)](_0x51ab40(0x49a),!![]):$(_0x51ab40(0x267))[_0x51ab40(0x3ae)]('checked',![]):(CHECKED_DICT[_0x3abf1d]=![],$(_0x51ab40(0x267))[_0x51ab40(0x3ae)]('checked',!![]));}function setChecked(_0x503990){var _0x20dd9a=_0x5d4abf;CHECKED_DICT[_0x503990]=$('#image_chk')['is'](_0x20dd9a(0x1cf));}var in_text_area=![];const img_class_input_type={'img_obj1':'dropdown'},img_class_input_char={'img_obj1':['개','사람',_0x5d4abf(0x1de)]};var i_max_len=0x0,i_min_len=0x0,_is_processing=![],img_class_input_char_tmp={},img_class_input_char_tmp_txt={},img_class_input_char_txt=img_class_input_char;const lbl_txt_map={'개':'개','사람':'사람','고양이':_0x5d4abf(0x1de)};$(document)[_0x5d4abf(0x488)](function(){var _0x32604f=_0x5d4abf;_via_init(),$(_0x32604f(0x23c))[_0x32604f(0x242)](function(){_via_update_ui_components();});$('#val_chkbox')['val']()=='Y'&&$(_0x32604f(0x2d6))[_0x32604f(0x231)]();$(_0x32604f(0x3bb))['val']()=='Y'&&$(_0x32604f(0x269))[_0x32604f(0x300)]();$('#comp_chk')[_0x32604f(0x2ce)]()=='Y'&&$('#stats_btn')[_0x32604f(0x464)](_0x32604f(0x2f5));menu_urls=$(_0x32604f(0x3e2))[_0x32604f(0x2ce)]()[_0x32604f(0x1ba)](',');var _0x3567dd=_0x32604f(0x26e);$(_0x32604f(0x22e))['on']('click',function(){var _0x3a5476=_0x32604f;confirm(_0x3567dd)&&(location[_0x3a5476(0x1d8)]=$(this)['attr']('attr-link'));});$(_0x32604f(0x1b8))[_0x32604f(0x243)]()[_0x32604f(0x243)]()['find']('li')[_0x32604f(0x442)]==0x1&&($(_0x32604f(0x1b8))[_0x32604f(0x243)]()[_0x32604f(0x243)]()[_0x32604f(0x243)]()[_0x32604f(0x243)]()[_0x32604f(0x3f7)]('col-md-2'),$('#left_menu_0')[_0x32604f(0x243)]()[_0x32604f(0x243)]()['parent']()['parent']()[_0x32604f(0x1c3)](_0x32604f(0x31f)),$(_0x32604f(0x443))[_0x32604f(0x3f7)](_0x32604f(0x449)),$(_0x32604f(0x443))[_0x32604f(0x1c3)](_0x32604f(0x31f)),$(_0x32604f(0x31a))[_0x32604f(0x3f7)](_0x32604f(0x309)),$(_0x32604f(0x31a))['addClass'](_0x32604f(0x39b)));$(_0x32604f(0x3ca))['on']('click',function(){var _0x3effa1=_0x32604f;$('#exampleModal')[_0x3effa1(0x1fd)]();}),$(_0x32604f(0x23c))['on']('click',_0x32604f(0x28e),function(){var _0x217e92=_0x32604f;if(_is_drawing)return![];selectRow($(this)[_0x217e92(0x1f2)](_0x217e92(0x200)));}),$(_0x32604f(0x308))['on'](_0x32604f(0x340),function(){var _0x2d1eb8=_0x32604f,_0x30d36d='ING';$('#comp_chk')[_0x2d1eb8(0x2ce)]()=='Y'&&(_0x30d36d='WORKED');$('#loading_btn')[_0x2d1eb8(0x231)](),$(_0x2d1eb8(0x308))[_0x2d1eb8(0x3ae)]('disabled',_0x2d1eb8(0x42a));var _0x97fac1=new FormData();_0x97fac1[_0x2d1eb8(0x368)](_0x2d1eb8(0x2d7),_0x30d36d),_0x97fac1[_0x2d1eb8(0x368)](_0x2d1eb8(0x220),$(_0x2d1eb8(0x3a1))[_0x2d1eb8(0x2ce)]());$(_0x2d1eb8(0x40f))[_0x2d1eb8(0x2ce)]()=='Y'?$(_0x2d1eb8(0x239))['is'](':checked')?_0x97fac1[_0x2d1eb8(0x368)](_0x2d1eb8(0x1eb),'Y'):_0x97fac1[_0x2d1eb8(0x368)](_0x2d1eb8(0x1eb),'N'):_0x97fac1[_0x2d1eb8(0x368)](_0x2d1eb8(0x1eb),'');del_dtt_id=[];let _0x5481f0=['https://github.com/nextdoor-ai/nextdoor-ai.github.io/blob/master/assets/img/cat.jpg?raw=true',_0x2d1eb8(0x333),_0x2d1eb8(0x34d),_0x2d1eb8(0x1b1)],_0x5e7992={'filename':_0x5481f0[0x0],'size':0xd6b2,'file_attributes':{},'img_class':_0x2d1eb8(0x403),'regions':[{'region_attributes':{'label':_0x2d1eb8(0x1de)},'shape_attributes':{'dtt_id':'1','height':0x190,'img_class':'img_obj','name':_0x2d1eb8(0x256),'width':0x1f4,'x':0x17c,'y':0xf5}}]},_0x3f90fe={'filename':_0x5481f0[0x1],'size':0x181fe,'file_attributes':{},'img_class':_0x2d1eb8(0x403),'regions':[{'region_attributes':{'label':'사람'},'shape_attributes':{'dtt_id':'2','height':0x2c6,'img_class':_0x2d1eb8(0x403),'name':_0x2d1eb8(0x256),'width':0xdc,'x':0x190,'y':0x50}}]},_0x5abfc7={'filename':_0x5481f0[0x2],'size':0xcbba,'file_attributes':{},'img_class':_0x2d1eb8(0x403),'regions':[{'region_attributes':{'label':'개'},'shape_attributes':{'dtt_id':'3','height':0x1c2,'img_class':_0x2d1eb8(0x403),'name':_0x2d1eb8(0x256),'width':0x1c2,'x':0x0,'y':0x32}}]},_0x2d14df={'filename':_0x5481f0[0x3],'size':0x1839c,'file_attributes':{},'img_class':'img_obj','regions':[{'region_attributes':{'label':'개'},'shape_attributes':{'dtt_id':'4','height':0x12c,'img_class':'img_obj','name':_0x2d1eb8(0x256),'width':0x1c2,'x':0x15e,'y':0x104}}]},_0x33d170={'file':{},'region':{'label':{'default_value':'','description':'','options':['사람','개',_0x2d1eb8(0x1de),'차'],'type':'dropdown'}}},_0x121d02={'img_1':_0x5e7992,'img_2':_0x3f90fe,'img_3':_0x5abfc7,'img_4':_0x2d14df},_0x49fc6a={'core':{'buffer_size':0x12,'filepath':{},'default_filepath':''},'project':'MindTrip','ui':{'annotation_editor_fontsize':0.8,'annotation_editor_height':0x23,'leftsidebar_width':0x12,'image':{'region_label':_0x2d1eb8(0x33c),'region_label_font':_0x2d1eb8(0x348)},'image_grid':{'img_height':0x50,'rshape_fill':_0x2d1eb8(0x36a),'rshape_fill_opacity':0.3,'rshape_stroke':_0x2d1eb8(0x46e),'rshape_stroke_width':0x2,'show_image_policy':_0x2d1eb8(0x27e),'show_region_shape':!![]}}},_0x1dcde7={'_via_attributes':_0x33d170,'_via_img_metadata':_0x121d02,'_via_settings':_0x49fc6a};result={'data':_0x1dcde7},curr_image_no=0x0,last_image_no=0x0,last_image_no=Object['keys'](result[_0x2d1eb8(0x1bb)]['_via_img_metadata'])[_0x2d1eb8(0x442)],project_open_parse_json_file(result['data']),_img_class=_0x2d1eb8(0x403),$(_0x2d1eb8(0x454))[_0x2d1eb8(0x231)](),$('#chk_sav_btn')[_0x2d1eb8(0x300)](),$('.dragscroll')[_0x2d1eb8(0x231)](),$('#del_all')[_0x2d1eb8(0x231)](),$(_0x2d1eb8(0x28a))['show'](),$(_0x2d1eb8(0x2f6))[_0x2d1eb8(0x231)](),$(_0x2d1eb8(0x283))['show'](),$(_0x2d1eb8(0x308))[_0x2d1eb8(0x2dc)]('disabled'),$('#loading_btn')[_0x2d1eb8(0x300)](),drawImageHTML();}),$(_0x32604f(0x283))['on'](_0x32604f(0x340),function(){alert(_NO_AUTH_MSG_);}),$('#image_chk')['on'](_0x32604f(0x340),function(){setChecked(curr_img_id);}),$(document)['on'](_0x32604f(0x466),_0x32604f(0x2b6),function(){in_text_area=!![];}),$(document)['on'](_0x32604f(0x351),_0x32604f(0x2b6),function(){in_text_area=![];}),$(_0x32604f(0x1cd))[_0x32604f(0x30c)]('height',parseInt($(window)['height']()*0.85)),$(_0x32604f(0x2ff))[_0x32604f(0x30c)](_0x32604f(0x3f2),parseInt($(window)[_0x32604f(0x3f2)]()*0.88)),$('#img_list')['css'](_0x32604f(0x3f2),parseInt($(window)[_0x32604f(0x3f2)]()*0.8)),$(_0x32604f(0x23c))[_0x32604f(0x1e9)](function(_0x328051){if(in_text_area)return;}),$(_0x32604f(0x3d0))['on'](_0x32604f(0x340),function(){var _0x3d9adc=_0x32604f;$(_0x3d9adc(0x389))[_0x3d9adc(0x1fd)]();}),_input_type='2',_labels=['사람',_0x32604f(0x1de),'개'];let _0x16e805=_labels;var _0x29a95f='';for(var _0x56484b=0x0;_0x56484b<_labels[_0x32604f(0x442)];_0x56484b++){_0x56484b==0x0?(_0x29a95f+=_0x32604f(0x2d5)+_labels[_0x56484b]+'\x22>'+_0x16e805[_0x56484b]+_0x32604f(0x2ab),_default_val=_labels[_0x56484b],_default_txt=_0x16e805[_0x56484b]):_0x29a95f+=_0x32604f(0x2b0)+_labels[_0x56484b]+'\x22>'+_0x16e805[_0x56484b]+_0x32604f(0x2ab);}$(_0x32604f(0x1d5))[_0x32604f(0x464)](_0x29a95f),$('#label_list')['on']('click','a',function(){var _0x544c0b=_0x32604f;$(_0x544c0b(0x38c))[_0x544c0b(0x3f7)](_0x544c0b(0x3b9)),$(this)['addClass'](_0x544c0b(0x3b9)),_default_val=$(this)[_0x544c0b(0x1f2)](_0x544c0b(0x3c6)),_default_txt=$(this)[_0x544c0b(0x464)]();});let _0xbeab3b=![];_0xbeab3b==![]&&($(_0x32604f(0x2c8))['css']('width',_0x32604f(0x2b7)),$(_0x32604f(0x2ff))[_0x32604f(0x30c)](_0x32604f(0x335),_0x32604f(0x2a4)));if(Object[_0x32604f(0x2a3)](img_class_input_type)[_0x32604f(0x442)]==0x1){var _0xd51c05=Object[_0x32604f(0x2a3)](img_class_input_type)[0x0];if(img_class_input_type[_0xd51c05]=='dropdown'){var _0x56154a=img_class_input_char[_0xd51c05],_0x2aae00='<option\x20value=\x27\x27>default\x20value</option>';for(var _0x56484b=0x0;_0x56484b<_0x56154a[_0x32604f(0x442)];_0x56484b++){_0x56484b==0x0?_0x2aae00+=_0x32604f(0x234)+_0x56154a[_0x56484b]+_0x32604f(0x34b)+_0x56154a[_0x56484b]+_0x32604f(0x207):_0x2aae00+=_0x32604f(0x234)+_0x56154a[_0x56484b]+'\x27>'+_0x56154a[_0x56484b]+'</option>';}$(_0x32604f(0x224))[_0x32604f(0x464)](_0x2aae00),_0x56154a[_0x32604f(0x442)]==0x1&&$(_0x32604f(0x416))[_0x32604f(0x1f2)](_0x32604f(0x3e7),_0x32604f(0x3e7));}}});function activeTb(_0x81e9f0){var _0x3a89fe=_0x5d4abf;if(_0x81e9f0<0x0||_via_img_count==0x0)return![];return $(_0x3a89fe(0x28e))[_0x3a89fe(0x3f7)]('active'),$(_0x3a89fe(0x246)+_0x81e9f0+'\x27]')[_0x3a89fe(0x1c3)]('active'),!![];}function selectRow(_0xe39879){jump_to_image(_0xe39879);}function removeImage(_0x1d5f44,_0x28f0fa){var _0x13f9bf=_0x5d4abf,_0x45d578=_via_image_id_list[_0x13f9bf(0x3ba)](_0x1d5f44);delete _via_img_metadata[_0x1d5f44],_via_image_id_list['splice'](_0x45d578,0x1),_via_image_filename_list['splice'](_0x45d578,0x1),_via_img_count-=0x1;if(_0x28f0fa<0x0||_via_img_count==0x0)return;_via_buffer_img_index_list=[],$(_0x13f9bf(0x2b9))[_0x13f9bf(0x424)](),_via_show_img(0x0),update_img_fn_list(),_via_reload_img_fn_list_table=!![],console['log'](_0x13f9bf(0x26d)),console['log'](_0x28f0fa);var _0x45d578=_via_image_id_list[_0x13f9bf(0x3ba)](_0x1d5f44);console[_0x13f9bf(0x43e)](_via_img_metadata[_0x1d5f44]),setTimeout(function(){jump_to_image(_0x28f0fa);},0x1f4);}function move_menu(_0x813852){var _0x4e2fec=_0x5d4abf;location[_0x4e2fec(0x1d8)]=location[_0x4e2fec(0x3c5)]+_0x4e2fec(0x405)+_0x813852;}function file_metadata(_0x248de7,_0x2d17e2){var _0x537c31=_0x5d4abf;this[_0x537c31(0x22a)]=_0x248de7,this[_0x537c31(0x499)]=_0x2d17e2,this[_0x537c31(0x1e0)]=[],this[_0x537c31(0x2a9)]={};}function file_region(){this['shape_attributes']={},this['region_attributes']={};}function _via_init(){var _0x3bd4e4=_0x5d4abf;show_message(VIA_NAME+'\x20('+VIA_SHORT_NAME+_0x3bd4e4(0x337)+VIA_VERSION+_0x3bd4e4(0x44d),0x2*VIA_THEME_MESSAGE_TIMEOUT_MS),project_init_default_project(),image_grid_init(),show_single_image_view(),init_leftsidebar_accordion(),attribute_update_panel_set_active_button(),annotation_editor_set_active_button(),init_message_panel(),typeof _via_load_submodules===_0x3bd4e4(0x423)&&(console[_0x3bd4e4(0x43e)](_0x3bd4e4(0x2fc)),setTimeout(init_via_sample,0x64));}async function init_via_sample(){await _via_load_submodules();}function clear_display_area(){var _0x1c9226=_0x5d4abf,_0x3c8124=document[_0x1c9226(0x1d9)]('display_area_content'),_0x537e18;for(_0x537e18=0x0;_0x537e18<_0x3c8124[_0x1c9226(0x442)];++_0x537e18){_0x3c8124[_0x537e18][_0x1c9226(0x32a)]['add']('display_none');}}function is_content_name_valid(_0x4f2fdc){var _0x52b0b3;for(_0x52b0b3 in VIA_DISPLAY_AREA_CONTENT_NAME){if(VIA_DISPLAY_AREA_CONTENT_NAME[_0x52b0b3]===_0x4f2fdc)return!![];}return![];}function show_home_panel(){show_single_image_view();}function set_display_area_content(_0x5ed77f){var _0xd0b52d=_0x5d4abf;if(is_content_name_valid(_0x5ed77f)){_via_display_area_content_name_prev=_via_display_area_content_name,clear_display_area();var _0x55ca56=document[_0xd0b52d(0x2f2)](_0x5ed77f);_0x55ca56[_0xd0b52d(0x32a)][_0xd0b52d(0x424)](_0xd0b52d(0x3f5)),_via_display_area_content_name=_0x5ed77f;}}function show_single_image_view(){var _0x2e1482=_0x5d4abf;if(_via_current_image_loaded){img_fn_list_clear_all_style(),_via_show_img(_via_image_index),set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x2e1482(0x2c7)]),update_annotation_editor();var _0x1a6d7f=document[_0x2e1482(0x2f2)](_0x2e1482(0x1db));_0x1a6d7f[_0x2e1482(0x3a3)][_0x2e1482(0x33a)](_0x2e1482(0x3ee),'#icon_gridon'),_0x1a6d7f[_0x2e1482(0x293)][0x1][_0x2e1482(0x45b)]='Switch\x20to\x20Single\x20Image\x20View';}else set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x2e1482(0x360)]);}function show_image_grid_view(){var _0x39fd41=_0x5d4abf;if(_via_current_image_loaded){img_fn_list_clear_all_style(),set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE_GRID']),image_grid_toolbar_update_group_by_select(),update_annotation_editor();_via_image_grid_group_var['length']===0x0&&image_grid_show_all_project_images();var _0x273189=document[_0x39fd41(0x2f2)](_0x39fd41(0x1db));_0x273189[_0x39fd41(0x3a3)][_0x39fd41(0x33a)]('xlink:href',_0x39fd41(0x41e)),_0x273189[_0x39fd41(0x293)][0x1]['innerHTML']=_0x39fd41(0x2bf);}else set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x39fd41(0x360)]);}function sel_local_images(){var _0x2ddb7d=_0x5d4abf;!isEmpty(_via_img_metadata)?alert(_0x2ddb7d(0x2f0)):invisible_file_input&&(invisible_file_input[_0x2ddb7d(0x33a)]('multiple',_0x2ddb7d(0x259)),invisible_file_input[_0x2ddb7d(0x278)]=_0x2ddb7d(0x1c9),invisible_file_input[_0x2ddb7d(0x328)]=project_file_add_local,invisible_file_input[_0x2ddb7d(0x340)]());}function download_all_region_data(_0x3fca29){var _0x3d5f7d=_0x5d4abf,_0x1bcf64=pack_via_metadata(_0x3fca29),_0x10902a={'type':_0x3d5f7d(0x352)+_0x3fca29+_0x3d5f7d(0x3c1)},_0x1deac7=new Blob(_0x1bcf64,_0x10902a);save_data_to_local_file(_0x1deac7,'via_region_data.'+_0x3fca29);}function sel_local_data_file(_0x5bf9e2){var _0x4302cd=_0x5d4abf;if(invisible_file_input){switch(_0x5bf9e2){case _0x4302cd(0x3a8):invisible_file_input[_0x4302cd(0x278)]=_0x4302cd(0x324),invisible_file_input[_0x4302cd(0x328)]=import_annotations_from_file;break;case'files_url':invisible_file_input[_0x4302cd(0x278)]='',invisible_file_input['onchange']=import_files_url_from_file;break;case _0x4302cd(0x469):invisible_file_input[_0x4302cd(0x278)]=_0x4302cd(0x1ad),invisible_file_input[_0x4302cd(0x328)]=project_import_attributes_from_file;break;default:console[_0x4302cd(0x43e)](_0x4302cd(0x44f)+_0x5bf9e2);return;}invisible_file_input['removeAttribute'](_0x4302cd(0x259)),invisible_file_input[_0x4302cd(0x340)]();}}function import_files_url_from_file(_0x367faf){var _0x224483=_0x5d4abf,_0x46943a=_0x367faf[_0x224483(0x250)][_0x224483(0x25a)],_0x5e1ae5,_0x30a7a9;for(_0x5e1ae5=0x0;_0x5e1ae5<_0x46943a[_0x224483(0x442)];++_0x5e1ae5){_0x30a7a9=_0x46943a[_0x5e1ae5],load_text_file(_0x30a7a9,import_files_url_from_csv);}}function import_annotations_from_file(_0x7cbe10){var _0x3cca6b=_0x5d4abf,_0xafc668=_0x7cbe10[_0x3cca6b(0x250)][_0x3cca6b(0x25a)],_0x1b4612,_0x20594e;for(_0x1b4612=0x0;_0x1b4612<_0xafc668[_0x3cca6b(0x442)];++_0x1b4612){_0x20594e=_0xafc668[_0x1b4612];switch(_0x20594e['type']){case'':show_message(_0x3cca6b(0x37d)+_0x20594e['name']+'\x20cannot\x20be\x20determined!\x20Assuming\x20text/plain.');case _0x3cca6b(0x404):case _0x3cca6b(0x213):case _0x3cca6b(0x2da):load_text_file(_0x20594e,import_annotations_from_csv);break;case _0x3cca6b(0x277):case _0x3cca6b(0x3c3):load_text_file(_0x20594e,import_annotations_from_json);break;default:show_message('Annotations\x20cannot\x20be\x20imported\x20from\x20file\x20of\x20type\x20'+_0x20594e[_0x3cca6b(0x3e3)]);break;}}}function import_annotations_from_csv(_0x4eec9d){return new Promise(function(_0x32bccb,_0x36ac1b){var _0x283b5b=_0x8643;(_0x4eec9d===''||typeof _0x4eec9d===_0x283b5b(0x289))&&_0x36ac1b();var _0x3667cf=0x0,_0x4299ea=0x0,_0x52a7ef=0x0,_0x3a9516=new RegExp(_0x283b5b(0x39f),'g'),_0x2e5a1d=_0x4eec9d[_0x283b5b(0x1ba)](_0x3a9516),_0x1eb120=parse_csv_header_line(_0x2e5a1d[0x0]);!_0x1eb120[_0x283b5b(0x3c7)]&&(show_message(_0x283b5b(0x450)),_0x36ac1b());var _0x1c8afa=0x0,_0x5ef25e=_0x2e5a1d['length'],_0x5e1339,_0x346bdd='';for(_0x5e1339=0x1;_0x5e1339<_0x5ef25e;++_0x5e1339){if(_0x2e5a1d[_0x5e1339][_0x283b5b(0x311)](0x0)==='\x0a'||_0x2e5a1d[_0x5e1339][_0x283b5b(0x311)](0x0)==='')continue;var _0x28e65b=parse_csv_line(_0x2e5a1d[_0x5e1339]);if(_0x28e65b['length']!==_0x1eb120[_0x283b5b(0x418)]){_0x4299ea+=0x1;continue;}var _0x174215=_0x28e65b[_0x1eb120[_0x283b5b(0x254)]],_0xf89604=_0x28e65b[_0x1eb120['size_index']],_0x5890d1=_via_get_image_id(_0x174215,_0xf89604);!_via_img_metadata[_0x283b5b(0x497)](_0x5890d1)&&(_0x5890d1=project_add_new_file(_0x174215,_0xf89604),_via_settings['core']['default_filepath']===''?_via_img_src[_0x5890d1]=_0x174215:_via_file_resolve_file_to_default_filepath(_0x5890d1),_0x52a7ef+=0x1,_0x346bdd===''&&(_0x346bdd=_0x5890d1));if(_0x28e65b[_0x1eb120[_0x283b5b(0x411)]]!=='\x22{}\x22'){var _0xa94ce2=_0x28e65b[_0x1eb120[_0x283b5b(0x411)]];_0xa94ce2=remove_prefix_suffix_quotes(_0xa94ce2),_0xa94ce2=unescape_from_csv(_0xa94ce2);var _0x27b360=json_str_to_map(_0xa94ce2);for(var _0x1ac25a in _0x27b360){_via_img_metadata[_0x5890d1]['file_attributes'][_0x1ac25a]=_0x27b360[_0x1ac25a],!_via_attributes['file']['hasOwnProperty'](_0x1ac25a)&&(_via_attributes[_0x283b5b(0x3eb)][_0x1ac25a]={'type':_0x283b5b(0x263)});}}var _0x27ea1b=new file_region();if(_0x28e65b[_0x1eb120[_0x283b5b(0x48b)]]!==_0x283b5b(0x46f)){var _0x457ce8=_0x28e65b[_0x1eb120[_0x283b5b(0x48b)]];_0x457ce8=remove_prefix_suffix_quotes(_0x457ce8),_0x457ce8=unescape_from_csv(_0x457ce8);var _0x27b360=json_str_to_map(_0x457ce8);for(var _0x1ac25a in _0x27b360){_0x27ea1b[_0x283b5b(0x40a)][_0x1ac25a]=_0x27b360[_0x1ac25a];}}if(_0x28e65b[_0x1eb120[_0x283b5b(0x35f)]]!==_0x283b5b(0x46f)){var _0x4aa77e=_0x28e65b[_0x1eb120['region_attr_index']];_0x4aa77e=remove_prefix_suffix_quotes(_0x4aa77e),_0x4aa77e=unescape_from_csv(_0x4aa77e);var _0x27b360=json_str_to_map(_0x4aa77e);for(var _0x1ac25a in _0x27b360){_0x27ea1b[_0x283b5b(0x270)][_0x1ac25a]=_0x27b360[_0x1ac25a],!_via_attributes[_0x283b5b(0x2a8)]['hasOwnProperty'](_0x1ac25a)&&(_via_attributes['region'][_0x1ac25a]={'type':_0x283b5b(0x263)});}}(Object[_0x283b5b(0x2a3)](_0x27ea1b[_0x283b5b(0x40a)])[_0x283b5b(0x442)]>0x0||Object[_0x283b5b(0x2a3)](_0x27ea1b[_0x283b5b(0x270)])[_0x283b5b(0x442)]>0x0)&&(_via_img_metadata[_0x5890d1]['regions'][_0x283b5b(0x355)](_0x27ea1b),_0x3667cf+=0x1);}show_message('Import\x20Summary\x20:\x20['+_0x52a7ef+']\x20new\x20files,\x20'+'['+_0x3667cf+_0x283b5b(0x1f0)+'['+_0x4299ea+_0x283b5b(0x2b8));_0x52a7ef&&update_img_fn_list();if(_via_current_image_loaded)_0x3667cf&&(update_attributes_update_panel(),update_annotation_editor(),_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas['focus']());else{if(_0x52a7ef){var _0xf783d0=_via_image_id_list[_0x283b5b(0x3ba)](_0x346bdd);_via_show_img(_0xf783d0);}}_0x32bccb([_0x52a7ef,_0x3667cf,_0x4299ea]);});}function parse_csv_header_line(_0x54c1e3){var _0x5b23ec=_0x5d4abf,_0x195816=_0x5b23ec(0x1b3),_0x33e3be='filename,file_size,file_attributes,region_count,region_id,region_shape_attributes,region_attributes';return _0x54c1e3===_0x195816||_0x54c1e3===_0x33e3be?{'is_header':!![],'filename_index':0x0,'size_index':0x1,'file_attr_index':0x2,'region_shape_attr_index':0x5,'region_attr_index':0x6,'csv_column_count':0x7}:{'is_header':![]};}function import_annotations_from_json(_0x58b4e1){return new Promise(function(_0x21cbdc,_0x3054d4){var _0x19e6a1=_0x8643;if(_0x58b4e1===''||typeof _0x58b4e1===_0x19e6a1(0x289))return;var _0x3c4b1c=JSON[_0x19e6a1(0x1bd)](_0x58b4e1),_0x392bd0=0x0,_0x187579=0x0,_0x1dc099=0x0;for(var _0xb825dd in _0x3c4b1c){var _0x403439=_0x3c4b1c[_0xb825dd][_0x19e6a1(0x22a)],_0x14a959=_0x3c4b1c[_0xb825dd][_0x19e6a1(0x499)],_0x408abf=_via_get_image_id(_0x403439,_0x14a959);if(_0x408abf!==_0xb825dd){_0x1dc099+=0x1;continue;}!_via_img_metadata[_0x19e6a1(0x497)](_0xb825dd)&&(_0xb825dd=project_add_new_file(_0x403439,_0x14a959),_via_settings[_0x19e6a1(0x43d)][_0x19e6a1(0x230)]===''?_via_img_src[_0xb825dd]=_0x403439:_via_file_resolve_file_to_default_filepath(_0xb825dd),_0x187579+=0x1);for(var _0x2073f1 in _0x3c4b1c[_0xb825dd]['file_attributes']){!_via_img_metadata[_0xb825dd][_0x19e6a1(0x2a9)][_0x2073f1]&&(_via_img_metadata[_0xb825dd]['file_attributes'][_0x2073f1]=_0x3c4b1c[_0xb825dd][_0x19e6a1(0x2a9)][_0x2073f1]),!_via_attributes[_0x19e6a1(0x3eb)][_0x19e6a1(0x497)](_0x2073f1)&&(_via_attributes['file'][_0x2073f1]={'type':_0x19e6a1(0x263)});}var _0x4441d6=_0x3c4b1c[_0xb825dd][_0x19e6a1(0x1e0)];for(var _0x4f0508 in _0x4441d6){var _0x540150=new file_region();for(var _0x2073f1 in _0x4441d6[_0x4f0508][_0x19e6a1(0x40a)]){_0x540150[_0x19e6a1(0x40a)][_0x2073f1]=_0x4441d6[_0x4f0508][_0x19e6a1(0x40a)][_0x2073f1];}for(var _0x2073f1 in _0x4441d6[_0x4f0508][_0x19e6a1(0x270)]){_0x540150[_0x19e6a1(0x270)][_0x2073f1]=_0x4441d6[_0x4f0508][_0x19e6a1(0x270)][_0x2073f1],!_via_attributes[_0x19e6a1(0x2a8)]['hasOwnProperty'](_0x2073f1)&&(_via_attributes['region'][_0x2073f1]={'type':_0x19e6a1(0x263)});}(Object[_0x19e6a1(0x2a3)](_0x540150[_0x19e6a1(0x40a)])['length']>0x0||Object[_0x19e6a1(0x2a3)](_0x540150[_0x19e6a1(0x270)])[_0x19e6a1(0x442)]>0x0)&&(_via_img_metadata[_0xb825dd][_0x19e6a1(0x1e0)][_0x19e6a1(0x355)](_0x540150),_0x392bd0+=0x1);}}show_message(_0x19e6a1(0x26f)+_0x187579+']\x20new\x20files,\x20'+'['+_0x392bd0+_0x19e6a1(0x1f0)+'['+_0x1dc099+']\x20malformed\x20entries.'),_0x187579&&update_img_fn_list(),_via_current_image_loaded?_0x392bd0&&(update_attributes_update_panel(),update_annotation_editor(),_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas[_0x19e6a1(0x466)]()):_0x187579&&_via_show_img(0x0),_0x21cbdc([_0x187579,_0x392bd0,_0x1dc099]);});}function parse_csv_line(_0x2e669f,_0x138936){var _0x44da40=_0x5d4abf;if(typeof _0x2e669f===_0x44da40(0x289)||_0x2e669f['length']===0x0)return[];typeof _0x138936===_0x44da40(0x289)&&(_0x138936=',');var _0xf665fe=![],_0x1c9b18=0x0,_0x30bbef=[],_0x4fb096=0x0;while(_0x4fb096<_0x2e669f[_0x44da40(0x442)]){_0x2e669f[_0x44da40(0x311)](_0x4fb096)===_0x138936?_0xf665fe?_0x4fb096=_0x4fb096+0x1:(_0x30bbef['push'](_0x2e669f[_0x44da40(0x38b)](_0x1c9b18,_0x4fb096-_0x1c9b18)),_0x1c9b18=_0x4fb096+0x1,_0x4fb096=_0x4fb096+0x1):_0x2e669f[_0x44da40(0x311)](_0x4fb096)==='\x22'?_0xf665fe?_0x2e669f[_0x44da40(0x311)](_0x4fb096+0x1)==='\x22'?_0x4fb096=_0x4fb096+0x2:(_0xf665fe=![],_0x4fb096=_0x4fb096+0x1):(_0xf665fe=!![],_0x1c9b18=_0x4fb096,_0x4fb096=_0x4fb096+0x1):_0x4fb096=_0x4fb096+0x1;}return _0x30bbef[_0x44da40(0x355)](_0x2e669f[_0x44da40(0x38b)](_0x1c9b18)),_0x30bbef;}function json_str_to_map(_0x22cc38){var _0x302194=_0x5d4abf;if(typeof _0x22cc38==='undefined'||_0x22cc38[_0x302194(0x442)]===0x0)return{};return JSON[_0x302194(0x1bd)](_0x22cc38);}function map_to_json(_0x263d99){var _0x2a9069=_0x5d4abf,_0x19874f=[];for(var _0x5876d6 in _0x263d99){var _0x2368ba=_0x263d99[_0x5876d6],_0x3d8091=JSON[_0x2a9069(0x3d3)](_0x5876d6);_0x3d8091+=VIA_CSV_KEYVAL_SEP,_0x3d8091+=JSON[_0x2a9069(0x3d3)](_0x2368ba),_0x19874f[_0x2a9069(0x355)](_0x3d8091);}return'{'+_0x19874f['join'](VIA_CSV_SEP)+'}';}function escape_for_csv(_0x2905b1){var _0x347aee=_0x5d4abf;return _0x2905b1[_0x347aee(0x1ff)](/["]/g,'\x22\x22');}function unescape_from_csv(_0x278f3a){var _0x2175e0=_0x5d4abf;return _0x278f3a[_0x2175e0(0x1ff)](/""/g,'\x22');}function remove_prefix_suffix_quotes(_0x313496){var _0x38d484=_0x5d4abf;return _0x313496[_0x38d484(0x311)](0x0)==='\x22'&&_0x313496[_0x38d484(0x311)](_0x313496[_0x38d484(0x442)]-0x1)==='\x22'?_0x313496[_0x38d484(0x38b)](0x1,_0x313496[_0x38d484(0x442)]-0x2):_0x313496;}function clone_image_region(_0x1e5e08){var _0x3d2ba1=_0x5d4abf,_0x2c0f4e=new file_region();for(var _0x5bf38c in _0x1e5e08['shape_attributes']){_0x2c0f4e[_0x3d2ba1(0x40a)][_0x5bf38c]=clone_value(_0x1e5e08[_0x3d2ba1(0x40a)][_0x5bf38c]);}for(var _0x5bf38c in _0x1e5e08['region_attributes']){_0x2c0f4e[_0x3d2ba1(0x270)][_0x5bf38c]=clone_value(_0x1e5e08[_0x3d2ba1(0x270)][_0x5bf38c]);}return _0x2c0f4e;}function clone_value(_0x2ca3e3){var _0x1aa92b=_0x5d4abf;if(typeof _0x2ca3e3===_0x1aa92b(0x23a)){if(Array[_0x1aa92b(0x24b)](_0x2ca3e3))return _0x2ca3e3[_0x1aa92b(0x1af)](0x0);else{var _0x53962b={};for(var _0x31bb07 in _0x2ca3e3){_0x2ca3e3[_0x1aa92b(0x497)](_0x31bb07)&&(_0x53962b[_0x31bb07]=clone_value(_0x2ca3e3[_0x31bb07]));}return _0x53962b;}}return _0x2ca3e3;}function _via_get_image_id(_0x432ef4,_0x33bb69){return typeof _0x33bb69==='undefined'?_0x432ef4:_0x432ef4+_0x33bb69;}function load_text_file(_0x479ad7,_0x5b3c6c){var _0x3208a6=_0x5d4abf;if(_0x479ad7){var _0x3615cd=new FileReader();_0x3615cd[_0x3208a6(0x391)](_0x3208a6(0x2fd),function(_0x2b5378){var _0x199779=_0x3208a6;show_message(_0x199779(0x48f)+_0x479ad7[_0x199779(0x395)]+'\x20...\x20');},![]),_0x3615cd['addEventListener'](_0x3208a6(0x481),function(){var _0x7e749f=_0x3208a6;show_message(_0x7e749f(0x27c)+_0x479ad7[_0x7e749f(0x395)]+'\x20!'),_0x5b3c6c('');},![]),_0x3615cd[_0x3208a6(0x391)](_0x3208a6(0x35b),function(){var _0x1b5fd1=_0x3208a6;_0x5b3c6c(_0x3615cd[_0x1b5fd1(0x485)]);},![]),_0x3615cd[_0x3208a6(0x3cb)](_0x479ad7,_0x3208a6(0x3ff));}}function import_files_url_from_csv(_0x5f1808){return new Promise(function(_0x48bc57,_0x3ec1f6){var _0x15dd7e=_0x8643;(_0x5f1808===''||typeof _0x5f1808===_0x15dd7e(0x289))&&_0x3ec1f6();var _0x558137=0x0,_0x56f042=0x0,_0x3987d0=new RegExp(_0x15dd7e(0x39f),'g'),_0x4cc78a=_0x5f1808['split'](_0x3987d0),_0x2da602=0x0,_0x1c9a1a=_0x4cc78a[_0x15dd7e(0x442)],_0x49f6ce,_0x28a3a9,_0x3c1aac='';for(_0x49f6ce=0x0;_0x49f6ce<_0x1c9a1a;++_0x49f6ce){if(_0x4cc78a[_0x49f6ce]['charAt'](0x0)==='\x0a'||_0x4cc78a[_0x49f6ce][_0x15dd7e(0x311)](0x0)===''){_0x558137+=0x1;continue;}else _0x28a3a9=project_file_add_url(_0x4cc78a[_0x49f6ce]),_0x3c1aac===''&&(_0x3c1aac=_0x28a3a9),_0x56f042+=0x1;}show_message(_0x15dd7e(0x1d6)+_0x56f042+_0x15dd7e(0x261));if(_0x56f042){var _0x210a0e=_via_image_id_list[_0x15dd7e(0x3ba)](_0x3c1aac);_via_show_img(_0x210a0e),update_img_fn_list();}});}function needMsg(_0x18af74,_0x1c700c,_0xf3b621,_0x5ced0c){var _0x1d75eb=_0x5d4abf;if(_0x18af74=='menu_2'){let _0x371b20=_0x1c700c/_0xf3b621,_0x536cc5=Math[_0x1d75eb(0x2e9)](1.82-_0x371b20,0x2),_0x563d03=Math['pow'](3.53-_0x371b20,0x2);if(_0x536cc5>_0x563d03){if(_0x5ced0c[_0x1d75eb(0x3ba)]('\x20')==-0x1)return _0x1d75eb(0x287);}}return'';}function data2input(_0xb6c2ec,_0x24716a,_0x1e98ab,_0xe183e2){var _0x597f98=_0x5d4abf,_0x586907=[],_0x3fae37='';for(var _0x18747d=0x0;_0x18747d<_0xb6c2ec[_0x597f98(0x442)];++_0x18747d){var _0x48d0a5={};_0x48d0a5[_0x597f98(0x22a)]=_0x24716a,_0x48d0a5[_0x597f98(0x2ca)]=_0x1e98ab,_0x48d0a5[_0x597f98(0x382)]=_0xe183e2;var _0x5c0554=_0xb6c2ec[_0x18747d][_0x597f98(0x40a)];console[_0x597f98(0x43e)]('sattr:',_0x5c0554);for(var _0x1b3d7a in _0x5c0554){var _0x4af80e=_0x5c0554[_0x1b3d7a];if('x'==_0x1b3d7a)_0x48d0a5[_0x597f98(0x248)]=_0x4af80e;else{if('y'==_0x1b3d7a)_0x48d0a5[_0x597f98(0x301)]=_0x4af80e;else{if(_0x597f98(0x335)==_0x1b3d7a)_0x48d0a5[_0x597f98(0x251)]=_0x4af80e;else{if(_0x597f98(0x3f2)==_0x1b3d7a)_0x48d0a5[_0x597f98(0x316)]=_0x4af80e;else{if(_0x597f98(0x2f7)==_0x1b3d7a)_0x48d0a5[_0x597f98(0x30b)]=_0x4af80e;else{if(_0x597f98(0x3f9)==_0x1b3d7a)_0x48d0a5[_0x597f98(0x3f9)]=_0x4af80e;else{if('img_height'==_0x1b3d7a)_0x48d0a5[_0x597f98(0x1f8)]=_0x4af80e;else _0x597f98(0x314)==_0x1b3d7a&&(_0x4af80e==undefined||_0x4af80e==null||_0x4af80e==''?_0x48d0a5[_0x597f98(0x314)]=$(_0x597f98(0x244))['val']():_0x48d0a5[_0x597f98(0x314)]=_0x4af80e);}}}}}}}_0x48d0a5[_0x597f98(0x2e4)]=_0x48d0a5[_0x597f98(0x248)]+_0x48d0a5[_0x597f98(0x251)],_0x48d0a5[_0x597f98(0x417)]=_0x48d0a5[_0x597f98(0x301)]+_0x48d0a5[_0x597f98(0x316)],_0x48d0a5[_0x597f98(0x373)]=(_0x48d0a5['detect_box_xmin']+_0x48d0a5['detect_box_xmax'])/0x2,_0x48d0a5[_0x597f98(0x274)]=(_0x48d0a5['detect_box_ymin']+_0x48d0a5[_0x597f98(0x417)])/0x2;if(_0x48d0a5[_0x597f98(0x2e4)]/_0x48d0a5[_0x597f98(0x3f9)]>0x1||_0x48d0a5[_0x597f98(0x417)]/_0x48d0a5[_0x597f98(0x1f8)]>0x1||_0x48d0a5[_0x597f98(0x248)]/_0x48d0a5['img_width']<0x0||_0x48d0a5[_0x597f98(0x301)]/_0x48d0a5['img_height']<0x0){_0x3fae37+=_0x48d0a5[_0x597f98(0x382)]+',';continue;}var _0x549c61=_0xb6c2ec[_0x18747d][_0x597f98(0x270)],_0x13a51e=![];for(var _0x1b3d7a in _0x549c61){var _0x4af80e=_0x549c61[_0x1b3d7a];if(''==_0x4af80e||undefined==_0x4af80e||null==_0x4af80e)continue;if(_0x597f98(0x498)==_0x1b3d7a)_0x48d0a5['detect_label_name']=_0x4af80e,_0x13a51e=!![];else _0x597f98(0x215)==_0x1b3d7a&&(_0x48d0a5[_0x597f98(0x215)]=_0x4af80e,_0x13a51e=!![]);}console['log']('detect:',_0x48d0a5),_0x13a51e&&_0x586907[_0x597f98(0x355)](_0x48d0a5);}return _0x3fae37!=''&&(_0x3fae37=_0x3fae37[_0x597f98(0x376)](0x0,_0x3fae37[_0x597f98(0x442)]-0x1),alert(_0x597f98(0x413)+_0x3fae37+']')),_0x586907;}function closeLoading(){_hideLoading();}function pack_via_metadata(_0x377891){var _0x3b1e87=_0x5d4abf;if(_0x377891===_0x3b1e87(0x280)){var _0x4c90ec=[],_0x4fa021='filename,file_size,file_attributes,region_count,region_id,region_shape_attributes,region_attributes';_0x4c90ec['push'](_0x4fa021);for(var _0x5dcad1 in _via_img_metadata){var _0x3e2004=map_to_json(_via_img_metadata[_0x5dcad1]['file_attributes']);_0x3e2004=escape_for_csv(_0x3e2004);var _0x27aa8d='\x0a'+_via_img_metadata[_0x5dcad1][_0x3b1e87(0x22a)];_0x27aa8d+=','+_via_img_metadata[_0x5dcad1]['size'],_0x27aa8d+=',\x22'+_0x3e2004+'\x22';var _0x5841b5=_via_img_metadata[_0x5dcad1]['regions'];if(_0x5841b5[_0x3b1e87(0x442)]!==0x0)for(var _0x597f01=0x0;_0x597f01<_0x5841b5['length'];++_0x597f01){var _0x26bd89=[];_0x26bd89['push'](_0x27aa8d),_0x26bd89['push'](_0x5841b5[_0x3b1e87(0x442)]),_0x26bd89[_0x3b1e87(0x355)](_0x597f01);var _0x236394=map_to_json(_0x5841b5[_0x597f01][_0x3b1e87(0x40a)]);_0x236394='\x22'+escape_for_csv(_0x236394)+'\x22',_0x26bd89['push'](_0x236394);var _0x3b51b6=map_to_json(_0x5841b5[_0x597f01][_0x3b1e87(0x270)]);_0x3b51b6='\x22'+escape_for_csv(_0x3b51b6)+'\x22',_0x26bd89['push'](_0x3b51b6),_0x4c90ec[_0x3b1e87(0x355)](_0x26bd89[_0x3b1e87(0x323)](VIA_CSV_SEP));}else _0x4c90ec['push'](_0x27aa8d+_0x3b1e87(0x39c));}return closeLoading(),_0x4c90ec,mt_anno;}else{if(_0x377891===_0x3b1e87(0x1ca)){if(updating){closeLoading();return;}var _0x19a347=[];console['log'](_0x3b1e87(0x47b),isEmpty(_via_img_metadata));if(isEmpty(_via_img_metadata))alert(_0x3b1e87(0x1ed));else{for(var _0x5dcad1 in _via_img_metadata){var _0x3e2004=_via_img_metadata[_0x5dcad1][_0x3b1e87(0x2a9)],_0x327bf8=_via_img_metadata[_0x5dcad1]['filename'],_0x38b080=_via_img_metadata[_0x5dcad1][_0x3b1e87(0x499)],_0x5841b5=_via_img_metadata[_0x5dcad1][_0x3b1e87(0x1e0)];if(_0x5841b5[_0x3b1e87(0x442)]==0x0){var _0x80e9=confirm(_0x3b1e87(0x27a)+_0x5dcad1+_0x3b1e87(0x390));if(_0x80e9==!![]){var _0x4de641=_via_image_filename_list[_0x3b1e87(0x475)](function(_0x2c4b2e){return closeLoading(),_0x2c4b2e==_0x327bf8;});selectRow(_0x4de641),closeLoading();return;}else continue;}var _0x4c720d=data2input(_0x5841b5,_0x327bf8,_0x38b080,_0x5dcad1);_0x19a347=_0x19a347[_0x3b1e87(0x31c)](_0x4c720d);}console[_0x3b1e87(0x43e)](_0x19a347),updating=!![];}}else return closeLoading(),[JSON[_0x3b1e87(0x3d3)](_via_img_metadata)];}}function save_data_to_local_file(_0x1e7caa,_0x43be62){var _0x54411d=_0x5d4abf,_0x50a553=document[_0x54411d(0x237)]('a');_0x50a553[_0x54411d(0x1d8)]=URL['createObjectURL'](_0x1e7caa),_0x50a553['target']='_blank',_0x50a553[_0x54411d(0x275)]=_0x43be62;var _0x397816=new MouseEvent(_0x54411d(0x340),{'view':window,'bubbles':!![],'cancelable':!![]});_0x50a553[_0x54411d(0x1cc)](_0x397816);}function init_message_panel(){var _0x38fa62=_0x5d4abf,_0x309bff=document[_0x38fa62(0x2f2)](_0x38fa62(0x383));_0x309bff[_0x38fa62(0x391)](_0x38fa62(0x49d),function(){var _0x598dcf=_0x38fa62;this[_0x598dcf(0x1bf)][_0x598dcf(0x426)]='none';},![]),_0x309bff[_0x38fa62(0x391)](_0x38fa62(0x3d8),function(){clearTimeout(_via_message_clear_timer);},![]);}function show_message(_0x4ca7b6,_0x2d1ccf){}function _via_load_canvas_regions(){var _0x392cb2=_0x5d4abf,_0x5c6d46=_via_img_metadata[_via_image_id][_0x392cb2(0x1e0)];_via_canvas_regions=[];for(var _0x2b0793=0x0;_0x2b0793<_0x5c6d46[_0x392cb2(0x442)];++_0x2b0793){var _0x5d40e0=new file_region();for(var _0x35fe86 in _0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]){_0x5d40e0[_0x392cb2(0x40a)][_0x35fe86]=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)][_0x35fe86];}_via_canvas_regions['push'](_0x5d40e0);switch(_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x395)]){case VIA_REGION_SHAPE[_0x392cb2(0x428)]:var _0x2cf279=_0x5c6d46[_0x2b0793]['shape_attributes']['x']/_via_canvas_scale,_0x57cf89=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['y']/_via_canvas_scale,_0x34f923=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x335)]/_via_canvas_scale,_0x570a91=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['height']/_via_canvas_scale;_via_canvas_regions[_0x2b0793]['shape_attributes']['x']=Math['round'](_0x2cf279),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['y']=Math[_0x392cb2(0x2b4)](_0x57cf89),_via_canvas_regions[_0x2b0793]['shape_attributes'][_0x392cb2(0x335)]=Math['round'](_0x34f923),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x3f2)]=Math[_0x392cb2(0x2b4)](_0x570a91);break;case VIA_REGION_SHAPE[_0x392cb2(0x2ef)]:var _0xbfb394=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['cx']/_via_canvas_scale,_0x3c3339=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['cy']/_via_canvas_scale,_0x28f3e0=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['r']/_via_canvas_scale;_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['cx']=Math[_0x392cb2(0x2b4)](_0xbfb394),_via_canvas_regions[_0x2b0793]['shape_attributes']['cy']=Math['round'](_0x3c3339),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['r']=Math[_0x392cb2(0x2b4)](_0x28f3e0);break;case VIA_REGION_SHAPE[_0x392cb2(0x336)]:var _0xbfb394=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['cx']/_via_canvas_scale,_0x3c3339=_0x5c6d46[_0x2b0793]['shape_attributes']['cy']/_via_canvas_scale,_0x8bf62d=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['rx']/_via_canvas_scale,_0x363877=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['ry']/_via_canvas_scale;_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['cx']=Math[_0x392cb2(0x2b4)](_0xbfb394),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['cy']=Math[_0x392cb2(0x2b4)](_0x3c3339),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['rx']=Math[_0x392cb2(0x2b4)](_0x8bf62d),_via_canvas_regions[_0x2b0793]['shape_attributes']['ry']=Math[_0x392cb2(0x2b4)](_0x363877);break;case VIA_REGION_SHAPE[_0x392cb2(0x2cb)]:case VIA_REGION_SHAPE['POLYGON']:var _0x45e208=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x1c4)]['slice'](0x0),_0x222197=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x1b7)][_0x392cb2(0x1af)](0x0);for(var _0x31d441=0x0;_0x31d441<_0x45e208['length'];++_0x31d441){_0x45e208[_0x31d441]=Math['round'](_0x45e208[_0x31d441]/_via_canvas_scale),_0x222197[_0x31d441]=Math['round'](_0x222197[_0x31d441]/_via_canvas_scale);}_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x1c4)]=_0x45e208,_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)][_0x392cb2(0x1b7)]=_0x222197;break;case VIA_REGION_SHAPE['POINT']:var _0xbfb394=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['cx']/_via_canvas_scale,_0x3c3339=_0x5c6d46[_0x2b0793][_0x392cb2(0x40a)]['cy']/_via_canvas_scale;_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['cx']=Math[_0x392cb2(0x2b4)](_0xbfb394),_via_canvas_regions[_0x2b0793][_0x392cb2(0x40a)]['cy']=Math['round'](_0x3c3339);break;}}}function select_region_shape(_0x3c6854){var _0x2d4b68=_0x5d4abf;for(var _0xb490b3 in VIA_REGION_SHAPE){var _0x46a15b=document[_0x2d4b68(0x2f2)](_0x2d4b68(0x2bc)+VIA_REGION_SHAPE[_0xb490b3]);console[_0x2d4b68(0x43e)](_0x46a15b),_0x46a15b[_0x2d4b68(0x32a)]['remove']('selected');}_via_current_shape=_0x3c6854;var _0x46a15b=document[_0x2d4b68(0x2f2)](_0x2d4b68(0x2bc)+_via_current_shape);_0x46a15b[_0x2d4b68(0x32a)][_0x2d4b68(0x21b)](_0x2d4b68(0x3e7));switch(_via_current_shape){case VIA_REGION_SHAPE[_0x2d4b68(0x428)]:case VIA_REGION_SHAPE[_0x2d4b68(0x2ef)]:case VIA_REGION_SHAPE[_0x2d4b68(0x336)]:show_message('Press\x20single\x20click\x20and\x20drag\x20mouse\x20to\x20draw\x20'+_via_current_shape+_0x2d4b68(0x472));break;case VIA_REGION_SHAPE[_0x2d4b68(0x2cb)]:case VIA_REGION_SHAPE[_0x2d4b68(0x24a)]:_via_is_user_drawing_polygon=![],_via_current_polygon_region_id=-0x1,show_message(_0x2d4b68(0x26c)+_0x2d4b68(0x3da));break;case VIA_REGION_SHAPE['POINT']:show_message(_0x2d4b68(0x474));break;default:show_message(_0x2d4b68(0x27b));break;}}function set_all_canvas_size(_0x4a4032,_0x4bf009){var _0x3b4790=_0x5d4abf;_via_reg_canvas[_0x3b4790(0x3f2)]=_0x4bf009,_via_reg_canvas[_0x3b4790(0x335)]=_0x4a4032,image_panel[_0x3b4790(0x1bf)][_0x3b4790(0x3f2)]=_0x4bf009+'px',image_panel[_0x3b4790(0x1bf)][_0x3b4790(0x335)]=_0x4a4032+'px';}function set_all_canvas_scale(_0x1eaca2){var _0x45a858=_0x5d4abf;_via_reg_ctx[_0x45a858(0x433)](_0x1eaca2,_0x1eaca2);}function show_all_canvas(){var _0x290d06=_0x5d4abf;image_panel[_0x290d06(0x1bf)]['display']=_0x290d06(0x347);}function hide_all_canvas(){var _0x319c03=_0x5d4abf;image_panel[_0x319c03(0x1bf)]['display']='none';}function jump_to_image(_0x4e7f60){var _0x3f1dd4=_0x5d4abf;if(_via_img_count<=0x0)return;curr_image_no=_0x4e7f60;!(_0x4e7f60 in clicked_img_list)&&clicked_img_list[_0x3f1dd4(0x355)](_0x4e7f60);switch(_via_display_area_content_name){case VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE_GRID']:_0x4e7f60>=0x0&&_0x4e7f60<_via_img_count&&(console[_0x3f1dd4(0x43e)](_0x3f1dd4(0x3d9)+_0x4e7f60),img_fn_list_clear_css_classname(_0x3f1dd4(0x25f)),image_grid_jump_to_page_with_first_img_index(_0x4e7f60));break;default:_0x4e7f60>=0x0&&_0x4e7f60<_via_img_count&&_via_show_img(_0x4e7f60);break;}}function count_missing_region_attr(_0xec25de){var _0x4b3188=_0x5d4abf,_0x3498ef=0x0,_0x2787a0=Object['keys'](_via_region_attributes)[_0x4b3188(0x442)];for(var _0x42537f=0x0;_0x42537f<_via_img_metadata[_0xec25de][_0x4b3188(0x1e0)][_0x4b3188(0x442)];++_0x42537f){var _0x31b1e5=Object[_0x4b3188(0x2a3)](_via_img_metadata[_0xec25de][_0x4b3188(0x1e0)][_0x42537f]['region_attributes'])[_0x4b3188(0x442)];_0x3498ef+=_0x2787a0-_0x31b1e5;}return _0x3498ef;}function count_missing_file_attr(_0x4758ac){var _0xe9449c=_0x5d4abf;return Object['keys'](_via_file_attributes)[_0xe9449c(0x442)]-Object['keys'](_via_img_metadata[_0x4758ac][_0xe9449c(0x2a9)])[_0xe9449c(0x442)];}function toggle_all_regions_selection(_0x50b4ff){var _0x923e59=_0x5d4abf,_0x8a5098=_via_img_metadata[_via_image_id][_0x923e59(0x1e0)][_0x923e59(0x442)],_0x5e4926;for(_0x5e4926=0x0;_0x5e4926<_0x8a5098;++_0x5e4926){_via_region_selected_flag[_0x5e4926]=_0x50b4ff;}_via_is_all_region_selected=_0x50b4ff;}function select_only_region(_0x36b564){toggle_all_regions_selection(![]),set_region_select_state(_0x36b564,!![]),_via_is_region_selected=!![],_via_user_sel_region_id=_0x36b564;}function set_region_select_state(_0x19b803,_0x2b195d){_via_region_selected_flag[_0x19b803]=_0x2b195d;}function show_annotation_data(){var _0x57852a=_0x5d4abf,_0x30df36=_0x57852a(0x30a)+pack_via_metadata(_0x57852a(0x280))[_0x57852a(0x323)]('')+'</pre>',_0x782894='toolbar=no,menubar=no,location=no,resizable=yes,scrollbars=yes,status=no';_0x782894+=',width=800,height=600';var _0x27bc29=window[_0x57852a(0x49f)]('',_0x57852a(0x21d),_0x782894);_0x27bc29[_0x57852a(0x2ae)][_0x57852a(0x23c)][_0x57852a(0x45b)]=_0x30df36;}_mouse_down_clicked=![],_via_reg_canvas[_0x5d4abf(0x391)](_0x5d4abf(0x49d),function(_0xaa834d){var _0x2b3650=_0x5d4abf;if(_via_is_ctrl_pressed){_mouse_down_clicked=!![],_0xaa834d[_0x2b3650(0x3ea)]();return;}_via_click_x0=_0xaa834d[_0x2b3650(0x460)],_via_click_y0=_0xaa834d['offsetY'],_via_region_edge=is_on_region_corner(_via_click_x0,_via_click_y0);var _0x8ff6d6=is_inside_region(_via_click_x0,_via_click_y0);if(_via_is_region_selected){if(_via_region_edge[0x1]>0x0)!_via_is_user_resizing_region&&(_via_region_edge[0x0]!==_via_user_sel_region_id&&(_via_user_sel_region_id=_via_region_edge[0x0]),_via_is_user_resizing_region=!![]);else{var _0x23e92d=is_inside_this_region(_via_click_x0,_via_click_y0,_via_user_sel_region_id);_0x23e92d&&(!_via_is_user_moving_region&&(_via_is_user_moving_region=!![],_via_region_click_x=_via_click_x0,_via_region_click_y=_via_click_y0)),_0x8ff6d6===-0x1&&(_via_is_user_drawing_region=!![],_via_is_region_selected=![],_via_user_sel_region_id=-0x1,toggle_all_regions_selection(![]));}}else _0x8ff6d6===-0x1?_via_current_shape!==VIA_REGION_SHAPE[_0x2b3650(0x24a)]&&_via_current_shape!==VIA_REGION_SHAPE[_0x2b3650(0x2cb)]&&_via_current_shape!==VIA_REGION_SHAPE['POINT']&&(_via_is_user_drawing_region=!![]):_via_is_user_drawing_region=!![];_0xaa834d[_0x2b3650(0x3ea)]();},![]),_via_reg_canvas['addEventListener']('mouseup',function(_0xe578e9){var _0x2f5a23=_0x5d4abf;if(_via_is_ctrl_pressed){_mouse_down_clicked=![],_0xe578e9[_0x2f5a23(0x3ea)]();return;}_via_click_x1=_0xe578e9[_0x2f5a23(0x460)],_via_click_y1=_0xe578e9['offsetY'];var _0x32d459=Math[_0x2f5a23(0x369)](_via_click_x1-_via_click_x0),_0x3573f1=Math['abs'](_via_click_y1-_via_click_y0);if(_via_is_user_moving_region){_via_is_user_moving_region=![],_via_reg_canvas[_0x2f5a23(0x1bf)][_0x2f5a23(0x3a4)]=_0x2f5a23(0x47f);var _0x88917e=Math[_0x2f5a23(0x2b4)](_via_click_x1-_via_region_click_x),_0x28e774=Math[_0x2f5a23(0x2b4)](_via_click_y1-_via_region_click_y);if(Math[_0x2f5a23(0x369)](_0x88917e)>VIA_MOUSE_CLICK_TOL||Math[_0x2f5a23(0x369)](_0x28e774)>VIA_MOUSE_CLICK_TOL)_via_move_selected_regions(_0x88917e,_0x28e774);else{var _0x241cbc=is_inside_region(_via_click_x0,_via_click_y0,!![]);if(_0x241cbc>=0x0&&_0x241cbc!==_via_user_sel_region_id)_via_user_sel_region_id=_0x241cbc,_via_is_region_selected=!![],_via_is_user_moving_region=![],!_0xe578e9[_0x2f5a23(0x2ad)]&&toggle_all_regions_selection(![]),set_region_select_state(_0x241cbc,!![]),update_annotation_editor();else{toggle_all_regions_selection(![]),_via_is_region_selected=![];switch(_via_current_shape){case VIA_REGION_SHAPE[_0x2f5a23(0x2cb)]:case VIA_REGION_SHAPE[_0x2f5a23(0x24a)]:_via_is_user_drawing_polygon=!![];var _0x65a467=new file_region();_0x65a467[_0x2f5a23(0x40a)][_0x2f5a23(0x395)]=_via_current_shape,_0x65a467[_0x2f5a23(0x40a)]['all_points_x']=[Math[_0x2f5a23(0x2b4)](_via_click_x0)],_0x65a467[_0x2f5a23(0x40a)]['all_points_y']=[Math[_0x2f5a23(0x2b4)](_via_click_y0)];var _0x465521=_via_canvas_regions[_0x2f5a23(0x355)](_0x65a467);_via_current_polygon_region_id=_0x465521-0x1;break;case VIA_REGION_SHAPE[_0x2f5a23(0x3b6)]:var _0x3b47d0=new file_region();_0x3b47d0['shape_attributes']['name']=VIA_REGION_SHAPE[_0x2f5a23(0x3b6)],_0x3b47d0[_0x2f5a23(0x40a)]['cx']=Math[_0x2f5a23(0x2b4)](_via_click_x0*_via_canvas_scale),_0x3b47d0[_0x2f5a23(0x40a)]['cy']=Math['round'](_via_click_y0*_via_canvas_scale),_via_img_metadata[_via_image_id]['regions'][_0x2f5a23(0x355)](_0x3b47d0);var _0x373716=new file_region();_0x373716[_0x2f5a23(0x40a)]['name']=VIA_REGION_SHAPE[_0x2f5a23(0x3b6)],_0x373716[_0x2f5a23(0x40a)]['cx']=Math['round'](_via_click_x0),_0x373716['shape_attributes']['cy']=Math[_0x2f5a23(0x2b4)](_via_click_y0),_via_canvas_regions[_0x2f5a23(0x355)](_0x373716);break;}update_annotation_editor();}}_via_redraw_reg_canvas(),_via_reg_canvas[_0x2f5a23(0x466)]();return;}if(_via_is_user_resizing_region){_via_is_user_resizing_region=![],_via_reg_canvas[_0x2f5a23(0x1bf)]['cursor']=_0x2f5a23(0x47f);var _0x14cf3d=_via_region_edge[0x0],_0x46d9ff=_via_img_metadata[_via_image_id][_0x2f5a23(0x1e0)][_0x14cf3d][_0x2f5a23(0x40a)],_0x216ee7=_via_canvas_regions[_0x14cf3d][_0x2f5a23(0x40a)];switch(_0x216ee7[_0x2f5a23(0x395)]){case VIA_REGION_SHAPE['RECT']:var _0x40903a=[_0x216ee7['x'],_0x216ee7['y'],0x0,0x0];_0x40903a[0x2]=_0x40903a[0x0]+_0x216ee7[_0x2f5a23(0x335)],_0x40903a[0x3]=_0x40903a[0x1]+_0x216ee7['height'];var _0x278cdf=_via_current_x,_0x2703d3=_via_current_y,_0x10fe99=![];_via_is_ctrl_pressed&&(_0x10fe99=!![]);rect_update_corner(_via_region_edge[0x1],_0x40903a,_0x278cdf,_0x2703d3,_0x10fe99),rect_standardize_coordinates(_0x40903a);var _0x4fff64=Math[_0x2f5a23(0x369)](_0x40903a[0x2]-_0x40903a[0x0]),_0x18262b=Math['abs'](_0x40903a[0x3]-_0x40903a[0x1]);_0x46d9ff['x']=Math[_0x2f5a23(0x2b4)](_0x40903a[0x0]*_via_canvas_scale),_0x46d9ff['y']=Math[_0x2f5a23(0x2b4)](_0x40903a[0x1]*_via_canvas_scale),_0x46d9ff[_0x2f5a23(0x335)]=Math['round'](_0x4fff64*_via_canvas_scale),_0x46d9ff[_0x2f5a23(0x3f2)]=Math[_0x2f5a23(0x2b4)](_0x18262b*_via_canvas_scale),_0x216ee7['x']=Math['round'](_0x46d9ff['x']/_via_canvas_scale),_0x216ee7['y']=Math['round'](_0x46d9ff['y']/_via_canvas_scale),_0x216ee7['width']=Math['round'](_0x46d9ff[_0x2f5a23(0x335)]/_via_canvas_scale),_0x216ee7[_0x2f5a23(0x3f2)]=Math[_0x2f5a23(0x2b4)](_0x46d9ff[_0x2f5a23(0x3f2)]/_via_canvas_scale);break;case VIA_REGION_SHAPE[_0x2f5a23(0x2ef)]:var _0x59178b=Math['abs'](_0x216ee7['cx']-_via_current_x),_0x6f06d1=Math['abs'](_0x216ee7['cy']-_via_current_y),_0x31cb35=Math['sqrt'](_0x59178b*_0x59178b+_0x6f06d1*_0x6f06d1);_0x46d9ff['r']=Math['round'](_0x31cb35*_via_canvas_scale),_0x216ee7['r']=Math[_0x2f5a23(0x2b4)](_0x46d9ff['r']/_via_canvas_scale);break;case VIA_REGION_SHAPE[_0x2f5a23(0x336)]:var _0x599c06=_0x216ee7['rx'],_0x27b9c5=_0x216ee7['ry'],_0x59178b=Math[_0x2f5a23(0x369)](_0x216ee7['cx']-_via_current_x),_0x6f06d1=Math[_0x2f5a23(0x369)](_0x216ee7['cy']-_via_current_y);switch(_via_region_edge[0x1]){case 0x5:_0x27b9c5=_0x6f06d1;break;case 0x6:_0x599c06=_0x59178b;break;default:_0x599c06=_0x59178b,_0x27b9c5=_0x6f06d1;break;}_0x46d9ff['rx']=Math[_0x2f5a23(0x2b4)](_0x599c06*_via_canvas_scale),_0x46d9ff['ry']=Math['round'](_0x27b9c5*_via_canvas_scale),_0x216ee7['rx']=Math[_0x2f5a23(0x2b4)](_0x46d9ff['rx']/_via_canvas_scale),_0x216ee7['ry']=Math[_0x2f5a23(0x2b4)](_0x46d9ff['ry']/_via_canvas_scale);break;case VIA_REGION_SHAPE[_0x2f5a23(0x2cb)]:case VIA_REGION_SHAPE[_0x2f5a23(0x24a)]:var _0x178323=_via_region_edge[0x1]-VIA_POLYGON_RESIZE_VERTEX_OFFSET,_0x6cad7d=Math['round'](_via_current_x*_via_canvas_scale),_0x17f9c1=Math[_0x2f5a23(0x2b4)](_via_current_y*_via_canvas_scale);_0x46d9ff['all_points_x'][_0x178323]=_0x6cad7d,_0x46d9ff[_0x2f5a23(0x1b7)][_0x178323]=_0x17f9c1,_0x216ee7[_0x2f5a23(0x1c4)][_0x178323]=Math[_0x2f5a23(0x2b4)](_0x6cad7d/_via_canvas_scale),_0x216ee7[_0x2f5a23(0x1b7)][_0x178323]=Math['round'](_0x17f9c1/_via_canvas_scale);if(_0x178323===0x0&&_0x216ee7[_0x2f5a23(0x395)]===VIA_REGION_SHAPE['POLYGON']){var _0x26bdd3=_0x216ee7['all_points_x'][_0x2f5a23(0x442)];_0x46d9ff[_0x2f5a23(0x1c4)][_0x26bdd3-0x1]=_0x6cad7d,_0x46d9ff['all_points_y'][_0x26bdd3-0x1]=_0x17f9c1,_0x216ee7['all_points_x'][_0x26bdd3-0x1]=Math[_0x2f5a23(0x2b4)](_0x6cad7d/_via_canvas_scale),_0x216ee7['all_points_y'][_0x26bdd3-0x1]=Math[_0x2f5a23(0x2b4)](_0x17f9c1/_via_canvas_scale);}break;}_via_redraw_reg_canvas(),_via_reg_canvas['focus']();return;}if(_0x32d459<VIA_MOUSE_CLICK_TOL||_0x3573f1<VIA_MOUSE_CLICK_TOL){if(_via_is_user_drawing_polygon){var _0x424da5=Math[_0x2f5a23(0x2b4)](_via_click_x1),_0x6be3eb=Math['round'](_via_click_y1);_via_canvas_regions[_via_current_polygon_region_id][_0x2f5a23(0x40a)][_0x2f5a23(0x1c4)]['push'](_0x424da5),_via_canvas_regions[_via_current_polygon_region_id][_0x2f5a23(0x40a)]['all_points_y'][_0x2f5a23(0x355)](_0x6be3eb);}else{var _0x14cf3d=is_inside_region(_via_click_x0,_via_click_y0);if(_0x14cf3d>=0x0)_via_user_sel_region_id=_0x14cf3d,_via_is_region_selected=!![],_via_is_user_moving_region=![],_via_is_user_drawing_region=![],!_0xe578e9[_0x2f5a23(0x2ad)]&&(annotation_editor_clear_row_highlight(),toggle_all_regions_selection(![])),set_region_select_state(_0x14cf3d,!![]),annotation_editor_scroll_to_row(_0x14cf3d),annotation_editor_highlight_row(_0x14cf3d),show_message('Region\x20selected.\x20If\x20you\x20intended\x20to\x20draw\x20a\x20region,\x20click\x20again\x20inside\x20the\x20selected\x20region\x20to\x20start\x20drawing\x20a\x20region.');else{if(_via_is_user_drawing_region)_via_is_user_drawing_region=![],_via_is_region_selected=![],toggle_all_regions_selection(![]),annotation_editor_clear_row_highlight();else switch(_via_current_shape){case VIA_REGION_SHAPE[_0x2f5a23(0x2cb)]:case VIA_REGION_SHAPE[_0x2f5a23(0x24a)]:_via_is_user_drawing_polygon=!![];var _0x65a467=new file_region();_0x65a467[_0x2f5a23(0x40a)]['name']=_via_current_shape,_0x65a467[_0x2f5a23(0x40a)]['all_points_x']=[Math['round'](_via_click_x0)],_0x65a467[_0x2f5a23(0x40a)][_0x2f5a23(0x1b7)]=[Math[_0x2f5a23(0x2b4)](_via_click_y0)];var _0x465521=_via_canvas_regions[_0x2f5a23(0x355)](_0x65a467);_via_current_polygon_region_id=_0x465521-0x1;break;case VIA_REGION_SHAPE['POINT']:var _0x3b47d0=new file_region();_0x3b47d0['shape_attributes']['name']=VIA_REGION_SHAPE['POINT'],_0x3b47d0[_0x2f5a23(0x40a)]['cx']=Math[_0x2f5a23(0x2b4)](_via_click_x0*_via_canvas_scale),_0x3b47d0[_0x2f5a23(0x40a)]['cy']=Math['round'](_via_click_y0*_via_canvas_scale),_via_img_metadata[_via_image_id][_0x2f5a23(0x1e0)][_0x2f5a23(0x355)](_0x3b47d0);var _0x373716=new file_region();_0x373716[_0x2f5a23(0x40a)][_0x2f5a23(0x395)]=VIA_REGION_SHAPE[_0x2f5a23(0x3b6)],_0x373716[_0x2f5a23(0x40a)]['cx']=Math[_0x2f5a23(0x2b4)](_via_click_x0),_0x373716['shape_attributes']['cy']=Math[_0x2f5a23(0x2b4)](_via_click_y0),_via_canvas_regions[_0x2f5a23(0x355)](_0x373716),update_annotation_editor();break;}}}_via_redraw_reg_canvas(),_via_reg_canvas[_0x2f5a23(0x466)]();return;}if(_via_is_user_drawing_region){_via_is_user_drawing_region=![];var _0x27f917=_via_click_x0,_0x19ab23=_via_click_y0,_0x42790f=_via_click_x1,_0x192d35=_via_click_y1,_0x15e79b=new file_region(),_0x3735a1=new file_region(),_0x28a9d8=Math[_0x2f5a23(0x369)](_0x42790f-_0x27f917),_0x5e1df8=Math[_0x2f5a23(0x369)](_0x192d35-_0x19ab23),_0x576f86=![];if(_0x28a9d8>VIA_REGION_MIN_DIM&&_0x5e1df8>VIA_REGION_MIN_DIM){switch(_via_current_shape){case VIA_REGION_SHAPE[_0x2f5a23(0x428)]:_via_click_x0<_via_click_x1?(_0x27f917=_via_click_x0,_0x42790f=_via_click_x1):(_0x27f917=_via_click_x1,_0x42790f=_via_click_x0);_via_click_y0<_via_click_y1?(_0x19ab23=_via_click_y0,_0x192d35=_via_click_y1):(_0x19ab23=_via_click_y1,_0x192d35=_via_click_y0);var _0x1075bf=Math['round'](_0x27f917*_via_canvas_scale),_0x3dd5c3=Math[_0x2f5a23(0x2b4)](_0x19ab23*_via_canvas_scale),_0x36abfc=Math[_0x2f5a23(0x2b4)](_0x28a9d8*_via_canvas_scale),_0x1656d1=Math[_0x2f5a23(0x2b4)](_0x5e1df8*_via_canvas_scale);_0x15e79b['shape_attributes'][_0x2f5a23(0x395)]='rect',_0x15e79b['shape_attributes']['x']=_0x1075bf,_0x15e79b['shape_attributes']['y']=_0x3dd5c3,_0x15e79b[_0x2f5a23(0x40a)][_0x2f5a23(0x335)]=_0x36abfc,_0x15e79b[_0x2f5a23(0x40a)][_0x2f5a23(0x3f2)]=_0x1656d1,_0x15e79b[_0x2f5a23(0x270)][_0x2f5a23(0x498)]=_default_val,_0x3735a1[_0x2f5a23(0x40a)][_0x2f5a23(0x395)]='rect',_0x3735a1[_0x2f5a23(0x40a)]['x']=Math['round'](_0x1075bf/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['y']=Math[_0x2f5a23(0x2b4)](_0x3dd5c3/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['width']=Math[_0x2f5a23(0x2b4)](_0x36abfc/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)][_0x2f5a23(0x3f2)]=Math['round'](_0x1656d1/_via_canvas_scale),_0x576f86=!![];break;case VIA_REGION_SHAPE[_0x2f5a23(0x2ef)]:var _0x166410=Math[_0x2f5a23(0x2b4)](_0x27f917*_via_canvas_scale),_0x1d2446=Math[_0x2f5a23(0x2b4)](_0x19ab23*_via_canvas_scale),_0x338178=Math[_0x2f5a23(0x2b4)](Math[_0x2f5a23(0x28b)](_0x28a9d8*_0x28a9d8+_0x5e1df8*_0x5e1df8)*_via_canvas_scale);_0x15e79b[_0x2f5a23(0x40a)]['name']='circle',_0x15e79b[_0x2f5a23(0x40a)]['cx']=_0x166410,_0x15e79b[_0x2f5a23(0x40a)]['cy']=_0x1d2446,_0x15e79b[_0x2f5a23(0x40a)]['r']=_0x338178,_0x3735a1[_0x2f5a23(0x40a)]['name']=_0x2f5a23(0x25e),_0x3735a1[_0x2f5a23(0x40a)]['cx']=Math['round'](_0x166410/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['cy']=Math[_0x2f5a23(0x2b4)](_0x1d2446/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['r']=Math[_0x2f5a23(0x2b4)](_0x338178/_via_canvas_scale),_0x576f86=!![];break;case VIA_REGION_SHAPE[_0x2f5a23(0x336)]:var _0x166410=Math[_0x2f5a23(0x2b4)](_0x27f917*_via_canvas_scale),_0x1d2446=Math['round'](_0x19ab23*_via_canvas_scale),_0x50689a=Math['round'](_0x28a9d8*_via_canvas_scale),_0x9384da=Math['round'](_0x5e1df8*_via_canvas_scale);_0x15e79b[_0x2f5a23(0x40a)][_0x2f5a23(0x395)]=_0x2f5a23(0x374),_0x15e79b[_0x2f5a23(0x40a)]['cx']=_0x166410,_0x15e79b['shape_attributes']['cy']=_0x1d2446,_0x15e79b[_0x2f5a23(0x40a)]['rx']=_0x50689a,_0x15e79b[_0x2f5a23(0x40a)]['ry']=_0x9384da,_0x3735a1[_0x2f5a23(0x40a)][_0x2f5a23(0x395)]=_0x2f5a23(0x374),_0x3735a1['shape_attributes']['cx']=Math[_0x2f5a23(0x2b4)](_0x166410/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['cy']=Math[_0x2f5a23(0x2b4)](_0x1d2446/_via_canvas_scale),_0x3735a1['shape_attributes']['rx']=Math['round'](_0x50689a/_via_canvas_scale),_0x3735a1[_0x2f5a23(0x40a)]['ry']=Math[_0x2f5a23(0x2b4)](_0x9384da/_via_canvas_scale),_0x576f86=!![];break;case VIA_REGION_SHAPE[_0x2f5a23(0x3b6)]:case VIA_REGION_SHAPE[_0x2f5a23(0x2cb)]:case VIA_REGION_SHAPE[_0x2f5a23(0x24a)]:break;}if(_0x576f86){var _0x39c147=_via_img_metadata[_via_image_id][_0x2f5a23(0x1e0)][_0x2f5a23(0x355)](_0x15e79b),_0x10c07d=_via_canvas_regions['push'](_0x3735a1);_0x39c147!==_0x10c07d&&console['log'](_0x2f5a23(0x2cf)+_0x39c147+_0x2f5a23(0x3c0)+_0x10c07d+_0x2f5a23(0x334));var _0x2ef2a4=_0x39c147-0x1;set_region_annotations_to_default_value(_0x2ef2a4),_via_metadata_being_updated===_0x2f5a23(0x2a8)&&(annotation_editor_add_row(_0x2ef2a4),annotation_editor_scroll_to_row(_0x2ef2a4),annotation_editor_clear_row_highlight(),annotation_editor_highlight_row(_0x2ef2a4),select_only_region(_0x2ef2a4));}_via_redraw_reg_canvas(),_via_reg_canvas[_0x2f5a23(0x466)]();}else show_message('Prevented\x20accidental\x20addition\x20of\x20a\x20very\x20small\x20region.');update_annotation_editor();return;}}),_via_reg_canvas[_0x5d4abf(0x391)](_0x5d4abf(0x3d8),function(_0x4dcd59){var _0x167a5b=_0x5d4abf;_via_redraw_reg_canvas(),_via_reg_canvas[_0x167a5b(0x466)]();}),bf_pointX=0x0,bf_pointY=0x0,_via_reg_canvas[_0x5d4abf(0x391)](_0x5d4abf(0x37b),function(_0x3755b1){var _0x5e6e6c=_0x5d4abf;if(_via_is_ctrl_pressed){if(_mouse_down_clicked){console[_0x5e6e6c(0x43e)](_0x5e6e6c(0x2eb)),console[_0x5e6e6c(0x43e)]($(window)[_0x5e6e6c(0x446)]()+(_0x3755b1[_0x5e6e6c(0x460)]-bf_pointX));if(bf_pointX!=0x0){}bf_pointX=_0x3755b1[_0x5e6e6c(0x460)],bf_pointY=_0x3755b1[_0x5e6e6c(0x2af)];}_0x3755b1['preventDefault']();return;}if(!_via_current_image_loaded)return;_via_current_x=_0x3755b1[_0x5e6e6c(0x460)],_via_current_y=_0x3755b1[_0x5e6e6c(0x2af)];if(_via_is_region_selected){if(!_via_is_user_resizing_region){_via_region_edge=is_on_region_corner(_via_current_x,_via_current_y);if(_via_region_edge[0x0]===_via_user_sel_region_id){switch(_via_region_edge[0x1]){case 0x1:case 0x3:_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x33d);break;case 0x2:case 0x4:_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x393);break;case 0x5:case 0x7:_via_reg_canvas['style'][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x218);break;case 0x6:case 0x8:_via_reg_canvas['style'][_0x5e6e6c(0x3a4)]='ew-resize';break;case 0x5:_via_reg_canvas[_0x5e6e6c(0x1bf)]['cursor']=_0x5e6e6c(0x378);break;case 0x6:_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x28d);break;default:_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x47f);break;}_via_region_edge[0x1]>=VIA_POLYGON_RESIZE_VERTEX_OFFSET&&(_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]=_0x5e6e6c(0x255));}else{var _0x46809f=is_inside_this_region(_via_current_x,_via_current_y,_via_user_sel_region_id);_0x46809f?_via_reg_canvas[_0x5e6e6c(0x1bf)][_0x5e6e6c(0x3a4)]='move':_via_reg_canvas[_0x5e6e6c(0x1bf)]['cursor']='default';}}}if(_via_is_user_drawing_region){_via_canvas_regions[_0x5e6e6c(0x442)]?_via_redraw_reg_canvas():_via_reg_ctx[_0x5e6e6c(0x34f)](0x0,0x0,_via_reg_canvas['width'],_via_reg_canvas[_0x5e6e6c(0x3f2)]);var _0x3063d3=_via_click_x0,_0x55e842=_via_click_y0;;var _0x36ac65=Math[_0x5e6e6c(0x2b4)](Math[_0x5e6e6c(0x369)](_via_current_x-_via_click_x0)),_0x50ef65=Math[_0x5e6e6c(0x2b4)](Math[_0x5e6e6c(0x369)](_via_current_y-_via_click_y0));switch(_via_current_shape){case VIA_REGION_SHAPE[_0x5e6e6c(0x428)]:_via_click_x0<_via_current_x?_via_click_y0<_via_current_y?(_0x3063d3=_via_click_x0,_0x55e842=_via_click_y0):(_0x3063d3=_via_click_x0,_0x55e842=_via_current_y):_via_click_y0<_via_current_y?(_0x3063d3=_via_current_x,_0x55e842=_via_click_y0):(_0x3063d3=_via_current_x,_0x55e842=_via_current_y);_via_draw_rect_region(_0x3063d3,_0x55e842,_0x36ac65,_0x50ef65,![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x2ef)]:var _0x1775f9=Math[_0x5e6e6c(0x2b4)](Math[_0x5e6e6c(0x28b)](_0x36ac65*_0x36ac65+_0x50ef65*_0x50ef65));_via_draw_circle_region(_0x3063d3,_0x55e842,_0x1775f9,![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x336)]:_via_draw_ellipse_region(_0x3063d3,_0x55e842,_0x36ac65,_0x50ef65,![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x2cb)]:case VIA_REGION_SHAPE['POLYGON']:break;}_via_reg_canvas[_0x5e6e6c(0x466)]();}if(_via_is_user_resizing_region){_via_canvas_regions['length']?_via_redraw_reg_canvas():_via_reg_ctx['clearRect'](0x0,0x0,_via_reg_canvas[_0x5e6e6c(0x335)],_via_reg_canvas[_0x5e6e6c(0x3f2)]);var _0x59d305=_via_region_edge[0x0],_0x50816f=_via_canvas_regions[_0x59d305][_0x5e6e6c(0x40a)];switch(_0x50816f['name']){case VIA_REGION_SHAPE[_0x5e6e6c(0x428)]:var _0x57171c=[_0x50816f['x'],_0x50816f['y'],0x0,0x0];_0x57171c[0x2]=_0x57171c[0x0]+_0x50816f[_0x5e6e6c(0x335)],_0x57171c[0x3]=_0x57171c[0x1]+_0x50816f['height'];var _0x7d4e6=_via_current_x,_0x61dcbe=_via_current_y,_0x48f1a9=![];_via_is_ctrl_pressed&&(_0x48f1a9=!![]);rect_update_corner(_via_region_edge[0x1],_0x57171c,_0x7d4e6,_0x61dcbe,_0x48f1a9),rect_standardize_coordinates(_0x57171c);var _0x5d4a55=Math[_0x5e6e6c(0x369)](_0x57171c[0x2]-_0x57171c[0x0]),_0x523439=Math['abs'](_0x57171c[0x3]-_0x57171c[0x1]);_via_draw_rect_region(_0x57171c[0x0],_0x57171c[0x1],_0x5d4a55,_0x523439,!![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x2ef)]:var _0x36ac65=Math[_0x5e6e6c(0x369)](_0x50816f['cx']-_via_current_x),_0x50ef65=Math[_0x5e6e6c(0x369)](_0x50816f['cy']-_via_current_y),_0x135fea=Math[_0x5e6e6c(0x28b)](_0x36ac65*_0x36ac65+_0x50ef65*_0x50ef65);_via_draw_circle_region(_0x50816f['cx'],_0x50816f['cy'],_0x135fea,!![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x336)]:var _0x89f461=_0x50816f['rx'],_0x5b40db=_0x50816f['ry'],_0x36ac65=Math['abs'](_0x50816f['cx']-_via_current_x),_0x50ef65=Math[_0x5e6e6c(0x369)](_0x50816f['cy']-_via_current_y);switch(_via_region_edge[0x1]){case 0x5:_0x5b40db=_0x50ef65;break;case 0x6:_0x89f461=_0x36ac65;break;default:_0x89f461=_0x36ac65,_0x5b40db=_0x50ef65;break;}_via_draw_ellipse_region(_0x50816f['cx'],_0x50816f['cy'],_0x89f461,_0x5b40db,!![]);break;case VIA_REGION_SHAPE['POLYLINE']:case VIA_REGION_SHAPE[_0x5e6e6c(0x24a)]:var _0x2ee665=_0x50816f[_0x5e6e6c(0x1c4)][_0x5e6e6c(0x1af)](0x0),_0x313a9f=_0x50816f['all_points_y'][_0x5e6e6c(0x1af)](0x0),_0x506ce8=_via_region_edge[0x1]-VIA_POLYGON_RESIZE_VERTEX_OFFSET;_0x2ee665[_0x506ce8]=_via_current_x,_0x313a9f[_0x506ce8]=_via_current_y,_via_draw_polygon_region(_0x2ee665,_0x313a9f,!![],_0x50816f[_0x5e6e6c(0x395)]);break;}_via_reg_canvas[_0x5e6e6c(0x466)]();}if(_via_is_user_moving_region){_via_canvas_regions[_0x5e6e6c(0x442)]?_via_redraw_reg_canvas():_via_reg_ctx[_0x5e6e6c(0x34f)](0x0,0x0,_via_reg_canvas['width'],_via_reg_canvas[_0x5e6e6c(0x3f2)]);var _0x46cd22=_via_current_x-_via_region_click_x,_0x3c1a8a=_via_current_y-_via_region_click_y,_0x50816f=_via_canvas_regions[_via_user_sel_region_id]['shape_attributes'];switch(_0x50816f[_0x5e6e6c(0x395)]){case VIA_REGION_SHAPE['RECT']:_via_draw_rect_region(_0x50816f['x']+_0x46cd22,_0x50816f['y']+_0x3c1a8a,_0x50816f[_0x5e6e6c(0x335)],_0x50816f[_0x5e6e6c(0x3f2)],!![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x2ef)]:_via_draw_circle_region(_0x50816f['cx']+_0x46cd22,_0x50816f['cy']+_0x3c1a8a,_0x50816f['r'],!![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x336)]:_via_draw_ellipse_region(_0x50816f['cx']+_0x46cd22,_0x50816f['cy']+_0x3c1a8a,_0x50816f['rx'],_0x50816f['ry'],!![]);break;case VIA_REGION_SHAPE[_0x5e6e6c(0x2cb)]:case VIA_REGION_SHAPE[_0x5e6e6c(0x24a)]:var _0x2ee665=_0x50816f[_0x5e6e6c(0x1c4)][_0x5e6e6c(0x1af)](0x0),_0x313a9f=_0x50816f[_0x5e6e6c(0x1b7)][_0x5e6e6c(0x1af)](0x0);for(var _0x13226f=0x0;_0x13226f<_0x2ee665[_0x5e6e6c(0x442)];++_0x13226f){_0x2ee665[_0x13226f]+=_0x46cd22,_0x313a9f[_0x13226f]+=_0x3c1a8a;}_via_draw_polygon_region(_0x2ee665,_0x313a9f,!![],_0x50816f[_0x5e6e6c(0x395)]);break;case VIA_REGION_SHAPE['POINT']:_via_draw_point_region(_0x50816f['cx']+_0x46cd22,_0x50816f['cy']+_0x3c1a8a,!![]);break;}_via_reg_canvas[_0x5e6e6c(0x466)]();return;}if(_via_is_user_drawing_polygon){_via_redraw_reg_canvas();var _0x50816f=_via_canvas_regions[_via_current_polygon_region_id]['shape_attributes'],_0x2309d3=_0x50816f['all_points_x'],_0x1e1ce0=_0x50816f[_0x5e6e6c(0x1b7)],_0x496474=_0x2309d3[_0x5e6e6c(0x442)],_0x14d48e=[_0x2309d3[_0x5e6e6c(0x1af)](_0x496474-0x1),_via_current_x],_0x1b98a5=[_0x1e1ce0[_0x5e6e6c(0x1af)](_0x496474-0x1),_via_current_y];_via_draw_polygon_region(_0x14d48e,_0x1b98a5,![],_0x50816f[_0x5e6e6c(0x395)]);}});function _via_move_selected_regions(_0x6ddb4c,_0x4557b9){var _0x226a43=_0x5d4abf,_0x4132fd,_0x27bc65;_0x27bc65=_via_region_selected_flag[_0x226a43(0x442)];for(_0x4132fd=0x0;_0x4132fd<_0x27bc65;++_0x4132fd){_via_region_selected_flag[_0x4132fd]&&_via_move_region(_0x4132fd,_0x6ddb4c,_0x4557b9);}}function _via_move_region(_0x5f0bc9,_0x3dd3c6,_0x48e3ed){var _0x43b96e=_0x5d4abf,_0x1da432=_via_img_metadata[_via_image_id][_0x43b96e(0x1e0)][_0x5f0bc9]['shape_attributes'],_0x9c1042=_via_canvas_regions[_0x5f0bc9][_0x43b96e(0x40a)];switch(_0x9c1042[_0x43b96e(0x395)]){case VIA_REGION_SHAPE[_0x43b96e(0x428)]:var _0x33be4f=_0x1da432['x']+Math[_0x43b96e(0x2b4)](_0x3dd3c6*_via_canvas_scale),_0x13d476=_0x1da432['y']+Math[_0x43b96e(0x2b4)](_0x48e3ed*_via_canvas_scale);_0x1da432['x']=_0x33be4f,_0x1da432['y']=_0x13d476,_0x9c1042['x']=Math[_0x43b96e(0x2b4)](_0x1da432['x']/_via_canvas_scale),_0x9c1042['y']=Math[_0x43b96e(0x2b4)](_0x1da432['y']/_via_canvas_scale);break;case VIA_REGION_SHAPE[_0x43b96e(0x2ef)]:case VIA_REGION_SHAPE[_0x43b96e(0x336)]:case VIA_REGION_SHAPE['POINT']:var _0x2d80ea=_0x1da432['cx']+Math[_0x43b96e(0x2b4)](_0x3dd3c6*_via_canvas_scale),_0x3fe8df=_0x1da432['cy']+Math['round'](_0x48e3ed*_via_canvas_scale);_0x1da432['cx']=_0x2d80ea,_0x1da432['cy']=_0x3fe8df,_0x9c1042['cx']=Math[_0x43b96e(0x2b4)](_0x1da432['cx']/_via_canvas_scale),_0x9c1042['cy']=Math[_0x43b96e(0x2b4)](_0x1da432['cy']/_via_canvas_scale);break;case VIA_REGION_SHAPE[_0x43b96e(0x2cb)]:case VIA_REGION_SHAPE[_0x43b96e(0x24a)]:var _0x28f0ea=_0x1da432['all_points_x'],_0x4ed639=_0x1da432['all_points_y'];for(var _0x5300d8=0x0;_0x5300d8<_0x28f0ea[_0x43b96e(0x442)];++_0x5300d8){_0x28f0ea[_0x5300d8]=_0x28f0ea[_0x5300d8]+Math[_0x43b96e(0x2b4)](_0x3dd3c6*_via_canvas_scale),_0x4ed639[_0x5300d8]=_0x4ed639[_0x5300d8]+Math[_0x43b96e(0x2b4)](_0x48e3ed*_via_canvas_scale);}var _0x4a2640=_0x9c1042[_0x43b96e(0x1c4)],_0x4b3c18=_0x9c1042[_0x43b96e(0x1b7)];for(var _0x5300d8=0x0;_0x5300d8<_0x4a2640['length'];++_0x5300d8){_0x4a2640[_0x5300d8]=Math[_0x43b96e(0x2b4)](_0x28f0ea[_0x5300d8]/_via_canvas_scale),_0x4b3c18[_0x5300d8]=Math[_0x43b96e(0x2b4)](_0x4ed639[_0x5300d8]/_via_canvas_scale);}break;}}function _via_redraw_reg_canvas(){var _0x4994fe=_0x5d4abf;_via_current_image_loaded&&(_is_drawing=!![],_via_reg_ctx[_0x4994fe(0x34f)](0x0,0x0,_via_reg_canvas[_0x4994fe(0x335)],_via_reg_canvas['height']),_via_canvas_regions[_0x4994fe(0x442)]>0x0&&(_via_is_region_boundary_visible&&draw_all_regions(),_via_is_region_id_visible&&draw_all_region_id()),_is_drawing=![]);}function _via_clear_reg_canvas(){var _0x2c5496=_0x5d4abf;_via_reg_ctx[_0x2c5496(0x34f)](0x0,0x0,_via_reg_canvas[_0x2c5496(0x335)],_via_reg_canvas[_0x2c5496(0x3f2)]);}function draw_all_regions(){var _0x232b34=_0x5d4abf;for(var _0x37e7fb=0x0;_0x37e7fb<_via_canvas_regions['length'];++_0x37e7fb){var _0xaa67f3=_via_canvas_regions[_0x37e7fb][_0x232b34(0x40a)],_0x11a875=_via_region_selected_flag[_0x37e7fb];switch(_0xaa67f3[_0x232b34(0x395)]){case VIA_REGION_SHAPE[_0x232b34(0x428)]:_via_draw_rect_region(_0xaa67f3['x'],_0xaa67f3['y'],_0xaa67f3[_0x232b34(0x335)],_0xaa67f3[_0x232b34(0x3f2)],_0x11a875);break;case VIA_REGION_SHAPE[_0x232b34(0x2ef)]:_via_draw_circle_region(_0xaa67f3['cx'],_0xaa67f3['cy'],_0xaa67f3['r'],_0x11a875);break;case VIA_REGION_SHAPE['ELLIPSE']:_via_draw_ellipse_region(_0xaa67f3['cx'],_0xaa67f3['cy'],_0xaa67f3['rx'],_0xaa67f3['ry'],_0x11a875);break;case VIA_REGION_SHAPE[_0x232b34(0x2cb)]:case VIA_REGION_SHAPE[_0x232b34(0x24a)]:_via_draw_polygon_region(_0xaa67f3[_0x232b34(0x1c4)],_0xaa67f3[_0x232b34(0x1b7)],_0x11a875,_0xaa67f3[_0x232b34(0x395)]);break;case VIA_REGION_SHAPE[_0x232b34(0x3b6)]:_via_draw_point_region(_0xaa67f3['cx'],_0xaa67f3['cy'],_0x11a875);break;}}}function _via_draw_control_point(_0x5b0ce9,_0x33a630){var _0x5aa124=_0x5d4abf;_via_reg_ctx[_0x5aa124(0x495)](),_via_reg_ctx[_0x5aa124(0x484)](_0x5b0ce9,_0x33a630,VIA_REGION_POINT_RADIUS,0x0,0x2*Math['PI'],![]),_via_reg_ctx['closePath'](),_via_reg_ctx[_0x5aa124(0x3a0)]=VIA_THEME_CONTROL_POINT_COLOR,_via_reg_ctx[_0x5aa124(0x3f0)]=0x1,_via_reg_ctx[_0x5aa124(0x2dd)]();}function _via_draw_rect_region(_0x1449ce,_0x34cd89,_0x502fa5,_0x46cfc1,_0x5eb2e6){var _0x5137cd=_0x5d4abf;_0x5eb2e6?(_via_draw_rect(_0x1449ce,_0x34cd89,_0x502fa5,_0x46cfc1),_via_reg_ctx[_0x5137cd(0x45f)]=VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR,_via_reg_ctx[_0x5137cd(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx[_0x5137cd(0x429)](),_via_reg_ctx['fillStyle']=VIA_THEME_SEL_REGION_FILL_COLOR,_via_reg_ctx[_0x5137cd(0x3f0)]=VIA_THEME_SEL_REGION_OPACITY,_via_reg_ctx[_0x5137cd(0x2dd)](),_via_reg_ctx[_0x5137cd(0x3f0)]=0x1,_via_draw_control_point(_0x1449ce,_0x34cd89),_via_draw_control_point(_0x1449ce+_0x502fa5,_0x34cd89+_0x46cfc1),_via_draw_control_point(_0x1449ce,_0x34cd89+_0x46cfc1),_via_draw_control_point(_0x1449ce+_0x502fa5,_0x34cd89),_via_draw_control_point(_0x1449ce+_0x502fa5/0x2,_0x34cd89),_via_draw_control_point(_0x1449ce+_0x502fa5/0x2,_0x34cd89+_0x46cfc1),_via_draw_control_point(_0x1449ce,_0x34cd89+_0x46cfc1/0x2),_via_draw_control_point(_0x1449ce+_0x502fa5,_0x34cd89+_0x46cfc1/0x2)):(_via_reg_ctx[_0x5137cd(0x45f)]=VIA_THEME_BOUNDARY_FILL_COLOR,_via_reg_ctx[_0x5137cd(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_draw_rect(_0x1449ce,_0x34cd89,_0x502fa5,_0x46cfc1),_via_reg_ctx[_0x5137cd(0x429)](),_0x502fa5>VIA_THEME_REGION_BOUNDARY_WIDTH&&_0x46cfc1>VIA_THEME_REGION_BOUNDARY_WIDTH&&(_via_reg_ctx['strokeStyle']=VIA_THEME_BOUNDARY_LINE_COLOR,_via_reg_ctx[_0x5137cd(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x4,_via_draw_rect(_0x1449ce-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x34cd89-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x502fa5+VIA_THEME_REGION_BOUNDARY_WIDTH,_0x46cfc1+VIA_THEME_REGION_BOUNDARY_WIDTH),_via_reg_ctx[_0x5137cd(0x429)](),_via_draw_rect(_0x1449ce+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x34cd89+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x502fa5-VIA_THEME_REGION_BOUNDARY_WIDTH,_0x46cfc1-VIA_THEME_REGION_BOUNDARY_WIDTH),_via_reg_ctx[_0x5137cd(0x429)]()));}function _via_draw_rect(_0x5b4160,_0x566a03,_0x4a0622,_0x53fa4c){var _0x37e3ce=_0x5d4abf;_via_reg_ctx[_0x37e3ce(0x495)](),_via_reg_ctx['moveTo'](_0x5b4160,_0x566a03),_via_reg_ctx[_0x37e3ce(0x2ee)](_0x5b4160+_0x4a0622,_0x566a03),_via_reg_ctx['lineTo'](_0x5b4160+_0x4a0622,_0x566a03+_0x53fa4c),_via_reg_ctx[_0x37e3ce(0x2ee)](_0x5b4160,_0x566a03+_0x53fa4c),_via_reg_ctx[_0x37e3ce(0x47d)]();}function _via_draw_circle_region(_0xb3147,_0x3a8237,_0x544da7,_0x5c08bf){var _0x1be106=_0x5d4abf;_0x5c08bf?(_via_draw_circle(_0xb3147,_0x3a8237,_0x544da7),_via_reg_ctx[_0x1be106(0x45f)]=VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR,_via_reg_ctx[_0x1be106(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx[_0x1be106(0x429)](),_via_reg_ctx[_0x1be106(0x3a0)]=VIA_THEME_SEL_REGION_FILL_COLOR,_via_reg_ctx[_0x1be106(0x3f0)]=VIA_THEME_SEL_REGION_OPACITY,_via_reg_ctx[_0x1be106(0x2dd)](),_via_reg_ctx[_0x1be106(0x3f0)]=0x1,_via_draw_control_point(_0xb3147+_0x544da7,_0x3a8237)):(_via_reg_ctx[_0x1be106(0x45f)]=VIA_THEME_BOUNDARY_FILL_COLOR,_via_reg_ctx[_0x1be106(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_draw_circle(_0xb3147,_0x3a8237,_0x544da7),_via_reg_ctx[_0x1be106(0x429)](),_0x544da7>VIA_THEME_REGION_BOUNDARY_WIDTH&&(_via_reg_ctx[_0x1be106(0x45f)]=VIA_THEME_BOUNDARY_LINE_COLOR,_via_reg_ctx[_0x1be106(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x4,_via_draw_circle(_0xb3147,_0x3a8237,_0x544da7-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx['stroke'](),_via_draw_circle(_0xb3147,_0x3a8237,_0x544da7+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx[_0x1be106(0x429)]()));}function _via_draw_circle(_0x5d83a4,_0x1d8f2b,_0xa4e5a7){var _0x29e8d1=_0x5d4abf;_via_reg_ctx[_0x29e8d1(0x495)](),_via_reg_ctx[_0x29e8d1(0x484)](_0x5d83a4,_0x1d8f2b,_0xa4e5a7,0x0,0x2*Math['PI'],![]),_via_reg_ctx[_0x29e8d1(0x47d)]();}function _via_draw_ellipse_region(_0xe77710,_0x4b3290,_0x403ac0,_0x138898,_0x4bc9b8){var _0x37178a=_0x5d4abf;_0x4bc9b8?(_via_draw_ellipse(_0xe77710,_0x4b3290,_0x403ac0,_0x138898),_via_reg_ctx[_0x37178a(0x45f)]=VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR,_via_reg_ctx[_0x37178a(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx[_0x37178a(0x429)](),_via_reg_ctx[_0x37178a(0x3a0)]=VIA_THEME_SEL_REGION_FILL_COLOR,_via_reg_ctx['globalAlpha']=VIA_THEME_SEL_REGION_OPACITY,_via_reg_ctx[_0x37178a(0x2dd)](),_via_reg_ctx[_0x37178a(0x3f0)]=0x1,_via_draw_control_point(_0xe77710+_0x403ac0,_0x4b3290),_via_draw_control_point(_0xe77710,_0x4b3290-_0x138898)):(_via_reg_ctx[_0x37178a(0x45f)]=VIA_THEME_BOUNDARY_FILL_COLOR,_via_reg_ctx[_0x37178a(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_draw_ellipse(_0xe77710,_0x4b3290,_0x403ac0,_0x138898),_via_reg_ctx[_0x37178a(0x429)](),_0x403ac0>VIA_THEME_REGION_BOUNDARY_WIDTH&&_0x138898>VIA_THEME_REGION_BOUNDARY_WIDTH&&(_via_reg_ctx[_0x37178a(0x45f)]=VIA_THEME_BOUNDARY_LINE_COLOR,_via_reg_ctx['lineWidth']=VIA_THEME_REGION_BOUNDARY_WIDTH/0x4,_via_draw_ellipse(_0xe77710,_0x4b3290,_0x403ac0+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x138898+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx[_0x37178a(0x429)](),_via_draw_ellipse(_0xe77710,_0x4b3290,_0x403ac0-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_0x138898-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx['stroke']()));}function _via_draw_ellipse(_0x45c405,_0x1beb30,_0xc0ceb1,_0xd0487){var _0x4d02cf=_0x5d4abf;_via_reg_ctx['save'](),_via_reg_ctx[_0x4d02cf(0x495)](),_via_reg_ctx[_0x4d02cf(0x2aa)](_0x45c405-_0xc0ceb1,_0x1beb30-_0xd0487),_via_reg_ctx[_0x4d02cf(0x433)](_0xc0ceb1,_0xd0487),_via_reg_ctx[_0x4d02cf(0x484)](0x1,0x1,0x1,0x0,0x2*Math['PI'],![]),_via_reg_ctx[_0x4d02cf(0x23e)](),_via_reg_ctx['closePath']();}function _via_draw_polygon_region(_0x13df5f,_0x33e6eb,_0x14103f,_0x2ff114){var _0x25f88b=_0x5d4abf;if(_0x14103f){_via_reg_ctx[_0x25f88b(0x45f)]=VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR,_via_reg_ctx[_0x25f88b(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx['beginPath'](),_via_reg_ctx[_0x25f88b(0x2d2)](_0x13df5f[0x0],_0x33e6eb[0x0]);for(var _0x3641fe=0x1;_0x3641fe<_0x13df5f[_0x25f88b(0x442)];++_0x3641fe){_via_reg_ctx['lineTo'](_0x13df5f[_0x3641fe],_0x33e6eb[_0x3641fe]);}_0x2ff114===VIA_REGION_SHAPE[_0x25f88b(0x24a)]&&_via_reg_ctx[_0x25f88b(0x2ee)](_0x13df5f[0x0],_0x33e6eb[0x0]);_via_reg_ctx[_0x25f88b(0x429)](),_via_reg_ctx[_0x25f88b(0x3a0)]=VIA_THEME_SEL_REGION_FILL_COLOR,_via_reg_ctx[_0x25f88b(0x3f0)]=VIA_THEME_SEL_REGION_OPACITY,_via_reg_ctx['fill'](),_via_reg_ctx[_0x25f88b(0x3f0)]=0x1;for(var _0x3641fe=0x0;_0x3641fe<_0x13df5f['length'];++_0x3641fe){_via_draw_control_point(_0x13df5f[_0x3641fe],_0x33e6eb[_0x3641fe]);}}else{_via_reg_ctx['strokeStyle']=VIA_THEME_BOUNDARY_FILL_COLOR,_via_reg_ctx[_0x25f88b(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx[_0x25f88b(0x495)](),_via_reg_ctx['moveTo'](_0x13df5f[0x0],_0x33e6eb[0x0]);for(var _0x3641fe=0x0;_0x3641fe<_0x13df5f[_0x25f88b(0x442)];++_0x3641fe){_via_reg_ctx[_0x25f88b(0x2ee)](_0x13df5f[_0x3641fe],_0x33e6eb[_0x3641fe]);}_0x2ff114===VIA_REGION_SHAPE[_0x25f88b(0x24a)]&&_via_reg_ctx[_0x25f88b(0x2ee)](_0x13df5f[0x0],_0x33e6eb[0x0]),_via_reg_ctx[_0x25f88b(0x429)]();}}function isEmpty(_0x32b6c0){var _0x2aa72d=_0x5d4abf;for(var _0x2413bc in _0x32b6c0){if(_0x32b6c0[_0x2aa72d(0x497)](_0x2413bc))return![];}return!![];}function _via_draw_point_region(_0x2ee69c,_0x3da0d3,_0x471aad){var _0x4f2640=_0x5d4abf;_0x471aad?(_via_draw_point(_0x2ee69c,_0x3da0d3,VIA_REGION_POINT_RADIUS),_via_reg_ctx[_0x4f2640(0x45f)]=VIA_THEME_SEL_REGION_FILL_BOUNDARY_COLOR,_via_reg_ctx[_0x4f2640(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_reg_ctx['stroke'](),_via_reg_ctx[_0x4f2640(0x3a0)]=VIA_THEME_SEL_REGION_FILL_COLOR,_via_reg_ctx[_0x4f2640(0x3f0)]=VIA_THEME_SEL_REGION_OPACITY,_via_reg_ctx[_0x4f2640(0x2dd)](),_via_reg_ctx[_0x4f2640(0x3f0)]=0x1):(_via_reg_ctx['strokeStyle']=VIA_THEME_BOUNDARY_FILL_COLOR,_via_reg_ctx[_0x4f2640(0x291)]=VIA_THEME_REGION_BOUNDARY_WIDTH/0x2,_via_draw_point(_0x2ee69c,_0x3da0d3,VIA_REGION_POINT_RADIUS),_via_reg_ctx[_0x4f2640(0x429)](),_via_reg_ctx[_0x4f2640(0x45f)]=VIA_THEME_BOUNDARY_LINE_COLOR,_via_reg_ctx['lineWidth']=VIA_THEME_REGION_BOUNDARY_WIDTH/0x4,_via_draw_point(_0x2ee69c,_0x3da0d3,VIA_REGION_POINT_RADIUS-VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx[_0x4f2640(0x429)](),_via_draw_point(_0x2ee69c,_0x3da0d3,VIA_REGION_POINT_RADIUS+VIA_THEME_REGION_BOUNDARY_WIDTH/0x2),_via_reg_ctx[_0x4f2640(0x429)]());}function _via_draw_point(_0xcb3cc4,_0x50a9b6,_0x5dfe53){var _0x1e7d2a=_0x5d4abf;_via_reg_ctx[_0x1e7d2a(0x495)](),_via_reg_ctx[_0x1e7d2a(0x484)](_0xcb3cc4,_0x50a9b6,_0x5dfe53,0x0,0x2*Math['PI'],![]),_via_reg_ctx[_0x1e7d2a(0x47d)]();}function draw_all_region_id(){var _0xaa9b42=_0x5d4abf;_via_reg_ctx[_0xaa9b42(0x1f4)]=_0xaa9b42(0x2b2),_via_reg_ctx['font']=_via_settings['ui'][_0xaa9b42(0x2e6)][_0xaa9b42(0x48e)];for(var _0x3df743=0x0;_0x3df743<_via_img_metadata[_via_image_id]['regions'][_0xaa9b42(0x442)];++_0x3df743){var _0x267906=_via_canvas_regions[_0x3df743],_0x145348=get_region_bounding_box(_0x267906),_0x536753=_0x145348[0x0],_0xefabb4=_0x145348[0x1],_0x428cb0=Math[_0xaa9b42(0x369)](_0x145348[0x2]-_0x145348[0x0]),_0x27553c=_via_reg_ctx[_0xaa9b42(0x470)]('M')[_0xaa9b42(0x335)],_0x35d5a1=1.8*_0x27553c,_0x3d55d4=(_0x3df743+0x1)[_0xaa9b42(0x2e0)](),_0x9fca85=_via_img_metadata[_via_image_id][_0xaa9b42(0x1e0)][_0x3df743][_0xaa9b42(0x270)][_via_settings['ui'][_0xaa9b42(0x2e6)][_0xaa9b42(0x3c4)]],_0x167044=_via_img_metadata[_via_image_id][_0xaa9b42(0x1e0)][_0x3df743][_0xaa9b42(0x40a)]['name'];if(_via_settings['ui'][_0xaa9b42(0x2e6)][_0xaa9b42(0x3c4)]!=='region_id'){if(typeof _0x9fca85!==_0xaa9b42(0x289))switch(typeof _0x9fca85){default:case _0xaa9b42(0x1b2):_0x3d55d4=_0x9fca85;break;case _0xaa9b42(0x23a):_0x3d55d4=Object['keys'](_0x9fca85)[_0xaa9b42(0x323)](',');break;}}var _0x2c4d87,_0x21c864=_via_reg_ctx['measureText'](_0x3d55d4)[_0xaa9b42(0x335)];if(_0x21c864>_0x428cb0){if(_via_settings['ui'][_0xaa9b42(0x2e6)][_0xaa9b42(0x3c4)]===_0xaa9b42(0x33c))_0x2c4d87=_0x21c864+_0x27553c;else{var _0x238e81=Math[_0xaa9b42(0x2f1)](_0x428cb0*_0x3d55d4[_0xaa9b42(0x442)]/_0x21c864);_0x238e81>0x1?(_0x3d55d4=_0x3d55d4[_0xaa9b42(0x38b)](0x0,_0x238e81-0x1)+'.',_0x2c4d87=_0x428cb0):(_0x3d55d4=_0x3d55d4[_0xaa9b42(0x38b)](0x0,0x1)+'.',_0x2c4d87=0x2*_0x27553c);}}else _0x2c4d87=_0x21c864+_0x27553c;_0x267906[_0xaa9b42(0x40a)][_0xaa9b42(0x395)]===VIA_REGION_SHAPE[_0xaa9b42(0x24a)]||_0x267906['shape_attributes'][_0xaa9b42(0x395)]===VIA_REGION_SHAPE[_0xaa9b42(0x2cb)]?(_0x536753=_0x267906[_0xaa9b42(0x40a)][_0xaa9b42(0x1c4)][0x0],_0xefabb4=_0x267906[_0xaa9b42(0x40a)][_0xaa9b42(0x1b7)][0x0]):_0x536753=_0x536753-(_0x2c4d87/0x2-_0x428cb0/0x2),_0xefabb4<_0x35d5a1&&(_0xefabb4=_0x35d5a1),_via_reg_ctx['fillStyle']=_0xaa9b42(0x45e),_via_reg_ctx['globalAlpha']=0.8,_via_reg_ctx[_0xaa9b42(0x27d)](Math[_0xaa9b42(0x2f1)](_0x536753),Math[_0xaa9b42(0x2f1)](_0xefabb4-1.1*_0x35d5a1),Math['floor'](_0x2c4d87),Math[_0xaa9b42(0x2f1)](_0x35d5a1)),_via_reg_ctx[_0xaa9b42(0x3f0)]=0x1,_via_reg_ctx[_0xaa9b42(0x3a0)]=_0xaa9b42(0x46e),_via_reg_ctx[_0xaa9b42(0x1d0)](_0x3d55d4,Math[_0xaa9b42(0x2f1)](_0x536753+0.4*_0x27553c),Math['floor'](_0xefabb4-0.35*_0x35d5a1));}}function get_region_bounding_box(_0x444e40){var _0x5e212c=_0x5d4abf,_0x2645ff=_0x444e40[_0x5e212c(0x40a)],_0x263b86=new Array(0x4);switch(_0x2645ff[_0x5e212c(0x395)]){case'rect':_0x263b86[0x0]=_0x2645ff['x'],_0x263b86[0x1]=_0x2645ff['y'],_0x263b86[0x2]=_0x2645ff['x']+_0x2645ff[_0x5e212c(0x335)],_0x263b86[0x3]=_0x2645ff['y']+_0x2645ff['height'];break;case _0x5e212c(0x25e):_0x263b86[0x0]=_0x2645ff['cx']-_0x2645ff['r'],_0x263b86[0x1]=_0x2645ff['cy']-_0x2645ff['r'],_0x263b86[0x2]=_0x2645ff['cx']+_0x2645ff['r'],_0x263b86[0x3]=_0x2645ff['cy']+_0x2645ff['r'];break;case _0x5e212c(0x374):_0x263b86[0x0]=_0x2645ff['cx']-_0x2645ff['rx'],_0x263b86[0x1]=_0x2645ff['cy']-_0x2645ff['ry'],_0x263b86[0x2]=_0x2645ff['cx']+_0x2645ff['rx'],_0x263b86[0x3]=_0x2645ff['cy']+_0x2645ff['ry'];break;case _0x5e212c(0x318):case _0x5e212c(0x25c):var _0x1b44a5=_0x2645ff[_0x5e212c(0x1c4)],_0x4e3ba8=_0x2645ff[_0x5e212c(0x1b7)],_0x599ccb=Number[_0x5e212c(0x3b4)],_0x5800de=Number[_0x5e212c(0x3b4)],_0x12e7b6=0x0,_0x45afa4=0x0;for(var _0x54c471=0x0;_0x54c471<_0x1b44a5[_0x5e212c(0x442)];++_0x54c471){_0x1b44a5[_0x54c471]<_0x599ccb&&(_0x599ccb=_0x1b44a5[_0x54c471]),_0x1b44a5[_0x54c471]>_0x12e7b6&&(_0x12e7b6=_0x1b44a5[_0x54c471]),_0x4e3ba8[_0x54c471]<_0x5800de&&(_0x5800de=_0x4e3ba8[_0x54c471]),_0x4e3ba8[_0x54c471]>_0x45afa4&&(_0x45afa4=_0x4e3ba8[_0x54c471]);}_0x263b86[0x0]=_0x599ccb,_0x263b86[0x1]=_0x5800de,_0x263b86[0x2]=_0x12e7b6,_0x263b86[0x3]=_0x45afa4;break;case _0x5e212c(0x43c):_0x263b86[0x0]=_0x2645ff['cx']-VIA_REGION_POINT_RADIUS,_0x263b86[0x1]=_0x2645ff['cy']-VIA_REGION_POINT_RADIUS,_0x263b86[0x2]=_0x2645ff['cx']+VIA_REGION_POINT_RADIUS,_0x263b86[0x3]=_0x2645ff['cy']+VIA_REGION_POINT_RADIUS;break;}return _0x263b86;}function is_inside_region(_0x47c056,_0x3a35db,_0x393819){var _0x53199b=_0x5d4abf,_0x5c1393=_via_canvas_regions[_0x53199b(0x442)];if(_0x5c1393===0x0)return-0x1;var _0x4ce111,_0x3481a8,_0x525953;_0x393819?(_0x4ce111=_0x5c1393-0x1,_0x3481a8=-0x1,_0x525953=-0x1):(_0x4ce111=0x0,_0x3481a8=_0x5c1393,_0x525953=0x1);var _0x11c495=_0x4ce111;while(_0x11c495!==_0x3481a8){var _0x240602=is_inside_this_region(_0x47c056,_0x3a35db,_0x11c495);if(_0x240602)return _0x11c495;_0x11c495=_0x11c495+_0x525953;}return-0x1;}function is_inside_this_region(_0x176100,_0xd7e22e,_0x3ed4c4){var _0xc37484=_0x5d4abf,_0x1e799f=_via_canvas_regions[_0x3ed4c4][_0xc37484(0x40a)],_0x7925c3=![];switch(_0x1e799f[_0xc37484(0x395)]){case VIA_REGION_SHAPE[_0xc37484(0x428)]:_0x7925c3=is_inside_rect(_0x1e799f['x'],_0x1e799f['y'],_0x1e799f[_0xc37484(0x335)],_0x1e799f[_0xc37484(0x3f2)],_0x176100,_0xd7e22e);break;case VIA_REGION_SHAPE[_0xc37484(0x2ef)]:_0x7925c3=is_inside_circle(_0x1e799f['cx'],_0x1e799f['cy'],_0x1e799f['r'],_0x176100,_0xd7e22e);break;case VIA_REGION_SHAPE[_0xc37484(0x336)]:_0x7925c3=is_inside_ellipse(_0x1e799f['cx'],_0x1e799f['cy'],_0x1e799f['rx'],_0x1e799f['ry'],_0x176100,_0xd7e22e);break;case VIA_REGION_SHAPE['POLYLINE']:case VIA_REGION_SHAPE[_0xc37484(0x24a)]:_0x7925c3=is_inside_polygon(_0x1e799f[_0xc37484(0x1c4)],_0x1e799f[_0xc37484(0x1b7)],_0x176100,_0xd7e22e);break;case VIA_REGION_SHAPE[_0xc37484(0x3b6)]:_0x7925c3=is_inside_point(_0x1e799f['cx'],_0x1e799f['cy'],_0x176100,_0xd7e22e);break;}return _0x7925c3;}function is_inside_circle(_0x269fe9,_0x579330,_0x4e6989,_0x42ca57,_0x4c1b7d){var _0xddf21c=_0x42ca57-_0x269fe9,_0x16d31e=_0x4c1b7d-_0x579330;return _0xddf21c*_0xddf21c+_0x16d31e*_0x16d31e<_0x4e6989*_0x4e6989;}function is_inside_rect(_0x31189a,_0x554a01,_0xaa78ab,_0x4feb21,_0x3aab37,_0x119f0a){return _0x3aab37>_0x31189a&&_0x3aab37<_0x31189a+_0xaa78ab&&_0x119f0a>_0x554a01&&_0x119f0a<_0x554a01+_0x4feb21;}function is_inside_ellipse(_0x48b78e,_0x32367d,_0x54d9fb,_0x20392d,_0x45367a,_0x5e4304){var _0x17b9aa=_0x48b78e-_0x45367a,_0x25cf8f=_0x32367d-_0x5e4304;return _0x17b9aa*_0x17b9aa/(_0x54d9fb*_0x54d9fb)+_0x25cf8f*_0x25cf8f/(_0x20392d*_0x20392d)<0x1;}function is_inside_polygon(_0x50092e,_0x3afe61,_0x1c147e,_0x24694d){var _0x44aae1=_0x5d4abf;if(_0x50092e[_0x44aae1(0x442)]===0x0||_0x3afe61[_0x44aae1(0x442)]===0x0)return 0x0;var _0x121ca5=0x0,_0x54b4c8=_0x50092e[_0x44aae1(0x442)],_0x4452ed;for(_0x4452ed=0x0;_0x4452ed<_0x54b4c8-0x1;++_0x4452ed){var _0x329d61=is_left(_0x50092e[_0x4452ed],_0x3afe61[_0x4452ed],_0x50092e[_0x4452ed+0x1],_0x3afe61[_0x4452ed+0x1],_0x1c147e,_0x24694d);_0x3afe61[_0x4452ed]<=_0x24694d?_0x3afe61[_0x4452ed+0x1]>_0x24694d&&_0x329d61>0x0&&++_0x121ca5:_0x3afe61[_0x4452ed+0x1]<=_0x24694d&&_0x329d61<0x0&&--_0x121ca5;}var _0x329d61=is_left(_0x50092e[_0x54b4c8-0x1],_0x3afe61[_0x54b4c8-0x1],_0x50092e[0x0],_0x3afe61[0x0],_0x1c147e,_0x24694d);return _0x3afe61[_0x54b4c8-0x1]<=_0x24694d?_0x3afe61[0x0]>_0x24694d&&_0x329d61>0x0&&++_0x121ca5:_0x3afe61[0x0]<=_0x24694d&&_0x329d61<0x0&&--_0x121ca5,_0x121ca5===0x0?0x0:0x1;}function is_inside_point(_0x133afb,_0x320871,_0x39e279,_0x22bd45){var _0x1ab833=_0x39e279-_0x133afb,_0x2cfd3c=_0x22bd45-_0x320871,_0x4a7e0b=VIA_POLYGON_VERTEX_MATCH_TOL*VIA_POLYGON_VERTEX_MATCH_TOL;return _0x1ab833*_0x1ab833+_0x2cfd3c*_0x2cfd3c<_0x4a7e0b;}function is_left(_0x33a3ee,_0x242225,_0xc2272b,_0x454413,_0x575d6c,_0x2f8d91){return(_0xc2272b-_0x33a3ee)*(_0x2f8d91-_0x242225)-(_0x575d6c-_0x33a3ee)*(_0x454413-_0x242225);}function is_on_region_corner(_0x35cf44,_0x2ac1e6){var _0x31db59=_0x5d4abf,_0x4dd1df=[-0x1,-0x1];for(var _0x416c1f=0x0;_0x416c1f<_via_canvas_regions[_0x31db59(0x442)];++_0x416c1f){var _0x3c7159=_via_canvas_regions[_0x416c1f][_0x31db59(0x40a)],_0x1cae9e=![];_0x4dd1df[0x0]=_0x416c1f;switch(_0x3c7159[_0x31db59(0x395)]){case VIA_REGION_SHAPE[_0x31db59(0x428)]:_0x1cae9e=is_on_rect_edge(_0x3c7159['x'],_0x3c7159['y'],_0x3c7159['width'],_0x3c7159['height'],_0x35cf44,_0x2ac1e6);break;case VIA_REGION_SHAPE[_0x31db59(0x2ef)]:_0x1cae9e=is_on_circle_edge(_0x3c7159['cx'],_0x3c7159['cy'],_0x3c7159['r'],_0x35cf44,_0x2ac1e6);break;case VIA_REGION_SHAPE[_0x31db59(0x336)]:_0x1cae9e=is_on_ellipse_edge(_0x3c7159['cx'],_0x3c7159['cy'],_0x3c7159['rx'],_0x3c7159['ry'],_0x35cf44,_0x2ac1e6);break;case VIA_REGION_SHAPE[_0x31db59(0x2cb)]:case VIA_REGION_SHAPE['POLYGON']:_0x1cae9e=is_on_polygon_vertex(_0x3c7159[_0x31db59(0x1c4)],_0x3c7159['all_points_y'],_0x35cf44,_0x2ac1e6);break;case VIA_REGION_SHAPE[_0x31db59(0x3b6)]:_0x1cae9e=0x0;break;}if(_0x1cae9e>0x0)return _0x4dd1df[0x1]=_0x1cae9e,_0x4dd1df;}return _0x4dd1df[0x0]=-0x1,_0x4dd1df;}function is_on_rect_edge(_0x2fc841,_0x476100,_0x5e5176,_0x4d1e21,_0x266a70,_0x249c3d){var _0x2a7af7=_0x5d4abf,_0x2c1f6f=Math['abs'](_0x2fc841-_0x266a70),_0x36f6e6=Math[_0x2a7af7(0x369)](_0x476100-_0x249c3d),_0x361b38=Math['abs'](_0x2fc841+_0x5e5176-_0x266a70),_0x419b89=Math['abs'](_0x476100+_0x4d1e21-_0x249c3d);if(_0x2c1f6f<VIA_REGION_EDGE_TOL&&_0x36f6e6<VIA_REGION_EDGE_TOL)return 0x1;if(_0x361b38<VIA_REGION_EDGE_TOL&&_0x36f6e6<VIA_REGION_EDGE_TOL)return 0x2;if(_0x361b38<VIA_REGION_EDGE_TOL&&_0x419b89<VIA_REGION_EDGE_TOL)return 0x3;if(_0x2c1f6f<VIA_REGION_EDGE_TOL&&_0x419b89<VIA_REGION_EDGE_TOL)return 0x4;var _0x2ccd32=Math['abs'](_0x2fc841+_0x5e5176/0x2-_0x266a70),_0x2a0e9a=Math[_0x2a7af7(0x369)](_0x476100+_0x4d1e21/0x2-_0x249c3d);if(_0x2ccd32<VIA_REGION_EDGE_TOL&&_0x36f6e6<VIA_REGION_EDGE_TOL)return 0x5;if(_0x361b38<VIA_REGION_EDGE_TOL&&_0x2a0e9a<VIA_REGION_EDGE_TOL)return 0x6;if(_0x2ccd32<VIA_REGION_EDGE_TOL&&_0x419b89<VIA_REGION_EDGE_TOL)return 0x7;if(_0x2c1f6f<VIA_REGION_EDGE_TOL&&_0x2a0e9a<VIA_REGION_EDGE_TOL)return 0x8;return 0x0;}function is_on_circle_edge(_0xd5c926,_0x2770b4,_0x45bb99,_0x159bba,_0x580688){var _0x36e7ea=_0x5d4abf,_0x4c9a2b=_0xd5c926-_0x159bba,_0x46095c=_0x2770b4-_0x580688;if(Math[_0x36e7ea(0x369)](Math[_0x36e7ea(0x28b)](_0x4c9a2b*_0x4c9a2b+_0x46095c*_0x46095c)-_0x45bb99)<VIA_REGION_EDGE_TOL){var _0x11d33e=Math['atan2'](_0x580688-_0x2770b4,_0x159bba-_0xd5c926);if(Math[_0x36e7ea(0x369)](_0x11d33e-Math['PI']/0x2)<VIA_THETA_TOL||Math[_0x36e7ea(0x369)](_0x11d33e+Math['PI']/0x2)<VIA_THETA_TOL)return 0x5;if(Math[_0x36e7ea(0x369)](_0x11d33e)<VIA_THETA_TOL||Math[_0x36e7ea(0x369)](Math[_0x36e7ea(0x369)](_0x11d33e)-Math['PI'])<VIA_THETA_TOL)return 0x6;if(_0x11d33e>0x0&&_0x11d33e<Math['PI']/0x2)return 0x1;if(_0x11d33e>Math['PI']/0x2&&_0x11d33e<Math['PI'])return 0x4;if(_0x11d33e<0x0&&_0x11d33e>-(Math['PI']/0x2))return 0x2;if(_0x11d33e<-(Math['PI']/0x2)&&_0x11d33e>-Math['PI'])return 0x3;}else return 0x0;}function is_on_ellipse_edge(_0x4d091c,_0xdb0283,_0x16142b,_0x3288ac,_0x383cdb,_0x4ee344){var _0x2c5044=_0x5d4abf,_0x1cc102=(_0x4d091c-_0x383cdb)/_0x16142b,_0x1a00cf=(_0xdb0283-_0x4ee344)/_0x3288ac;if(Math[_0x2c5044(0x369)](Math['sqrt'](_0x1cc102*_0x1cc102+_0x1a00cf*_0x1a00cf)-0x1)<VIA_ELLIPSE_EDGE_TOL){var _0x55fb6e=Math[_0x2c5044(0x3fa)](_0x4ee344-_0xdb0283,_0x383cdb-_0x4d091c);if(Math[_0x2c5044(0x369)](_0x55fb6e-Math['PI']/0x2)<VIA_THETA_TOL||Math['abs'](_0x55fb6e+Math['PI']/0x2)<VIA_THETA_TOL)return 0x5;if(Math[_0x2c5044(0x369)](_0x55fb6e)<VIA_THETA_TOL||Math['abs'](Math['abs'](_0x55fb6e)-Math['PI'])<VIA_THETA_TOL)return 0x6;}else return 0x0;}function is_on_polygon_vertex(_0x3cd08e,_0x2a9a1a,_0xe17e02,_0x14ce61){var _0x2fffdb=_0x5d4abf,_0x39fbf1=_0x3cd08e[_0x2fffdb(0x442)];for(var _0x2a0c4a=0x0;_0x2a0c4a<_0x39fbf1;++_0x2a0c4a){if(Math[_0x2fffdb(0x369)](_0x3cd08e[_0x2a0c4a]-_0xe17e02)<VIA_POLYGON_VERTEX_MATCH_TOL&&Math[_0x2fffdb(0x369)](_0x2a9a1a[_0x2a0c4a]-_0x14ce61)<VIA_POLYGON_VERTEX_MATCH_TOL)return VIA_POLYGON_RESIZE_VERTEX_OFFSET+_0x2a0c4a;}return 0x0;}function rect_standardize_coordinates(_0x26e27d){if(_0x26e27d[0x0]>_0x26e27d[0x2]){var _0x30ae6b=_0x26e27d[0x0];_0x26e27d[0x0]=_0x26e27d[0x2],_0x26e27d[0x2]=_0x30ae6b;}if(_0x26e27d[0x1]>_0x26e27d[0x3]){var _0x30ae6b=_0x26e27d[0x1];_0x26e27d[0x1]=_0x26e27d[0x3],_0x26e27d[0x3]=_0x30ae6b;}}function rect_update_corner(_0x55d758,_0x235363,_0x4fd3e4,_0x18e599,_0x5b989d){var _0x4ce6e3=_0x5d4abf;if(_0x5b989d)switch(_0x55d758){case 0x1:case 0x3:var _0x1f7ed4=_0x235363[0x2]-_0x235363[0x0],_0x195d4c=_0x235363[0x3]-_0x235363[0x1],_0x520f94=Math[_0x4ce6e3(0x28b)](_0x1f7ed4*_0x1f7ed4+_0x195d4c*_0x195d4c),_0x40e207=_0x1f7ed4/_0x520f94,_0x484bae=_0x195d4c/_0x520f94,_0x58b39e=(_0x4fd3e4-_0x235363[0x0])*_0x40e207+(_0x18e599-_0x235363[0x1])*_0x484bae,_0x6e7cb8=_0x40e207*_0x58b39e,_0x5d147c=_0x484bae*_0x58b39e;_0x4fd3e4=Math[_0x4ce6e3(0x2b4)](_0x235363[0x0]+_0x6e7cb8),_0x18e599=Math['round'](_0x235363[0x1]+_0x5d147c);break;case 0x2:case 0x4:var _0x1f7ed4=_0x235363[0x2]-_0x235363[0x0],_0x195d4c=_0x235363[0x1]-_0x235363[0x3],_0x520f94=Math['sqrt'](_0x1f7ed4*_0x1f7ed4+_0x195d4c*_0x195d4c),_0x40e207=_0x1f7ed4/_0x520f94,_0x484bae=_0x195d4c/_0x520f94,_0x58b39e=(_0x4fd3e4-_0x235363[0x0])*_0x40e207+(_0x18e599-_0x235363[0x3])*_0x484bae,_0x6e7cb8=_0x40e207*_0x58b39e,_0x5d147c=_0x484bae*_0x58b39e;_0x4fd3e4=Math['round'](_0x235363[0x0]+_0x6e7cb8),_0x18e599=Math['round'](_0x235363[0x3]+_0x5d147c);break;}switch(_0x55d758){case 0x1:_0x235363[0x0]=_0x4fd3e4,_0x235363[0x1]=_0x18e599;break;case 0x3:_0x235363[0x2]=_0x4fd3e4,_0x235363[0x3]=_0x18e599;break;case 0x2:_0x235363[0x2]=_0x4fd3e4,_0x235363[0x1]=_0x18e599;break;case 0x4:_0x235363[0x0]=_0x4fd3e4,_0x235363[0x3]=_0x18e599;break;case 0x5:_0x235363[0x1]=_0x18e599;break;case 0x6:_0x235363[0x2]=_0x4fd3e4;break;case 0x7:_0x235363[0x3]=_0x18e599;break;case 0x8:_0x235363[0x0]=_0x4fd3e4;break;}}function _via_update_ui_components(){!_via_is_window_resized&&_via_current_image_loaded&&(_via_is_window_resized=!![],show_single_image_view(),_via_show_img(_via_image_index),_via_is_canvas_zoomed&&reset_zoom_level(),show_message('Browser\x20window\x20resized.\x20Updated\x20user\x20interface\x20components.'));}_via_reg_canvas['addEventListener'](_0x5d4abf(0x2db),function(_0x502262){var _0x3b23c3=_0x5d4abf;if(_via_is_user_updating_attribute_value||_via_is_user_updating_attribute_name||_via_is_user_adding_attribute_name)return;_0x502262[_0x3b23c3(0x444)]===0x11&&(_via_is_ctrl_pressed=![]);}),_via_reg_canvas['addEventListener'](_0x5d4abf(0x1e9),function(_0x1fe894){var _0x46d40f=_0x5d4abf;if(_0x1fe894[_0x46d40f(0x32f)]){_via_is_ctrl_pressed=!![];if(_0x1fe894[_0x46d40f(0x444)]===0x53){download_all_region_data('csv'),_0x1fe894['preventDefault']();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x41){sel_all_regions(),_0x1fe894[_0x46d40f(0x3ea)]();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x43){(_via_is_region_selected||_via_is_all_region_selected)&&(copy_sel_regions(),_0x1fe894[_0x46d40f(0x3ea)]());return;}if(_0x1fe894[_0x46d40f(0x444)]===0x56){paste_sel_regions_in_current_image(),_0x1fe894['preventDefault']();return;}}if(_via_is_region_selected){_0x1fe894[_0x46d40f(0x3ea)]();if(_0x1fe894['which']===0x2e||_0x1fe894[_0x46d40f(0x444)]===0x8){del_sel_regions();return;}if(_0x1fe894[_0x46d40f(0x444)]>0x24&&_0x1fe894[_0x46d40f(0x444)]<0x29){var _0x22c80e=0x1;_0x1fe894[_0x46d40f(0x2ad)]&&(_0x22c80e=0xa);var _0x28a796=0x0,_0x38dc53=0x0;switch(_0x1fe894['which']){case 0x25:_0x28a796=-_0x22c80e;break;case 0x26:_0x38dc53=-_0x22c80e;break;case 0x27:_0x28a796=_0x22c80e;break;case 0x28:_0x38dc53=_0x22c80e;break;}_via_move_selected_regions(_0x28a796,_0x38dc53),_via_redraw_reg_canvas(),_via_reg_canvas[_0x46d40f(0x466)]();return;}}if(_0x1fe894['which']===0x4e||_0x1fe894[_0x46d40f(0x444)]===0x27){move_to_next_image(),_0x1fe894[_0x46d40f(0x3ea)]();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x50||_0x1fe894['which']===0x25){move_to_prev_image(),_0x1fe894['preventDefault']();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x20&&_via_current_image_loaded){toggle_img_list(),_0x1fe894[_0x46d40f(0x3ea)]();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x53){project_save_with_confirm();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x4f){project_open_select_project_file();return;}if(_via_current_image_loaded){if(_0x1fe894['which']===0x3d||_0x1fe894['which']===0xbb){_0x1fe894['shiftKey']?zoom_in():reset_zoom_level();return;}if(_0x1fe894['which']===0xad||_0x1fe894[_0x46d40f(0x444)]===0xbd){zoom_out();return;}}if(_0x1fe894[_0x46d40f(0x444)]===0x1b){_via_is_loading_current_image&&_via_cancel_current_image_loading();_via_is_user_resizing_region&&(_via_is_user_resizing_region=![]);_via_is_region_selected&&(_via_is_region_selected=![],_via_user_sel_region_id=-0x1,toggle_all_regions_selection(![]));_via_is_user_drawing_polygon&&(_via_is_user_drawing_polygon=![],_via_canvas_regions['splice'](_via_current_polygon_region_id,0x1));_via_is_user_drawing_region&&(_via_is_user_drawing_region=![]);_via_is_user_resizing_region&&(_via_is_user_resizing_region=![]);(_via_is_user_updating_attribute_name||_via_is_user_updating_attribute_value)&&(_via_is_user_updating_attribute_name=![],_via_is_user_updating_attribute_value=![]);_via_is_user_moving_region&&(_via_is_user_moving_region=![]);_via_redraw_reg_canvas(),_via_reg_canvas['focus'](),_0x1fe894['preventDefault']();return;}if(_0x1fe894[_0x46d40f(0x444)]===0x70){set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x46d40f(0x20b)]),_0x1fe894[_0x46d40f(0x3ea)]();return;}if(_0x1fe894['which']===0x71){set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x46d40f(0x30d)]),_0x1fe894[_0x46d40f(0x3ea)]();return;}if(_0x1fe894[_0x46d40f(0x444)]===0xd){if(_via_current_shape===VIA_REGION_SHAPE[_0x46d40f(0x2cb)]||_via_current_shape===VIA_REGION_SHAPE[_0x46d40f(0x24a)]){var _0x5f0533=_via_current_polygon_region_id,_0x17419e=_via_current_shape,_0x5a8b67=_via_canvas_regions[_0x5f0533][_0x46d40f(0x40a)][_0x46d40f(0x1c4)][_0x46d40f(0x442)];if(_0x5a8b67<=0x2&&_0x17419e===VIA_REGION_SHAPE['POLYGON']){show_message(_0x46d40f(0x387)+_0x46d40f(0x306));return;}if(_0x5a8b67<=0x1&&_0x17419e===VIA_REGION_SHAPE['POLYLINE']){show_message(_0x46d40f(0x3d6)+_0x46d40f(0x306));return;}var _0x21c7f8=_via_image_id;_via_current_polygon_region_id=-0x1,_via_is_user_drawing_polygon=![],_via_is_user_drawing_region=![],_via_img_metadata[_0x21c7f8][_0x46d40f(0x1e0)][_0x5f0533]={},add_new_polygon(_0x21c7f8,_0x17419e,_0x5f0533),select_only_region(_0x5f0533),set_region_annotations_to_default_value(_0x5f0533),annotation_editor_add_row(_0x5f0533),annotation_editor_scroll_to_row(_0x5f0533),_via_redraw_reg_canvas(),_via_reg_canvas[_0x46d40f(0x466)]();}}});function add_new_polygon(_0x210f59,_0x384401,_0x34ae98){var _0x1a4c48=_0x5d4abf,_0x23877d=_via_canvas_regions[_0x34ae98][_0x1a4c48(0x40a)][_0x1a4c48(0x1c4)][_0x1a4c48(0x1af)](0x0),_0xcdd1ad=_via_canvas_regions[_0x34ae98][_0x1a4c48(0x40a)][_0x1a4c48(0x1b7)][_0x1a4c48(0x1af)](0x0),_0x51cf0c=[],_0x3f084a=[],_0x17c147=_0x23877d[_0x1a4c48(0x442)],_0x44d756;for(_0x44d756=0x0;_0x44d756<_0x17c147;++_0x44d756){_0x23877d[_0x44d756]=Math[_0x1a4c48(0x2b4)](_0x23877d[_0x44d756]*_via_canvas_scale),_0xcdd1ad[_0x44d756]=Math[_0x1a4c48(0x2b4)](_0xcdd1ad[_0x44d756]*_via_canvas_scale),_0x51cf0c[_0x44d756]=Math[_0x1a4c48(0x2b4)](_0x23877d[_0x44d756]/_via_canvas_scale),_0x3f084a[_0x44d756]=Math[_0x1a4c48(0x2b4)](_0xcdd1ad[_0x44d756]/_via_canvas_scale);}var _0x3b3270=new file_region();_0x3b3270['shape_attributes'][_0x1a4c48(0x395)]=_0x384401,_0x3b3270['shape_attributes']['all_points_x']=_0x23877d,_0x3b3270[_0x1a4c48(0x40a)]['all_points_y']=_0xcdd1ad,_via_img_metadata[_0x210f59][_0x1a4c48(0x1e0)][_0x34ae98]=_0x3b3270,_0x210f59===_via_image_id&&(_via_canvas_regions[_0x34ae98]['shape_attributes'][_0x1a4c48(0x395)]=_0x384401,_via_canvas_regions[_0x34ae98][_0x1a4c48(0x40a)][_0x1a4c48(0x1c4)]=_0x51cf0c,_via_canvas_regions[_0x34ae98][_0x1a4c48(0x40a)][_0x1a4c48(0x1b7)]=_0x3f084a);}function del_sel_regions(){var _0x13af37=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x13af37(0x357));return;}var _0x190e23=0x0;if(_via_is_all_region_selected)_0x190e23=_via_canvas_regions['length'],_via_canvas_regions['splice'](0x0),_via_img_metadata[_via_image_id][_0x13af37(0x1e0)]['splice'](0x0);else{var _0x5e7b07=[];for(var _0x380bcc=0x0;_0x380bcc<_via_canvas_regions['length'];++_0x380bcc){_via_region_selected_flag[_0x380bcc]&&(_0x5e7b07[_0x13af37(0x355)](_0x380bcc),_via_region_selected_flag[_0x380bcc]=![]);}_0x5e7b07[_0x13af37(0x3e4)](function(_0x1e9301,_0x291db2){return _0x291db2-_0x1e9301;});for(var _0x380bcc=0x0;_0x380bcc<_0x5e7b07[_0x13af37(0x442)];++_0x380bcc){_via_canvas_regions[_0x13af37(0x292)](_0x5e7b07[_0x380bcc],0x1);var _0x504f15=_via_img_metadata[_via_image_id][_0x13af37(0x1e0)]['splice'](_0x5e7b07[_0x380bcc],0x1);_0x504f15[0x0][_0x13af37(0x40a)][_0x13af37(0x2f7)]!=undefined&&_0x504f15[0x0][_0x13af37(0x40a)][_0x13af37(0x2f7)]!=null&&del_dtt_id[_0x13af37(0x355)](_0x504f15[0x0][_0x13af37(0x40a)]['dtt_id']),_0x190e23+=0x1;}_0x5e7b07[_0x13af37(0x442)]&&(_via_reg_canvas[_0x13af37(0x1bf)]['cursor']='default');}_via_is_all_region_selected=![],_via_is_region_selected=![],_via_user_sel_region_id=-0x1,_via_canvas_regions[_0x13af37(0x442)]===0x0?_via_clear_reg_canvas():_via_redraw_reg_canvas(),_via_reg_canvas[_0x13af37(0x466)](),update_annotation_editor(),show_message('Deleted\x20'+_0x190e23+_0x13af37(0x422));}function sel_all_regions(){var _0x172376=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x172376(0x357));return;}toggle_all_regions_selection(!![]),_via_is_all_region_selected=!![],_via_redraw_reg_canvas();}function copy_sel_regions(){var _0x2aebdf=_0x5d4abf;if(!_via_current_image_loaded){show_message('First\x20load\x20some\x20images!');return;}if(_via_is_region_selected||_via_is_all_region_selected){_via_copied_image_regions[_0x2aebdf(0x292)](0x0);for(var _0x21aa31=0x0;_0x21aa31<_via_img_metadata[_via_image_id][_0x2aebdf(0x1e0)][_0x2aebdf(0x442)];++_0x21aa31){var _0x2497ff=_via_img_metadata[_via_image_id][_0x2aebdf(0x1e0)][_0x21aa31],_0x46bb32=_via_canvas_regions[_0x21aa31];_via_region_selected_flag[_0x21aa31]&&_via_copied_image_regions[_0x2aebdf(0x355)](clone_image_region(_0x2497ff));}show_message(_0x2aebdf(0x366)+_via_copied_image_regions[_0x2aebdf(0x442)]+_0x2aebdf(0x1f7));}else show_message('Select\x20a\x20region\x20first!');}function paste_sel_regions_in_current_image(){var _0x4e6484=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x4e6484(0x357));return;}if(_via_copied_image_regions[_0x4e6484(0x442)]){var _0x4261e4=0x0;for(var _0x52fe3c=0x0;_0x52fe3c<_via_copied_image_regions[_0x4e6484(0x442)];++_0x52fe3c){var _0x3bf30c=get_region_bounding_box(_via_copied_image_regions[_0x52fe3c]);if(_0x3bf30c[0x2]<_via_current_image_width&&_0x3bf30c[0x3]<_via_current_image_height){var _0x2b68a2=clone_image_region(_via_copied_image_regions[_0x52fe3c]);_via_img_metadata[_via_image_id][_0x4e6484(0x1e0)][_0x4e6484(0x355)](_0x2b68a2),_0x4261e4+=0x1;}}_via_load_canvas_regions();var _0x3da146=_via_copied_image_regions[_0x4e6484(0x442)]-_0x4261e4;show_message(_0x4e6484(0x2a1)+_0x4261e4+_0x4e6484(0x1e7)+'Discarded\x20'+_0x3da146+_0x4e6484(0x29b)),_via_redraw_reg_canvas(),_via_reg_canvas[_0x4e6484(0x466)]();}else show_message(_0x4e6484(0x1fa));}function paste_to_multiple_images_with_confirm(){var _0x36d862=_0x5d4abf;if(_via_copied_image_regions[_0x36d862(0x442)]===0x0){show_message(_0x36d862(0x23d));return;}var _0x70963a={'title':_0x36d862(0x496)},_0x2bac63={'region_count':{'type':'text','name':'Number\x20of\x20copied\x20regions','value':_via_copied_image_regions[_0x36d862(0x442)],'disabled':!![]},'prev_next_count':{'type':_0x36d862(0x263),'name':_0x36d862(0x221),'placeholder':_0x36d862(0x3dd),'disabled':![],'size':0x1e},'img_index_list':{'type':'text','name':_0x36d862(0x3f1),'placeholder':_0x36d862(0x271),'disabled':![],'size':0x1e},'regex':{'type':_0x36d862(0x263),'name':'Copy\x20to\x20filenames\x20matching\x20a\x20regular\x20expression<br><span\x20style=\x22font-size:0.8rem\x22>For\x20example:\x20<strong>_large</strong>\x20pastes\x20the\x20copied\x20regions\x20to\x20all\x20images\x20whose\x20filename\x20contain\x20the\x20keyword\x20<i>_large</i></span>','placeholder':_0x36d862(0x1ae),'disabled':![],'size':0x1e},'include_region_attributes':{'type':'checkbox','name':'Paste\x20also\x20the\x20region\x20annotations','checked':!![]}};invoke_with_user_inputs(paste_to_multiple_images_confirmed,_0x2bac63,_0x70963a);}function paste_to_multiple_images_confirmed(_0x336a08){var _0x438a6c=_0x5d4abf;_via_paste_to_multiple_images_input=_0x336a08;var _0x5d5885=generate_img_index_list(_0x336a08),_0x4b6bdb,_0x540e06=0x0;for(_0x4b6bdb=0x0;_0x4b6bdb<_0x5d5885[_0x438a6c(0x442)];_0x4b6bdb++){_0x540e06+=paste_regions(_0x5d5885[_0x4b6bdb]);}show_message('Pasted\x20['+_0x540e06+_0x438a6c(0x350)+_0x438a6c(0x1b4)+_0x5d5885[_0x438a6c(0x442)]+_0x438a6c(0x47e)),_0x5d5885['includes'](_via_image_index)&&(_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas[_0x438a6c(0x466)]()),user_input_default_cancel_handler();}function paste_regions(_0x59d609){var _0x485a7f=_0x5d4abf,_0x2185f4=0x0;if(_via_copied_image_regions[_0x485a7f(0x442)]){var _0x520a48=_via_image_id_list[_0x59d609],_0x47482e;for(_0x47482e=0x0;_0x47482e<_via_copied_image_regions[_0x485a7f(0x442)];++_0x47482e){var _0xa73a73=clone_image_region(_via_copied_image_regions[_0x47482e]);_via_img_metadata[_0x520a48][_0x485a7f(0x1e0)][_0x485a7f(0x355)](_0xa73a73),_0x2185f4+=0x1;}}return _0x2185f4;}function del_sel_regions_with_confirm(){var _0x557a12=_0x5d4abf;if(_via_copied_image_regions[_0x557a12(0x442)]===0x0){show_message(_0x557a12(0x23d));return;}var _0x2bb79c,_0x3fb756,_0xdc00a3;_via_paste_to_multiple_images_input&&(_0x2bb79c=_via_paste_to_multiple_images_input['prev_next_count']['value'],_0x3fb756=_via_paste_to_multiple_images_input[_0x557a12(0x2a0)][_0x557a12(0x290)],_0xdc00a3=_via_paste_to_multiple_images_input['regex'][_0x557a12(0x290)]);var _0x482cb1={'title':'Undo\x20Regions\x20Pasted\x20to\x20Multiple\x20Images'},_0x26b6bc={'region_count':{'type':'text','name':'Number\x20of\x20regions\x20selected','value':_via_copied_image_regions['length'],'disabled':!![]},'prev_next_count':{'type':_0x557a12(0x263),'name':_0x557a12(0x34a),'placeholder':'2,3','disabled':![],'size':0x1e,'value':_0x2bb79c},'img_index_list':{'type':'text','name':_0x557a12(0x229),'placeholder':_0x557a12(0x271),'disabled':![],'size':0x1e,'value':_0x3fb756},'regex':{'type':_0x557a12(0x263),'name':_0x557a12(0x388),'placeholder':_0x557a12(0x1ae),'disabled':![],'size':0x1e,'value':_0xdc00a3}};invoke_with_user_inputs(del_sel_regions_confirmed,_0x26b6bc,_0x482cb1);}function del_sel_regions_confirmed(_0x6b3361){var _0x403df7=_0x5d4abf;user_input_default_cancel_handler();var _0x5447c2=generate_img_index_list(_0x6b3361),_0x314e20,_0x39a276=0x0;for(_0x314e20=0x0;_0x314e20<_0x5447c2['length'];_0x314e20++){_0x39a276+=delete_regions(_0x5447c2[_0x314e20]);}show_message('Deleted\x20['+_0x39a276+']\x20regions\x20'+_0x403df7(0x1b4)+_0x5447c2['length']+_0x403df7(0x47e)),_0x5447c2[_0x403df7(0x2b5)](_via_image_index)&&(_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas[_0x403df7(0x466)]());}function delete_regions(_0xf9d483){var _0x5a32c9=_0x5d4abf,_0x506991=0x0;if(_via_copied_image_regions[_0x5a32c9(0x442)]){var _0x456ebf=_via_image_id_list[_0xf9d483],_0x75b9ca;for(_0x75b9ca=0x0;_0x75b9ca<_via_copied_image_regions[_0x5a32c9(0x442)];++_0x75b9ca){var _0x4ded59=JSON['stringify'](_via_copied_image_regions[_0x75b9ca]['shape_attributes']),_0x3af0c7;for(_0x3af0c7=_via_img_metadata[_0x456ebf][_0x5a32c9(0x1e0)]['length']-0x1;_0x3af0c7>=0x0;--_0x3af0c7){if(JSON[_0x5a32c9(0x3d3)](_via_img_metadata[_0x456ebf][_0x5a32c9(0x1e0)][_0x3af0c7][_0x5a32c9(0x40a)])===_0x4ded59){_via_img_metadata[_0x456ebf][_0x5a32c9(0x1e0)][_0x5a32c9(0x292)](_0x3af0c7,0x1),_0x506991+=0x1;break;}}}}return _0x506991;}function move_to_prev_image(){var _0x423540=_0x5d4abf;if(_via_img_count>0x0){_via_is_region_selected=![],_via_user_sel_region_id=-0x1;var _0x28fb1d=parseInt(_via_image_index);if(_via_img_fn_list_img_index_list[_0x423540(0x2b5)](_0x28fb1d)){var _0x3a9671=_via_img_fn_list_img_index_list[_0x423540(0x3ba)](_0x28fb1d),_0x3b17ad=_0x3a9671-0x1;_0x3b17ad===-0x1&&(_0x3b17ad=_via_img_fn_list_img_index_list[_0x423540(0x442)]-0x1);var _0x42e242=_via_img_fn_list_img_index_list[_0x3b17ad];_via_show_img(_0x42e242);}else _via_img_fn_list_img_index_list[_0x423540(0x442)]===0x0?show_message(_0x423540(0x2d3)):_via_show_img(_via_img_fn_list_img_index_list[0x0]);typeof _via_hook_prev_image===_0x423540(0x423)&&_via_hook_prev_image(_0x28fb1d);}}function move_to_next_image(){var _0x122bb4=_0x5d4abf;if(_via_img_count>0x0){_via_is_region_selected=![],_via_user_sel_region_id=-0x1;var _0x30ee94=parseInt(_via_image_index);if(_via_img_fn_list_img_index_list['includes'](_0x30ee94)){var _0x415675=_via_img_fn_list_img_index_list[_0x122bb4(0x3ba)](_0x30ee94),_0x2f4986=_0x415675+0x1;_0x2f4986===_via_img_fn_list_img_index_list[_0x122bb4(0x442)]&&(_0x2f4986=0x0);var _0x21def2=_via_img_fn_list_img_index_list[_0x2f4986];_via_show_img(_0x21def2);}else _via_img_fn_list_img_index_list[_0x122bb4(0x442)]===0x0?show_message('Filtered\x20file\x20list\x20does\x20not\x20any\x20files!'):_via_show_img(_via_img_fn_list_img_index_list[0x0]);typeof _via_hook_next_image==='function'&&_via_hook_next_image(_0x30ee94);}}function set_zoom(_0x303542){var _0x1248e0=_0x5d4abf;_0x303542===VIA_CANVAS_DEFAULT_ZOOM_LEVEL_INDEX?(_via_is_canvas_zoomed=![],_via_canvas_zoom_level_index=VIA_CANVAS_DEFAULT_ZOOM_LEVEL_INDEX):(_via_is_canvas_zoomed=!![],_via_canvas_zoom_level_index=_0x303542);var _0x4fa32d=VIA_CANVAS_ZOOM_LEVELS[_via_canvas_zoom_level_index];set_all_canvas_scale(_0x4fa32d),set_all_canvas_size(_via_canvas_width*_0x4fa32d,_via_canvas_height*_0x4fa32d),_via_canvas_scale=_via_canvas_scale_without_zoom/_0x4fa32d,_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas[_0x1248e0(0x466)]();}function reset_zoom_level(){var _0x3e97cd=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x3e97cd(0x357));return;}_via_is_canvas_zoomed?(set_zoom(VIA_CANVAS_DEFAULT_ZOOM_LEVEL_INDEX),show_message(_0x3e97cd(0x392))):show_message(_0x3e97cd(0x41f));}function zoom_in(){var _0x5d9969=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x5d9969(0x357));return;}if(_via_canvas_zoom_level_index===VIA_CANVAS_ZOOM_LEVELS[_0x5d9969(0x442)]-0x1)show_message(_0x5d9969(0x40e));else{var _0x3a1aa6=_via_canvas_zoom_level_index+0x1;set_zoom(_0x3a1aa6),show_message(_0x5d9969(0x222)+VIA_CANVAS_ZOOM_LEVELS[_via_canvas_zoom_level_index]+'X');}}function zoom_out(){var _0x4099c4=_0x5d4abf;if(!_via_current_image_loaded){show_message(_0x4099c4(0x357));return;}if(_via_canvas_zoom_level_index===0x0)show_message('Further\x20zoom-out\x20not\x20possible');else{var _0x32ada4=_via_canvas_zoom_level_index-0x1;set_zoom(_0x32ada4),show_message('Zoomed\x20out\x20to\x20level\x20'+VIA_CANVAS_ZOOM_LEVELS[_via_canvas_zoom_level_index]+'X');}}function toggle_region_boundary_visibility(){var _0x1b1e2e=_0x5d4abf;_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x1b1e2e(0x2c7)]&&(_via_is_region_boundary_visible=!_via_is_region_boundary_visible,_via_redraw_reg_canvas(),_via_reg_canvas[_0x1b1e2e(0x466)]()),_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x1b1e2e(0x1b9)]&&(_via_settings['ui'][_0x1b1e2e(0x2b1)][_0x1b1e2e(0x322)]?(_via_settings['ui']['image_grid'][_0x1b1e2e(0x322)]=![],document[_0x1b1e2e(0x2f2)]('image_grid_content_rshape')[_0x1b1e2e(0x45b)]=''):(_via_settings['ui'][_0x1b1e2e(0x2b1)][_0x1b1e2e(0x322)]=!![],image_grid_page_show_all_regions()));}function toggle_region_id_visibility(){var _0x44e3bd=_0x5d4abf;_via_is_region_id_visible=!_via_is_region_id_visible,_via_redraw_reg_canvas(),_via_reg_canvas[_0x44e3bd(0x466)]();}_via_reg_canvas[_0x5d4abf(0x391)](_0x5d4abf(0x44e),function(_0x3ed6d6){var _0xd331ff=_0x5d4abf;if(!_via_current_image_loaded)return;_0x3ed6d6['preventDefault'](),_via_is_region_selected||_via_is_all_region_selected?_0x3ed6d6[_0xd331ff(0x35e)]>0x0?region_label_update(+0x1):region_label_update(-0x1):_0x3ed6d6['deltaY']<0x0?zoom_in():zoom_out();});function region_label_update(_0x159870){var _0x18bc1a=_0x5d4abf,_0x2ca183=[_0x18bc1a(0x33c)];_0x2ca183=_0x2ca183[_0x18bc1a(0x31c)](Object[_0x18bc1a(0x2a3)](_via_attributes[_0x18bc1a(0x2a8)]));var _0x1ea526=_0x2ca183[_0x18bc1a(0x442)],_0x431c2a=_0x2ca183[_0x18bc1a(0x3ba)](_via_settings['ui'][_0x18bc1a(0x2e6)][_0x18bc1a(0x3c4)]),_0x3c8009;_0x431c2a!==-0x1&&(_0x3c8009=_0x431c2a+_0x159870,_0x3c8009<0x0&&(_0x3c8009=_0x1ea526+_0x3c8009),_0x3c8009>=_0x1ea526&&(_0x3c8009=_0x3c8009-_0x1ea526),_via_settings['ui']['image'][_0x18bc1a(0x3c4)]=_0x2ca183[_0x3c8009],_via_redraw_reg_canvas(),_via_reg_canvas[_0x18bc1a(0x466)]());}function leftsidebar_toggle(){var _0x44e318=_0x5d4abf,_0x5c40ed=document[_0x44e318(0x2f2)]('leftsidebar');_0x5c40ed[_0x44e318(0x1bf)][_0x44e318(0x426)]==='none'?(_0x5c40ed[_0x44e318(0x1bf)]['display']=_0x44e318(0x315),_via_current_image_loaded&&_via_show_img(_via_image_index),document[_0x44e318(0x2f2)](_0x44e318(0x1fc))[_0x44e318(0x1bf)][_0x44e318(0x426)]=_0x44e318(0x36a)):(_0x5c40ed[_0x44e318(0x1bf)][_0x44e318(0x426)]=_0x44e318(0x36a),document['getElementById'](_0x44e318(0x1fc))[_0x44e318(0x1bf)]['display']='table-cell');}function leftsidebar_increase_width(){var _0x96a544=_0x5d4abf,_0x22b3c9=document['getElementById']('leftsidebar'),_0x129756=_via_settings['ui'][_0x96a544(0x459)]+VIA_LEFTSIDEBAR_WIDTH_CHANGE;_0x22b3c9[_0x96a544(0x1bf)][_0x96a544(0x335)]=_0x129756+_0x96a544(0x1d3),_via_settings['ui'][_0x96a544(0x459)]=_0x129756,_via_current_image_loaded&&_via_show_img(_via_image_index);}function leftsidebar_decrease_width(){var _0xa4c775=_0x5d4abf,_0x5cf3da=document[_0xa4c775(0x2f2)](_0xa4c775(0x493)),_0x2b39b=_via_settings['ui'][_0xa4c775(0x459)]-VIA_LEFTSIDEBAR_WIDTH_CHANGE;_0x2b39b>=0x5&&(_0x5cf3da[_0xa4c775(0x1bf)]['width']=_0x2b39b+_0xa4c775(0x1d3),_via_settings['ui']['leftsidebar_width']=_0x2b39b,_via_current_image_loaded&&_via_show_img(_via_image_index));}function leftsidebar_show(){var _0x426add=_0x5d4abf,_0x545c91=document['getElementById'](_0x426add(0x493));_0x545c91['style']['display']=_0x426add(0x315),document[_0x426add(0x2f2)](_0x426add(0x1fc))[_0x426add(0x1bf)][_0x426add(0x426)]=_0x426add(0x36a);}function init_leftsidebar_accordion(){var _0x52f58a=_0x5d4abf,_0x590401=document[_0x52f58a(0x2f2)](_0x52f58a(0x493));_0x590401[_0x52f58a(0x1bf)][_0x52f58a(0x335)]=_via_settings['ui']['leftsidebar_width']+'rem';var _0x1377eb=document[_0x52f58a(0x1d9)](_0x52f58a(0x1c0)),_0x4e4a97;for(_0x4e4a97=0x0;_0x4e4a97<_0x1377eb[_0x52f58a(0x442)];++_0x4e4a97){_0x1377eb[_0x4e4a97][_0x52f58a(0x391)](_0x52f58a(0x340),function(){var _0x726ed8=_0x52f58a;this[_0x726ed8(0x32a)]['toggle'](_0x726ed8(0x3b9)),this['nextElementSibling'][_0x726ed8(0x32a)]['toggle'](_0x726ed8(0x231));switch(this[_0x726ed8(0x45b)]){case _0x726ed8(0x20c):update_attributes_update_panel();break;case _0x726ed8(0x297):update_img_fn_list();break;}});}}function is_img_fn_list_visible(){var _0x264989=_0x5d4abf;return img_fn_list_panel[_0x264989(0x32a)]['contains'](_0x264989(0x231));}function img_loading_spinbar(_0x56ed39,_0x12f761){var _0x3b664b=_0x5d4abf,_0x3e72cc=document[_0x3b664b(0x2f2)]('project_panel_title');_0x12f761?_0x3e72cc['innerHTML']=_0x3b664b(0x42f):_0x3e72cc[_0x3b664b(0x45b)]=_0x3b664b(0x491);}function update_img_fn_list(){var _0x1d346a=_0x5d4abf,_0x263c15=document[_0x1d346a(0x2f2)]('img_fn_list_regex')['value'],_0x4e3a1c=document[_0x1d346a(0x2f2)](_0x1d346a(0x25b));if(_0x263c15===''||_0x263c15===null){if(_0x4e3a1c[_0x1d346a(0x3a9)]===0x0){_via_img_fn_list_html=[],_via_img_fn_list_img_index_list=[],_via_img_fn_list_html[_0x1d346a(0x355)]('<ul>');for(var _0x357e2a=0x0;_0x357e2a<_via_image_filename_list[_0x1d346a(0x442)];++_0x357e2a){_via_img_fn_list_html[_0x1d346a(0x355)](img_fn_list_ith_entry_html(_0x357e2a)),_via_img_fn_list_img_index_list[_0x1d346a(0x355)](_0x357e2a);}_via_img_fn_list_html[_0x1d346a(0x355)]('</ul>'),img_fn_list[_0x1d346a(0x45b)]=_via_img_fn_list_html[_0x1d346a(0x323)](''),img_fn_list_scroll_to_current_file();}else img_fn_list_onpresetfilter_select();}else img_fn_list_generate_html(_0x263c15),img_fn_list[_0x1d346a(0x45b)]=_via_img_fn_list_html[_0x1d346a(0x323)](''),img_fn_list_scroll_to_current_file();}function img_fn_list_onregex(){var _0x30cffc=_0x5d4abf,_0x5d9a41=document[_0x30cffc(0x2f2)](_0x30cffc(0x339))[_0x30cffc(0x290)];img_fn_list_generate_html(_0x5d9a41),img_fn_list[_0x30cffc(0x45b)]=_via_img_fn_list_html['join'](''),img_fn_list_scroll_to_current_file();var _0x548c98=document['getElementById'](_0x30cffc(0x25b));if(_0x5d9a41==='')_0x548c98[_0x30cffc(0x3a9)]=0x0;else{var _0x2d00e5;for(_0x2d00e5=0x0;_0x2d00e5<_0x548c98[_0x30cffc(0x2c2)][_0x30cffc(0x442)];++_0x2d00e5){if(_0x548c98[_0x30cffc(0x2c2)][_0x2d00e5]['value']==='regex'){_0x548c98[_0x30cffc(0x3a9)]=_0x2d00e5;break;}}}}function img_fn_list_onpresetfilter_select(){var _0x1cf2b9=_0x5d4abf,_0x49b5d5=document[_0x1cf2b9(0x2f2)]('filelist_preset_filters_list'),_0x5c5dac=_0x49b5d5[_0x1cf2b9(0x2c2)][_0x49b5d5[_0x1cf2b9(0x3a9)]][_0x1cf2b9(0x290)];switch(_0x5c5dac){case _0x1cf2b9(0x27e):document[_0x1cf2b9(0x2f2)](_0x1cf2b9(0x339))[_0x1cf2b9(0x290)]='',img_fn_list_generate_html(),img_fn_list[_0x1cf2b9(0x45b)]=_via_img_fn_list_html['join'](''),img_fn_list_scroll_to_current_file();break;case'regex':document[_0x1cf2b9(0x2f2)]('img_fn_list_regex')[_0x1cf2b9(0x466)]();break;default:_via_img_fn_list_html=[],_via_img_fn_list_img_index_list=[],_via_img_fn_list_html['push'](_0x1cf2b9(0x344));var _0x39cb88;for(_0x39cb88=0x0;_0x39cb88<_via_image_filename_list[_0x1cf2b9(0x442)];++_0x39cb88){var _0xeea531=_via_image_id_list[_0x39cb88],_0x2ed2c9=![];switch(_0x5c5dac){case _0x1cf2b9(0x276):_via_img_metadata[_0xeea531][_0x1cf2b9(0x1e0)][_0x1cf2b9(0x442)]===0x0&&(_0x2ed2c9=!![]);break;case _0x1cf2b9(0x343):is_region_annotation_missing(_0xeea531)&&(_0x2ed2c9=!![]);break;case _0x1cf2b9(0x1bc):is_file_annotation_missing(_0xeea531)&&(_0x2ed2c9=!![]);break;case _0x1cf2b9(0x33b):_via_image_load_error[_0x39cb88]===!![]&&(_0x2ed2c9=!![]);}_0x2ed2c9&&(_via_img_fn_list_html[_0x1cf2b9(0x355)](img_fn_list_ith_entry_html(_0x39cb88)),_via_img_fn_list_img_index_list[_0x1cf2b9(0x355)](_0x39cb88));}_via_img_fn_list_html[_0x1cf2b9(0x355)]('</ul>'),img_fn_list[_0x1cf2b9(0x45b)]=_via_img_fn_list_html[_0x1cf2b9(0x323)](''),img_fn_list_scroll_to_current_file();break;}}function is_region_annotation_missing(_0x39bbd9){var _0x41fcbf=_0x5d4abf,_0x46bee3,_0x3b8ea3;for(_0x3b8ea3=0x0;_0x3b8ea3<_via_img_metadata[_0x39bbd9][_0x41fcbf(0x1e0)][_0x41fcbf(0x442)];++_0x3b8ea3){for(_0x46bee3 in _via_attributes[_0x41fcbf(0x2a8)]){if(_via_img_metadata[_0x39bbd9]['regions'][_0x3b8ea3]['region_attributes'][_0x41fcbf(0x497)](_0x46bee3)){if(_via_img_metadata[_0x39bbd9][_0x41fcbf(0x1e0)][_0x3b8ea3][_0x41fcbf(0x270)][_0x46bee3]==='')return!![];}else return!![];}}return![];}function is_file_annotation_missing(_0x51713f){var _0x410ec1=_0x5d4abf,_0x603adc;for(_0x603adc in _via_attributes['file']){if(_via_img_metadata[_0x51713f][_0x410ec1(0x2a9)][_0x410ec1(0x497)](_0x603adc)){if(_via_img_metadata[_0x51713f][_0x410ec1(0x2a9)][_0x603adc]==='')return!![];}else return!![];}return![];}function img_fn_list_ith_entry_selected(_0x30fa15,_0x4a2dc1){var _0x377f85=_0x5d4abf;_0x4a2dc1?img_fn_list_ith_entry_add_css_class(_0x30fa15,_0x377f85(0x25f)):img_fn_list_ith_entry_remove_css_class(_0x30fa15,_0x377f85(0x25f));}function img_fn_list_ith_entry_error(_0x42c53b,_0x351f30){var _0x15c64f=_0x5d4abf;_0x351f30?img_fn_list_ith_entry_add_css_class(_0x42c53b,_0x15c64f(0x481)):img_fn_list_ith_entry_remove_css_class(_0x42c53b,_0x15c64f(0x481));}function img_fn_list_ith_entry_add_css_class(_0x4a5d3f,_0x3cb86f){var _0xab162b=_0x5d4abf,_0x31df20=document[_0xab162b(0x2f2)]('fl'+_0x4a5d3f);_0x31df20&&!_0x31df20[_0xab162b(0x32a)][_0xab162b(0x2d1)](_0x3cb86f)&&_0x31df20[_0xab162b(0x32a)][_0xab162b(0x21b)](_0x3cb86f);}function img_fn_list_ith_entry_remove_css_class(_0x5464db,_0x35bf56){var _0x1e1ca5=_0x5d4abf,_0x1b4322=document['getElementById']('fl'+_0x5464db);_0x1b4322&&_0x1b4322[_0x1e1ca5(0x32a)][_0x1e1ca5(0x2d1)](_0x35bf56)&&_0x1b4322[_0x1e1ca5(0x32a)][_0x1e1ca5(0x424)](_0x35bf56);}function img_fn_list_clear_all_style(){var _0x5e8ca3=_0x5d4abf,_0x4d0b64=document[_0x5e8ca3(0x2f2)](_0x5e8ca3(0x1ef))[_0x5e8ca3(0x293)][0x0]['childNodes'],_0x42342e,_0x64e4e6=_0x4d0b64[_0x5e8ca3(0x442)];for(_0x42342e=0x0;_0x42342e<_0x64e4e6;++_0x42342e){_0x4d0b64[_0x42342e][_0x5e8ca3(0x32a)]=[];}}function img_fn_list_clear_css_classname(_0x4d0f65){var _0x148300=_0x5d4abf,_0x50ff2a=document[_0x148300(0x2f2)]('img_fn_list')[_0x148300(0x293)][0x0][_0x148300(0x293)],_0x36d30b,_0x545ab5=_0x50ff2a[_0x148300(0x442)];for(_0x36d30b=0x0;_0x36d30b<_0x545ab5;++_0x36d30b){_0x50ff2a[_0x36d30b]['classList'][_0x148300(0x2d1)](_0x4d0f65)&&_0x50ff2a[_0x36d30b][_0x148300(0x32a)][_0x148300(0x424)](_0x4d0f65);}}function img_fn_list_ith_entry_html(_0x599535){var _0x287b2a=_0x5d4abf,_0x1c70e2='',_0x2950f2=_via_image_filename_list[_0x599535];return is_url(_0x2950f2)&&(_0x2950f2=_0x2950f2[_0x287b2a(0x38b)](0x0,0x4)+_0x287b2a(0x440)+get_filename_from_url(_0x2950f2)),_0x1c70e2+=_0x287b2a(0x20e)+_0x599535+'\x22',_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x287b2a(0x1b9)]?_via_image_grid_page_img_index_list[_0x287b2a(0x2b5)](_0x599535)&&(_0x1c70e2+=_0x287b2a(0x30f)):_0x599535===_via_image_index&&(_0x1c70e2+=_0x287b2a(0x30f)),_0x1c70e2+=_0x287b2a(0x330)+_0x599535+_0x287b2a(0x1f1)+_via_image_filename_list[_0x599535]+_0x287b2a(0x321)+(_0x599535+0x1)+']['+_via_image_id_list[_0x599535]+']\x20'+_0x2950f2+_0x287b2a(0x487),_0x1c70e2;}function img_fn_list_generate_html(_0x2fb366){var _0x2afded=_0x5d4abf;_via_img_fn_list_html=[],_via_img_fn_list_img_index_list=[],_via_img_fn_list_html[_0x2afded(0x355)](_0x2afded(0x344));for(var _0x16d23d=0x0;_0x16d23d<_via_image_filename_list[_0x2afded(0x442)];++_0x16d23d){var _0x33de11=_via_image_filename_list[_0x16d23d];_0x33de11['match'](_0x2fb366)!==null&&(_via_img_fn_list_html['push'](img_fn_list_ith_entry_html(_0x16d23d)),_via_img_fn_list_img_index_list[_0x2afded(0x355)](_0x16d23d));}_via_img_fn_list_html['push'](_0x2afded(0x3dc));}function img_fn_list_scroll_to_current_file(){img_fn_list_scroll_to_file(_via_image_index);}function img_fn_list_scroll_to_file(_0x46c9ab){var _0x18a2f0=_0x5d4abf;if(_via_img_fn_list_img_index_list[_0x18a2f0(0x2b5)](_0x46c9ab)){var _0x3f3859=document[_0x18a2f0(0x2f2)]('fl'+_0x46c9ab),_0x2f9e05=img_fn_list[_0x18a2f0(0x3f3)];_0x3f3859[_0x18a2f0(0x408)]>img_fn_list['scrollTop']+_0x2f9e05&&(img_fn_list[_0x18a2f0(0x3c8)]=_0x3f3859[_0x18a2f0(0x408)]);}}function toggle_img_fn_list_visibility(){var _0x4a7b58=_0x5d4abf;leftsidebar_show(),document[_0x4a7b58(0x2f2)](_0x4a7b58(0x396))[_0x4a7b58(0x32a)][_0x4a7b58(0x1fd)](_0x4a7b58(0x231)),document['getElementById']('project_panel_title')['classList'][_0x4a7b58(0x1fd)](_0x4a7b58(0x3b9));}function toggle_attributes_editor(){var _0x8392b1=_0x5d4abf;leftsidebar_show(),document[_0x8392b1(0x2f2)](_0x8392b1(0x245))['classList'][_0x8392b1(0x1fd)](_0x8392b1(0x231)),document[_0x8392b1(0x2f2)](_0x8392b1(0x3a2))['classList']['toggle'](_0x8392b1(0x3b9));}function attribute_update_panel_set_active_button(){var _0xfbb654=_0x5d4abf,_0x473587;for(_0x473587 in _via_attributes){var _0x429d4a=_0xfbb654(0x241)+_0x473587+_0xfbb654(0x21a);document[_0xfbb654(0x2f2)](_0x429d4a)[_0xfbb654(0x32a)][_0xfbb654(0x424)]('active');}var _0x429d4a='button_show_'+_via_attribute_being_updated+'_attributes';document[_0xfbb654(0x2f2)](_0x429d4a)[_0xfbb654(0x32a)][_0xfbb654(0x21b)](_0xfbb654(0x3b9));}function show_region_attributes_update_panel(){var _0x1a1219=_0x5d4abf;if(_via_attribute_being_updated!==_0x1a1219(0x2a8)){_via_attribute_being_updated=_0x1a1219(0x2a8);var _0x4fa86f=Object['keys'](_via_attributes[_0x1a1219(0x2a8)]);_0x4fa86f[_0x1a1219(0x442)]?_via_current_attribute_id=_0x4fa86f[0x0]:_via_current_attribute_id='',update_attributes_update_panel(),attribute_update_panel_set_active_button();}}function show_file_attributes_update_panel(){var _0x5c9ea4=_0x5d4abf;if(_via_attribute_being_updated!==_0x5c9ea4(0x3eb)){_via_attribute_being_updated=_0x5c9ea4(0x3eb);var _0x452127=Object['keys'](_via_attributes['file']);_0x452127['length']?_via_current_attribute_id=_0x452127[0x0]:_via_current_attribute_id='',update_attributes_update_panel(),attribute_update_panel_set_active_button();}}function update_attributes_name_list(){var _0x2e704d=_0x5d4abf,_0x5c8310=document['getElementById'](_0x2e704d(0x265));_0x5c8310['innerHTML']='';var _0x307b24;for(_0x307b24 in _via_attributes[_via_attribute_being_updated]){var _0xffe600=document['createElement']('option');_0xffe600[_0x2e704d(0x33a)](_0x2e704d(0x290),_0x307b24),_0xffe600[_0x2e704d(0x45b)]=_0x307b24,_0x307b24===_via_current_attribute_id&&_0xffe600[_0x2e704d(0x33a)](_0x2e704d(0x3e7),_0x2e704d(0x3e7)),_0x5c8310[_0x2e704d(0x20a)](_0xffe600);}}function update_attributes_update_panel(){var _0x45bfec=_0x5d4abf;document['getElementById']('attributes_editor_panel')[_0x45bfec(0x32a)][_0x45bfec(0x2d1)]('show')&&(update_attributes_name_list(),show_attribute_properties(),show_attribute_options());}function update_attribute_properties_panel(){var _0x3c4eda=_0x5d4abf;document['getElementById'](_0x3c4eda(0x245))[_0x3c4eda(0x32a)]['contains']('show')&&(show_attribute_properties(),show_attribute_options());}function show_attribute_properties(){var _0x295cfd=_0x5d4abf,_0x17f537=document[_0x295cfd(0x2f2)](_0x295cfd(0x265));document[_0x295cfd(0x2f2)](_0x295cfd(0x407))[_0x295cfd(0x45b)]='';if(_0x17f537['options'][_0x295cfd(0x442)]===0x0)return;var _0x294103=_via_current_attribute_id,_0x261feb=_via_attribute_being_updated,_0x15be69=_via_attributes[_0x261feb][_0x294103][_0x295cfd(0x3e3)],_0x233c95=_via_attributes[_0x261feb][_0x294103][_0x295cfd(0x1c7)];attribute_property_add_input_property('Name\x20of\x20attribute\x20(appears\x20in\x20exported\x20annotations)',_0x295cfd(0x381),_0x294103,'attribute_name'),attribute_property_add_input_property(_0x295cfd(0x2c1),'Desc.',_0x233c95,_0x295cfd(0x260));if(_0x15be69==='text'){var _0x3a1730=_via_attributes[_0x261feb][_0x294103]['default_value'];attribute_property_add_input_property(_0x295cfd(0x2fa),_0x295cfd(0x21c),_0x3a1730,'attribute_default_value');}var _0x9f3626=document[_0x295cfd(0x237)]('div');_0x9f3626['setAttribute'](_0x295cfd(0x456),'property');var _0x196523=document['createElement'](_0x295cfd(0x1f9));_0x196523[_0x295cfd(0x33a)](_0x295cfd(0x1df),_0x295cfd(0x2b3)),_0x196523['innerHTML']='Type';var _0x577978=document[_0x295cfd(0x237)](_0x295cfd(0x1f9)),_0x21daee=document['createElement'](_0x295cfd(0x44c));_0x21daee['setAttribute']('onchange','attribute_property_on_update(this)'),_0x21daee[_0x295cfd(0x33a)]('id',_0x295cfd(0x41b));var _0x1d1560;for(_0x1d1560 in VIA_ATTRIBUTE_TYPE){var _0x616a8e=VIA_ATTRIBUTE_TYPE[_0x1d1560],_0xeda05f=document[_0x295cfd(0x237)](_0x295cfd(0x45c));_0xeda05f[_0x295cfd(0x33a)](_0x295cfd(0x290),_0x616a8e),_0xeda05f[_0x295cfd(0x45b)]=_0x616a8e,_0x15be69==_0x616a8e&&_0xeda05f[_0x295cfd(0x33a)]('selected',_0x295cfd(0x3e7)),_0x21daee[_0x295cfd(0x20a)](_0xeda05f);}_0x577978[_0x295cfd(0x20a)](_0x21daee),_0x9f3626[_0x295cfd(0x20a)](_0x196523),_0x9f3626['appendChild'](_0x577978),document[_0x295cfd(0x2f2)](_0x295cfd(0x407))[_0x295cfd(0x20a)](_0x9f3626);}function show_attribute_options(){var _0x370d05=_0x5d4abf,_0x348015=document[_0x370d05(0x2f2)](_0x370d05(0x265));document[_0x370d05(0x2f2)](_0x370d05(0x452))[_0x370d05(0x45b)]='';if(_0x348015[_0x370d05(0x2c2)]['length']===0x0)return;var _0x31f2ed=_0x348015[_0x370d05(0x290)],_0x25e7d6=_via_attributes[_via_attribute_being_updated][_0x31f2ed][_0x370d05(0x3e3)];switch(_0x25e7d6){case VIA_ATTRIBUTE_TYPE['TEXT']:break;case VIA_ATTRIBUTE_TYPE[_0x370d05(0x2c7)]:var _0x407c29=document[_0x370d05(0x237)](_0x370d05(0x1b5));_0x407c29[_0x370d05(0x33a)](_0x370d05(0x456),_0x370d05(0x377)),_0x407c29[_0x370d05(0x33a)]('style',_0x370d05(0x3fb));var _0x49c0a6=document[_0x370d05(0x237)](_0x370d05(0x1f9));_0x49c0a6[_0x370d05(0x33a)](_0x370d05(0x1bf),_0x370d05(0x32d)),_0x49c0a6[_0x370d05(0x33a)]('title',_0x370d05(0x3f4)),_0x49c0a6[_0x370d05(0x45b)]='id';var _0x4692aa=document[_0x370d05(0x237)](_0x370d05(0x1f9));_0x4692aa[_0x370d05(0x33a)](_0x370d05(0x1bf),'width:60%'),_0x4692aa[_0x370d05(0x33a)](_0x370d05(0x1df),_0x370d05(0x458)),_0x4692aa[_0x370d05(0x45b)]=_0x370d05(0x204);var _0x551f28=document[_0x370d05(0x237)]('span');_0x551f28[_0x370d05(0x33a)](_0x370d05(0x1df),_0x370d05(0x27f)),_0x551f28[_0x370d05(0x45b)]=_0x370d05(0x2ec),_0x407c29['appendChild'](_0x49c0a6),_0x407c29[_0x370d05(0x20a)](_0x4692aa),_0x407c29[_0x370d05(0x20a)](_0x551f28),document['getElementById']('attribute_options')[_0x370d05(0x20a)](_0x407c29);var _0xeaf92b=_via_attributes[_via_attribute_being_updated][_0x31f2ed][_0x370d05(0x2c2)],_0x2826e8;for(_0x2826e8 in _0xeaf92b){var _0x30d558=_0xeaf92b[_0x2826e8],_0xd46e40=_via_attributes[_via_attribute_being_updated][_0x31f2ed]['default_options'][_0x2826e8];attribute_property_add_option(_0x31f2ed,_0x2826e8,_0x30d558,_0xd46e40,_0x25e7d6);}attribute_property_add_new_entry_option(_0x31f2ed,_0x25e7d6);break;case VIA_ATTRIBUTE_TYPE[_0x370d05(0x3bd)]:case VIA_ATTRIBUTE_TYPE[_0x370d05(0x223)]:case VIA_ATTRIBUTE_TYPE[_0x370d05(0x252)]:var _0x407c29=document[_0x370d05(0x237)](_0x370d05(0x1b5));_0x407c29[_0x370d05(0x33a)]('class',_0x370d05(0x377)),_0x407c29['setAttribute'](_0x370d05(0x1bf),_0x370d05(0x3fb));var _0x49c0a6=document[_0x370d05(0x237)](_0x370d05(0x1f9));_0x49c0a6['setAttribute'](_0x370d05(0x1bf),'width:25%'),_0x49c0a6['setAttribute']('title','When\x20selected,\x20this\x20is\x20the\x20value\x20that\x20appears\x20in\x20exported\x20annotations'),_0x49c0a6[_0x370d05(0x45b)]='id';var _0x4692aa=document[_0x370d05(0x237)](_0x370d05(0x1f9));_0x4692aa[_0x370d05(0x33a)]('style',_0x370d05(0x2f9)),_0x4692aa['setAttribute'](_0x370d05(0x1df),_0x370d05(0x480)),_0x4692aa[_0x370d05(0x45b)]='description';var _0x551f28=document[_0x370d05(0x237)](_0x370d05(0x1f9));_0x551f28[_0x370d05(0x33a)](_0x370d05(0x1df),_0x370d05(0x27f)),_0x551f28['innerHTML']=_0x370d05(0x2ec),_0x407c29[_0x370d05(0x20a)](_0x49c0a6),_0x407c29['appendChild'](_0x4692aa),_0x407c29[_0x370d05(0x20a)](_0x551f28),document[_0x370d05(0x2f2)](_0x370d05(0x452))[_0x370d05(0x20a)](_0x407c29);var _0xeaf92b=_via_attributes[_via_attribute_being_updated][_0x31f2ed][_0x370d05(0x2c2)],_0x2826e8;for(_0x2826e8 in _0xeaf92b){var _0x30d558=_0xeaf92b[_0x2826e8],_0xd46e40=_via_attributes[_via_attribute_being_updated][_0x31f2ed][_0x370d05(0x286)][_0x2826e8];attribute_property_add_option(_0x31f2ed,_0x2826e8,_0x30d558,_0xd46e40,_0x25e7d6);}attribute_property_add_new_entry_option(_0x31f2ed,_0x25e7d6);break;default:console[_0x370d05(0x43e)](_0x370d05(0x385)+_0x25e7d6+_0x370d05(0x296));}}function attribute_property_add_input_property(_0x1c9a7e,_0x426d58,_0xa5d201,_0x558891){var _0x16e7a2=_0x5d4abf,_0x4cb84d=document['createElement'](_0x16e7a2(0x1b5));_0x4cb84d[_0x16e7a2(0x33a)]('class',_0x16e7a2(0x377));var _0x32dda0=document[_0x16e7a2(0x237)](_0x16e7a2(0x1f9));_0x32dda0[_0x16e7a2(0x33a)](_0x16e7a2(0x1df),_0x1c9a7e),_0x32dda0[_0x16e7a2(0x45b)]=_0x426d58;var _0x2e9267=document[_0x16e7a2(0x237)](_0x16e7a2(0x1f9)),_0x373242=document['createElement']('input');_0x373242[_0x16e7a2(0x33a)](_0x16e7a2(0x328),_0x16e7a2(0x1c2)),typeof _0xa5d201!==_0x16e7a2(0x289)&&_0x373242[_0x16e7a2(0x33a)](_0x16e7a2(0x290),_0xa5d201),_0x373242[_0x16e7a2(0x33a)]('id',_0x558891),_0x2e9267[_0x16e7a2(0x20a)](_0x373242),_0x4cb84d[_0x16e7a2(0x20a)](_0x32dda0),_0x4cb84d[_0x16e7a2(0x20a)](_0x2e9267),document['getElementById'](_0x16e7a2(0x407))['appendChild'](_0x4cb84d);}function attribute_property_add_option(_0xd47fb3,_0x5c3db5,_0x2d38c3,_0x1734f6,_0x1c779c){var _0x36874e=_0x5d4abf,_0x38e4d1=document[_0x36874e(0x237)](_0x36874e(0x1b5));_0x38e4d1[_0x36874e(0x33a)](_0x36874e(0x456),_0x36874e(0x377));var _0x3a63c=document[_0x36874e(0x237)](_0x36874e(0x1f9)),_0xb7728c=document['createElement']('input');_0xb7728c[_0x36874e(0x33a)]('type',_0x36874e(0x263)),_0xb7728c['setAttribute'](_0x36874e(0x290),_0x5c3db5),_0xb7728c[_0x36874e(0x33a)]('title',_0x5c3db5),_0xb7728c[_0x36874e(0x33a)](_0x36874e(0x328),'attribute_property_on_option_update(this)'),_0xb7728c['setAttribute']('id',_0x36874e(0x2bb)+_0x5c3db5);var _0x126f4e=document[_0x36874e(0x237)]('span'),_0x157676=document[_0x36874e(0x237)]('input');_0x157676['setAttribute'](_0x36874e(0x3e3),'text'),_0x157676[_0x36874e(0x33a)](_0x36874e(0x290),_0x2d38c3),_0x157676[_0x36874e(0x33a)]('title',_0x2d38c3),_0x157676['setAttribute']('onchange',_0x36874e(0x445)),_0x157676['setAttribute']('id',_0x36874e(0x3a6)+_0x5c3db5);var _0x12a6c2=document[_0x36874e(0x237)](_0x36874e(0x1f9)),_0x105da1=document['createElement'](_0x36874e(0x367));_0x105da1['setAttribute'](_0x36874e(0x3e3),_0x1c779c),typeof _0x1734f6!==_0x36874e(0x289)&&(_0x105da1[_0x36874e(0x49a)]=_0x1734f6),(_0x1c779c==='radio'||_0x1c779c===_0x36874e(0x2e6)||_0x1c779c===_0x36874e(0x463))&&(_0x105da1[_0x36874e(0x33a)]('type','radio'),_0x105da1[_0x36874e(0x33a)]('name',_0xd47fb3)),_0x105da1['setAttribute'](_0x36874e(0x328),_0x36874e(0x445)),_0x105da1[_0x36874e(0x33a)]('id',_0x36874e(0x2df)+_0x5c3db5),_0x3a63c[_0x36874e(0x20a)](_0xb7728c),_0x126f4e[_0x36874e(0x20a)](_0x157676),_0x12a6c2[_0x36874e(0x20a)](_0x105da1),_0x38e4d1[_0x36874e(0x20a)](_0x3a63c),_0x38e4d1[_0x36874e(0x20a)](_0x126f4e),_0x38e4d1[_0x36874e(0x20a)](_0x12a6c2),document['getElementById'](_0x36874e(0x452))[_0x36874e(0x20a)](_0x38e4d1);}function attribute_property_add_new_entry_option(_0x52fc94,_0x4ba010){var _0x17df1f=_0x5d4abf,_0x4e2f5c=document[_0x17df1f(0x237)]('div');_0x4e2f5c[_0x17df1f(0x33a)]('class','property');var _0xa4f34d=document[_0x17df1f(0x237)](_0x17df1f(0x1f9)),_0x40ae3c=document[_0x17df1f(0x237)](_0x17df1f(0x367));_0x40ae3c[_0x17df1f(0x33a)](_0x17df1f(0x3e3),'text'),_0x40ae3c['setAttribute']('onchange','attribute_property_on_option_add(this)'),_0x40ae3c[_0x17df1f(0x33a)]('id','_via_attribute_new_option_id'),_0x40ae3c[_0x17df1f(0x33a)](_0x17df1f(0x3f8),_0x17df1f(0x1e2)),_0xa4f34d[_0x17df1f(0x20a)](_0x40ae3c),_0x4e2f5c[_0x17df1f(0x20a)](_0xa4f34d),document[_0x17df1f(0x2f2)]('attribute_options')[_0x17df1f(0x20a)](_0x4e2f5c);}function attribute_property_on_update(_0x32c5ef){var _0x233ccd=_0x5d4abf,_0x440f0a=get_current_attribute_id(),_0x542045=_via_attribute_being_updated,_0x21f0eb=_0x32c5ef[_0x233ccd(0x290)];switch(_0x32c5ef['id']){case _0x233ccd(0x2c6):_0x21f0eb!==_0x440f0a&&(Object[_0x233ccd(0x41d)](_via_attributes[_0x542045],_0x21f0eb,Object[_0x233ccd(0x3bc)](_via_attributes[_0x542045],_0x440f0a)),delete _via_attributes[_0x542045][_0x440f0a],update_attributes_update_panel(),update_annotation_editor());break;case _0x233ccd(0x260):_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x1c7)]=_0x21f0eb,update_attributes_update_panel(),update_annotation_editor();break;case _0x233ccd(0x342):_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x36e)]=_0x21f0eb,update_attributes_update_panel(),update_annotation_editor();break;case _0x233ccd(0x41b):_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x3e3)]=_0x21f0eb;if(_0x21f0eb===VIA_ATTRIBUTE_TYPE['TEXT'])_via_attributes[_0x542045][_0x440f0a]['default_value']='',delete _via_attributes[_0x542045][_0x440f0a]['options'],delete _via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x286)];else{!_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x497)](_0x233ccd(0x2c2))&&(_via_attributes[_0x542045][_0x440f0a]['options']={},_via_attributes[_0x542045][_0x440f0a]['default_options']={});_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x497)]('default_value')&&delete _via_attributes[_0x542045][_0x440f0a]['default_value'];var _0x1be558=attribute_get_unique_values(_0x542045,_0x440f0a),_0xc10f2b;for(_0xc10f2b=0x0;_0xc10f2b<_0x1be558[_0x233ccd(0x442)];++_0xc10f2b){var _0x4e2fe9=_0x1be558[_0xc10f2b];_via_attributes[_0x542045][_0x440f0a][_0x233ccd(0x2c2)][_0x4e2fe9]=_0x4e2fe9;}}show_attribute_properties(),show_attribute_options(),update_annotation_editor();break;}}function attribute_get_unique_values(_0x3f5b60,_0x413535){var _0x2ac719=_0x5d4abf,_0x124c54=[];switch(_0x3f5b60){case'file':var _0x420b76,_0xa77def;for(_0x420b76 in _via_img_metadata){_via_img_metadata[_0x420b76]['file_attributes'][_0x2ac719(0x497)](_0x413535)&&(_0xa77def=_via_img_metadata[_0x420b76][_0x2ac719(0x2a9)][_0x413535],!_0x124c54[_0x2ac719(0x2b5)](_0xa77def)&&_0x124c54[_0x2ac719(0x355)](_0xa77def));}break;case _0x2ac719(0x2a8):var _0x420b76,_0xa77def,_0xdb6817;for(_0x420b76 in _via_img_metadata){for(_0xdb6817=0x0;_0xdb6817<_via_img_metadata[_0x420b76][_0x2ac719(0x1e0)][_0x2ac719(0x442)];++_0xdb6817){_via_img_metadata[_0x420b76]['regions'][_0xdb6817][_0x2ac719(0x270)]['hasOwnProperty'](_0x413535)&&(_0xa77def=_via_img_metadata[_0x420b76][_0x2ac719(0x1e0)][_0xdb6817]['region_attributes'][_0x413535],!_0x124c54[_0x2ac719(0x2b5)](_0xa77def)&&_0x124c54[_0x2ac719(0x355)](_0xa77def));}}break;default:break;}return _0x124c54;}function attribute_property_on_option_update(_0x5df309){var _0x1796c0=_0x5d4abf,_0x44216d=get_current_attribute_id();if(_0x5df309['id']['startsWith'](_0x1796c0(0x2bb))){var _0x53b325=_0x5df309['id']['substr']('_via_attribute_option_id_'[_0x1796c0(0x442)]),_0x2a315e=_0x5df309[_0x1796c0(0x290)];if(_0x53b325!==_0x2a315e){var _0x453fd3=attribute_property_option_id_is_valid(_0x44216d,_0x2a315e);_0x453fd3[_0x1796c0(0x1c1)]?update_attribute_option_id_with_confirm(_via_attribute_being_updated,_0x44216d,_0x53b325,_0x2a315e):(show_message(_0x453fd3[_0x1796c0(0x2e2)]),show_attribute_properties());return;}}if(_0x5df309['id'][_0x1796c0(0x3e9)](_0x1796c0(0x3a6))){var _0x488c8b=_0x5df309['id']['substr'](_0x1796c0(0x3a6)['length']),_0x4bfebc=_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x2c2)][_0x488c8b],_0x5e7231=_0x5df309[_0x1796c0(0x290)];_0x5e7231!==_0x4bfebc&&(_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x2c2)][_0x488c8b]=_0x5e7231,show_attribute_properties(),update_annotation_editor());}if(_0x5df309['id'][_0x1796c0(0x3e9)](_0x1796c0(0x2df))){var _0xa8188f=_0x5df309['id'][_0x1796c0(0x38b)](_0x1796c0(0x2df)['length']),_0x211ef9=Object['keys'](_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x286)]);if(_0x211ef9[_0x1796c0(0x442)]===0x0)_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x286)][_0xa8188f]=_0x5df309['checked'];else switch(_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x3e3)]){case _0x1796c0(0x2e6):case _0x1796c0(0x463):case _0x1796c0(0x45d):_via_attributes[_via_attribute_being_updated][_0x44216d]['default_options']={},_via_attributes[_via_attribute_being_updated][_0x44216d][_0x1796c0(0x286)][_0xa8188f]=_0x5df309[_0x1796c0(0x49a)];break;case _0x1796c0(0x451):_via_attributes[_via_attribute_being_updated][_0x44216d]['default_options'][_0xa8188f]=_0x5df309[_0x1796c0(0x49a)];break;}attribute_property_on_option_default_update(_via_attribute_being_updated,_0x44216d,_0xa8188f)[_0x1796c0(0x436)](function(){show_attribute_properties(),update_annotation_editor();});}}function attribute_property_on_option_default_update(_0x5e561e,_0x1590cb,_0x5e9c68){return new Promise(function(_0x17c06a,_0x5e1535){var _0x8e12fe=_0x8643,_0xb0bbf4,_0x3b5ffc,_0x593b68,_0x5eafe8,_0x23e752=_via_attributes[_0x5e561e][_0x1590cb][_0x8e12fe(0x3e3)];switch(_0x5e561e){case'file':for(_0xb0bbf4 in _via_img_metadata){!_via_img_metadata[_0xb0bbf4][_0x8e12fe(0x2a9)]['hasOwnProperty'](_0x1590cb)&&(_via_img_metadata[_0xb0bbf4]['file_attributes'][_0x1590cb]=_0x5e9c68);}break;case _0x8e12fe(0x2a8):for(_0xb0bbf4 in _via_img_metadata){_0x593b68=_via_img_metadata[_0xb0bbf4][_0x8e12fe(0x1e0)][_0x8e12fe(0x442)];for(_0x5eafe8=0x0;_0x5eafe8<_0x593b68;++_0x5eafe8){!_via_img_metadata[_0xb0bbf4]['regions'][_0x5eafe8]['region_attributes'][_0x8e12fe(0x497)](_0x1590cb)&&(_via_img_metadata[_0xb0bbf4][_0x8e12fe(0x1e0)][_0x5eafe8]['region_attributes'][_0x1590cb]=_0x5e9c68);}}break;}_0x17c06a();});}function attribute_property_on_option_add(_0x2393ec){var _0x4cc9b0=_0x5d4abf;if(_0x2393ec[_0x4cc9b0(0x290)]===''||_0x2393ec['value']===null)return;if(_0x2393ec['id']===_0x4cc9b0(0x399)){var _0x2b8beb=get_current_attribute_id(),_0x59eb70=_0x2393ec[_0x4cc9b0(0x290)],_0x46b6d5=attribute_property_option_id_is_valid(_0x2b8beb,_0x59eb70);_0x46b6d5[_0x4cc9b0(0x1c1)]?(_via_attributes[_via_attribute_being_updated][_0x2b8beb][_0x4cc9b0(0x2c2)][_0x59eb70]='',show_attribute_options(),update_annotation_editor()):(show_message(_0x46b6d5[_0x4cc9b0(0x2e2)]),attribute_property_reset_new_entry_inputs());}}function attribute_property_reset_new_entry_inputs(){var _0xa082ec=_0x5d4abf,_0x87e97d=document[_0xa082ec(0x2f2)]('attribute_options'),_0x4db32f=_0x87e97d[_0xa082ec(0x1d1)];_0x4db32f['childNodes'][0x0]&&(_0x4db32f[_0xa082ec(0x293)][0x0][_0xa082ec(0x293)]&&(_0x4db32f[_0xa082ec(0x293)][0x0][_0xa082ec(0x293)][0x0]['value']='')),_0x4db32f[_0xa082ec(0x293)][0x1]&&(_0x4db32f[_0xa082ec(0x293)][0x1][_0xa082ec(0x293)]&&(_0x4db32f[_0xa082ec(0x293)][0x1][_0xa082ec(0x293)][0x0][_0xa082ec(0x290)]=''));}function attribute_property_show_new_entry_inputs(_0x31a2f6,_0x3fea97){var _0x3a562d=_0x5d4abf,_0x32f14f=document['createElement']('div');_0x32f14f[_0x3a562d(0x32a)][_0x3a562d(0x21b)](_0x3a562d(0x377));var _0xd03677=document[_0x3a562d(0x237)](_0x3a562d(0x1f9)),_0xeb01b0=document[_0x3a562d(0x237)](_0x3a562d(0x367));_0xeb01b0[_0x3a562d(0x33a)](_0x3a562d(0x328),_0x3a562d(0x362)),_0xeb01b0[_0x3a562d(0x33a)]('placeholder',_0x3a562d(0x1e2)),_0xeb01b0[_0x3a562d(0x33a)](_0x3a562d(0x290),''),_0xeb01b0[_0x3a562d(0x33a)]('id','_via_attribute_new_option_id'),_0xd03677['appendChild'](_0xeb01b0);var _0x38f6f9=document[_0x3a562d(0x237)](_0x3a562d(0x1f9)),_0x12e9ea=document['createElement'](_0x3a562d(0x367));_0x12e9ea[_0x3a562d(0x33a)]('onchange',_0x3a562d(0x362)),_0x12e9ea[_0x3a562d(0x33a)](_0x3a562d(0x3f8),_0x3a562d(0x354)),_0x12e9ea[_0x3a562d(0x33a)](_0x3a562d(0x290),''),_0x12e9ea['setAttribute']('id',_0x3a562d(0x3af)),_0x38f6f9[_0x3a562d(0x20a)](_0x12e9ea);var _0xfa28df=document[_0x3a562d(0x237)](_0x3a562d(0x1f9)),_0x109a18=document[_0x3a562d(0x237)](_0x3a562d(0x367));_0x109a18[_0x3a562d(0x33a)]('type',_0x3fea97);_0x3fea97===_0x3a562d(0x45d)&&_0x109a18[_0x3a562d(0x33a)](_0x3a562d(0x395),_0x31a2f6);_0x109a18[_0x3a562d(0x33a)]('onchange',_0x3a562d(0x362)),_0x109a18['setAttribute']('id',_0x3a562d(0x43b)),_0xfa28df[_0x3a562d(0x20a)](_0x109a18),_0x32f14f[_0x3a562d(0x20a)](_0xd03677),_0x32f14f['appendChild'](_0x38f6f9),_0x32f14f[_0x3a562d(0x20a)](_0xfa28df);var _0xc35e27=document['getElementById'](_0x3a562d(0x452));_0xc35e27[_0x3a562d(0x20a)](_0x32f14f);}function attribute_property_option_id_is_valid(_0x3adda2,_0x1238b3){var _0x23a722=_0x5d4abf,_0x19593c;for(_0x19593c in _via_attributes[_via_attribute_being_updated][_0x3adda2][_0x23a722(0x2c2)]){if(_0x19593c===_0x1238b3)return{'is_valid':![],'message':_0x23a722(0x3e6)+_0x3adda2+_0x23a722(0x3ac)};}if(_0x1238b3['includes']('__'))return{'is_valid':![],'message':_0x23a722(0x1cb)};return{'is_valid':!![]};}function attribute_property_id_exists(_0x5d0d28){var _0x3ec6e3;for(_0x3ec6e3 in _via_attributes[_via_attribute_being_updated]){if(_0x3ec6e3===_0x5d0d28)return!![];}return![];}function delete_existing_attribute_with_confirm(){var _0x4a90d3=_0x5d4abf,_0x356be9=document[_0x4a90d3(0x2f2)](_0x4a90d3(0x384))[_0x4a90d3(0x290)];if(_0x356be9===''){show_message(_0x4a90d3(0x441));return;}if(attribute_property_id_exists(_0x356be9)){var _0x3661ec={'title':_0x4a90d3(0x48d)+_via_attribute_being_updated+_0x4a90d3(0x22d)+_0x356be9+']'},_0x26e553={'attr_type':{'type':'text','name':_0x4a90d3(0x2a5),'value':_via_attribute_being_updated,'disabled':!![]},'attr_id':{'type':_0x4a90d3(0x263),'name':_0x4a90d3(0x331),'value':_0x356be9,'disabled':!![]},'confirm':{'type':_0x4a90d3(0x451),'name':'Confirm\x20(by\x20checking\x20box)\x20that\x20you\x20understand\x20that\x20deleting\x20an\x20attribute\x20will\x20delete\x20all\x20annotations\x20associated\x20with\x20this\x20attribute\x20across\x20all\x20the\x20files.\x20<span\x20class=\x22warning\x22>These\x20deleted\x20content\x20cannot\x20be\x20recovered.</span>','value':![]}};invoke_with_user_inputs(delete_existing_attribute_confirmed,_0x26e553,_0x3661ec);}else{show_message(_0x4a90d3(0x3ad)+_0x356be9+_0x4a90d3(0x23f));return;}}function delete_existing_attribute_confirmed(_0x5c7695){var _0x1b1f16=_0x5d4abf;if(_0x5c7695[_0x1b1f16(0x457)][_0x1b1f16(0x290)]){var _0x56074c=_0x5c7695[_0x1b1f16(0x1c6)][_0x1b1f16(0x290)],_0x4e090b=_0x5c7695['attr_id']['value'];delete_existing_attribute(_0x56074c,_0x4e090b),document[_0x1b1f16(0x2f2)](_0x1b1f16(0x384))[_0x1b1f16(0x290)]='',show_message(_0x1b1f16(0x478)+_0x56074c+_0x1b1f16(0x22d)+_0x4e090b+']');}else show_message(_0x1b1f16(0x359));user_input_default_cancel_handler();}function delete_existing_attribute(_0x5cefbd,_0x300e92){var _0x50840f=_0x5d4abf;if(_via_attributes[_0x5cefbd][_0x50840f(0x497)](_0x300e92)){var _0x4f7126=Object[_0x50840f(0x2a3)](_via_attributes[_0x5cefbd]);if(_0x4f7126[_0x50840f(0x442)]===0x1)_via_current_attribute_id='';else{var _0x14f0fc=_0x4f7126['indexOf'](_0x300e92),_0x3e925a=_0x14f0fc+0x1;_0x3e925a===_0x4f7126['length']&&(_0x3e925a=_0x14f0fc-0x1),_via_current_attribute_id=_0x4f7126[_0x3e925a];}delete _via_attributes[_0x5cefbd][_0x300e92],update_attributes_update_panel();}}function add_new_attribute_from_user_input(){var _0x2a0da6=_0x5d4abf,_0x3f646a=document['getElementById'](_0x2a0da6(0x384))[_0x2a0da6(0x290)];if(_0x3f646a===''){show_message(_0x2a0da6(0x441));return;}attribute_property_id_exists(_0x3f646a)?show_message(_0x2a0da6(0x1e3)+_via_attribute_being_updated+'\x20attribute\x20['+_0x3f646a+']\x20already\x20exists.'):(_via_current_attribute_id=_0x3f646a,add_new_attribute(_0x3f646a),update_attributes_update_panel(),update_annotation_editor(),show_message(_0x2a0da6(0x1d6)+_via_attribute_being_updated+'\x20attribute\x20['+_0x3f646a+'].'));}document[_0x5d4abf(0x2f2)](_0x5d4abf(0x384))['value']=_0x5d4abf(0x498),add_new_attribute_from_user_input();function add_new_attribute(_0x28568c){var _0x320478=_0x5d4abf;_via_attributes[_via_attribute_being_updated][_0x28568c]={},_via_attributes[_via_attribute_being_updated][_0x28568c][_0x320478(0x3e3)]=_0x320478(0x263),_via_attributes[_via_attribute_being_updated][_0x28568c]['description']='',_via_attributes[_via_attribute_being_updated][_0x28568c][_0x320478(0x36e)]=_0x320478(0x3cd);}function update_current_attribute_id(_0x36d83c){var _0x10b2d7=_0x5d4abf;_via_current_attribute_id=_0x36d83c[_0x10b2d7(0x2c2)][_0x36d83c['selectedIndex']][_0x10b2d7(0x290)],update_attribute_properties_panel();}function get_current_attribute_id(){var _0x5ee2a5=_0x5d4abf;return document[_0x5ee2a5(0x2f2)]('attributes_name_list')[_0x5ee2a5(0x290)];}function update_attribute_option_id_with_confirm(_0x547571,_0x51cdde,_0x30e832,_0x3c9dc3){var _0x2e72a0=_0x5d4abf,_0x1621a9=![],_0x5291fe;_0x3c9dc3===''||typeof _0x3c9dc3===_0x2e72a0(0x289)?(_0x5291fe={'title':_0x2e72a0(0x3e1)+_0x547571+_0x2e72a0(0x2f8)},_0x1621a9=!![]):_0x5291fe={'title':_0x2e72a0(0x43a)+_0x547571+_0x2e72a0(0x2f8)};var _0xc36723={'attr_type':{'type':_0x2e72a0(0x263),'name':_0x2e72a0(0x2a5),'value':_0x547571,'disabled':!![]},'attr_id':{'type':_0x2e72a0(0x263),'name':'Attribute\x20Id','value':_0x51cdde,'disabled':!![]}};_0x1621a9?(_0xc36723[_0x2e72a0(0x36c)]={'type':_0x2e72a0(0x263),'name':_0x2e72a0(0x46c),'value':_0x30e832,'disabled':!![]},_0xc36723['confirm']={'type':_0x2e72a0(0x451),'name':_0x2e72a0(0x240)+_0x547571+_0x2e72a0(0x461),'value':![]}):(_0xc36723['option_id']={'type':_0x2e72a0(0x263),'name':'Attribute\x20Option\x20(old)','value':_0x30e832,'disabled':!![]},_0xc36723['new_option_id']={'type':_0x2e72a0(0x263),'name':_0x2e72a0(0x32e),'value':_0x3c9dc3,'disabled':!![]},_0xc36723['confirm']={'type':'checkbox','name':'Confirm\x20(by\x20checking\x20box)\x20that\x20you\x20understand\x20the\x20following:\x20Renaming\x20an\x20option\x20in\x20'+_0x547571+_0x2e72a0(0x353),'value':![]}),invoke_with_user_inputs(update_attribute_option_id_confirmed,_0xc36723,_0x5291fe,update_attribute_option_id_cancel);}function update_attribute_option_id_cancel(_0x4aad25){update_attribute_properties_panel();}function update_attribute_option_id_confirmed(_0x45eaca){var _0x1e56d5=_0x5d4abf,_0x24f1de=_0x45eaca['attr_type'][_0x1e56d5(0x290)],_0xc6ddc4=_0x45eaca[_0x1e56d5(0x414)][_0x1e56d5(0x290)],_0x5177b5=_0x45eaca[_0x1e56d5(0x36c)][_0x1e56d5(0x290)],_0x551bef,_0x3c4536;typeof _0x45eaca[_0x1e56d5(0x3c9)]==='undefined'||_0x45eaca['new_option_id']===''?(_0x551bef=!![],_0x3c4536=''):(_0x551bef=![],_0x3c4536=_0x45eaca[_0x1e56d5(0x3c9)]['value']),update_attribute_option(_0x551bef,_0x24f1de,_0xc6ddc4,_0x5177b5,_0x3c4536),_0x551bef?show_message(_0x1e56d5(0x25d)+_0x5177b5+']\x20for\x20'+_0x24f1de+'\x20attribute\x20['+_0xc6ddc4+'].'):show_message(_0x1e56d5(0x332)+_0x5177b5+_0x1e56d5(0x356)+_0x3c4536+_0x1e56d5(0x3db)+_0x24f1de+_0x1e56d5(0x22d)+_0xc6ddc4+'].'),update_attribute_properties_panel(),update_annotation_editor(),user_input_default_cancel_handler();}function update_attribute_option(_0x38058d,_0x372cec,_0x2b7c6f,_0x1f281e,_0x2c9021){var _0x253993=_0x5d4abf;switch(_0x372cec){case _0x253993(0x2a8):update_region_attribute_option_in_all_metadata(_0x38058d,_0x2b7c6f,_0x1f281e,_0x2c9021);!_0x38058d&&Object[_0x253993(0x41d)](_via_attributes[_0x372cec][_0x2b7c6f][_0x253993(0x2c2)],_0x2c9021,Object[_0x253993(0x3bc)](_via_attributes[_via_attribute_being_updated][_0x2b7c6f]['options'],_0x1f281e));delete _via_attributes[_0x253993(0x2a8)][_0x2b7c6f][_0x253993(0x2c2)][_0x1f281e];break;case'file':update_file_attribute_option_from_all_metadata(_0x2b7c6f,_0x1f281e);!_0x38058d&&Object[_0x253993(0x41d)](_via_attributes[_0x372cec][_0x2b7c6f][_0x253993(0x2c2)],_0x2c9021,Object[_0x253993(0x3bc)](_via_attributes[_via_attribute_being_updated][_0x2b7c6f]['options'],_0x1f281e));delete _via_attributes[_0x253993(0x3eb)][_0x2b7c6f][_0x253993(0x2c2)][_0x1f281e];break;}}function update_region_attribute_option_in_all_metadata(_0x1364cc,_0x3a7d5b,_0x2ac7d4,_0x398af1){var _0x3de6a1;for(_0x3de6a1 in _via_img_metadata){_via_img_metadata['hasOwnProperty'](_0x3de6a1)&&update_region_attribute_option_from_metadata(_0x3de6a1,_0x1364cc,_0x3a7d5b,_0x2ac7d4,_0x398af1);}}0x1;function update_region_attribute_option_from_metadata(_0x178767,_0x2ba10d,_0x5bfb97,_0xe6efda,_0x871565){var _0x2e86df=_0x5d4abf,_0x3555ae;for(_0x3555ae=0x0;_0x3555ae<_via_img_metadata[_0x178767]['regions']['length'];++_0x3555ae){_via_img_metadata[_0x178767][_0x2e86df(0x1e0)][_0x3555ae][_0x2e86df(0x270)][_0x2e86df(0x497)](_0x5bfb97)&&(_via_img_metadata[_0x178767][_0x2e86df(0x1e0)][_0x3555ae][_0x2e86df(0x270)][_0x5bfb97]['hasOwnProperty'](_0xe6efda)&&(Object[_0x2e86df(0x41d)](_via_img_metadata[_0x178767][_0x2e86df(0x1e0)][_0x3555ae]['region_attributes'][_0x5bfb97],_0x871565,Object['getOwnPropertyDescriptor'](_via_img_metadata[_0x178767][_0x2e86df(0x1e0)][_0x3555ae][_0x2e86df(0x270)][_0x5bfb97],_0xe6efda)),delete _via_img_metadata[_0x178767][_0x2e86df(0x1e0)][_0x3555ae]['region_attributes'][_0x5bfb97][_0xe6efda]));}}function delete_file_attribute_option_from_all_metadata(_0x35f3d2,_0x4ff189){var _0x854a36=_0x5d4abf,_0x29fd9b;for(_0x29fd9b in _via_img_metadata){_via_img_metadata[_0x854a36(0x497)](_0x29fd9b)&&delete_file_attribute_option_from_metadata(_0x29fd9b,_0x35f3d2,_0x4ff189);}}function delete_file_attribute_option_from_metadata(_0x461320,_0x37b9f5,_0x9f635e){var _0x1c356f=_0x5d4abf,_0x41d137;_via_img_metadata[_0x461320]['file_attributes'][_0x1c356f(0x497)](_0x37b9f5)&&(_via_img_metadata[_0x461320][_0x1c356f(0x2a9)][_0x37b9f5][_0x1c356f(0x497)](_0x9f635e)&&delete _via_img_metadata[_0x461320]['file_attributes'][_0x37b9f5][_0x9f635e]);}function delete_file_attribute_from_all_metadata(_0x4f8155,_0x459cfb){var _0x4d3523=_0x5d4abf,_0x4f8155;for(_0x4f8155 in _via_img_metadata){_via_img_metadata[_0x4d3523(0x497)](_0x4f8155)&&(_via_img_metadata[_0x4f8155]['file_attributes'][_0x4d3523(0x497)](_0x459cfb)&&delete _via_img_metadata[_0x4f8155][_0x4d3523(0x2a9)][_0x459cfb]);}}function invoke_with_user_inputs(_0xec0812,_0x41679d,_0x2b8d1d,_0x28e186){setup_user_input_panel(_0xec0812,_0x41679d,_0x2b8d1d,_0x28e186),show_user_input_panel();}function setup_user_input_panel(_0x5d0431,_0xc01c20,_0x3d760c,_0xa1f9d0){var _0x2acac7=_0x5d4abf;_via_user_input_ok_handler=_0x5d0431,_via_user_input_cancel_handler=_0xa1f9d0,_via_user_input_data=_0xc01c20;var _0x224510=document[_0x2acac7(0x2f2)](_0x2acac7(0x36d)),_0x2aca3c=document[_0x2acac7(0x237)](_0x2acac7(0x1b5));_0x2aca3c[_0x2acac7(0x33a)]('class',_0x2acac7(0x37e));var _0x6accfa=[];_0x6accfa[_0x2acac7(0x355)]('<p\x20class=\x22title\x22>'+_0x3d760c['title']+_0x2acac7(0x29c)),_0x6accfa[_0x2acac7(0x355)](_0x2acac7(0x288));var _0x161773;for(_0x161773 in _via_user_input_data){_0x6accfa[_0x2acac7(0x355)](_0x2acac7(0x1d7)),_0x6accfa[_0x2acac7(0x355)](_0x2acac7(0x406)+_via_user_input_data[_0x161773][_0x2acac7(0x395)]+'</span>');var _0x5297b3='';_via_user_input_data[_0x161773]['disabled']&&(_0x5297b3='disabled=\x22disabled\x22');var _0x32d1f9='';_via_user_input_data[_0x161773][_0x2acac7(0x290)]&&(_0x32d1f9='value=\x22'+_via_user_input_data[_0x161773]['value']+'\x22');switch(_via_user_input_data[_0x161773][_0x2acac7(0x3e3)]){case _0x2acac7(0x451):_via_user_input_data[_0x161773]['checked']?_0x32d1f9=_0x2acac7(0x1c8):_0x32d1f9='';_0x6accfa[_0x2acac7(0x355)](_0x2acac7(0x406)+_0x2acac7(0x379)+_0x32d1f9+'\x20'+_0x5297b3+'\x20'+'type=\x22checkbox\x22\x20id=\x22'+_0x161773+_0x2acac7(0x1be));break;case _0x2acac7(0x263):var _0x148346='';_via_user_input_data[_0x161773][_0x2acac7(0x499)]&&(_0x148346=_via_user_input_data[_0x161773][_0x2acac7(0x499)]);var _0x298e06='';_via_user_input_data[_0x161773]['placeholder']&&(_0x298e06=_via_user_input_data[_0x161773][_0x2acac7(0x3f8)]);_0x6accfa[_0x2acac7(0x355)]('<span\x20class=\x22cell\x22>'+_0x2acac7(0x379)+_0x32d1f9+'\x20'+_0x5297b3+'\x20'+'size=\x22'+_0x148346+'\x22\x20'+_0x2acac7(0x20f)+_0x298e06+'\x22\x20'+_0x2acac7(0x35c)+_0x161773+_0x2acac7(0x1be));break;}_0x6accfa[_0x2acac7(0x355)]('</div>');}_0x6accfa[_0x2acac7(0x355)]('</div>'),_0x6accfa[_0x2acac7(0x355)]('<div\x20class=\x22user_confirm\x22>'+_0x2acac7(0x43f)+_0x2acac7(0x236)+_0x2acac7(0x1e4)+_0x2acac7(0x22f)),_0x2aca3c[_0x2acac7(0x45b)]=_0x6accfa['join'](''),_0x224510[_0x2acac7(0x45b)]='',_0x224510[_0x2acac7(0x20a)](_0x2aca3c);}function user_input_default_cancel_handler(){hide_user_input_panel(),_via_user_input_data={},_via_user_input_ok_handler=null,_via_user_input_cancel_handler=null;}function user_input_cancel_handler(){_via_user_input_cancel_handler&&_via_user_input_cancel_handler(),user_input_default_cancel_handler();}function user_input_parse_and_invoke_handler(){var _0x21d4c6=_0x5d4abf,_0x159e72=document[_0x21d4c6(0x1d9)](_0x21d4c6(0x410)),_0x4ea854;for(_0x4ea854=0x0;_0x4ea854<_0x159e72['length'];++_0x4ea854){var _0x439fc1=_0x159e72[_0x4ea854]['id'];if(_via_user_input_data[_0x21d4c6(0x497)](_0x439fc1))switch(_via_user_input_data[_0x439fc1][_0x21d4c6(0x3e3)]){case _0x21d4c6(0x451):_via_user_input_data[_0x439fc1][_0x21d4c6(0x290)]=_0x159e72[_0x4ea854][_0x21d4c6(0x49a)];break;default:_via_user_input_data[_0x439fc1]['value']=_0x159e72[_0x4ea854]['value'];break;}}typeof _via_user_input_data[_0x21d4c6(0x457)]!==_0x21d4c6(0x289)?_via_user_input_data[_0x21d4c6(0x457)][_0x21d4c6(0x290)]?_via_user_input_ok_handler(_via_user_input_data):_via_user_input_cancel_handler&&_via_user_input_cancel_handler():_via_user_input_ok_handler(_via_user_input_data),user_input_default_cancel_handler();}function show_user_input_panel(){var _0x457dec=_0x5d4abf;document[_0x457dec(0x2f2)]('user_input_panel')[_0x457dec(0x1bf)]['display']='block';}function hide_user_input_panel(){var _0x2119c8=_0x5d4abf;document['getElementById']('user_input_panel')[_0x2119c8(0x1bf)][_0x2119c8(0x426)]=_0x2119c8(0x36a);}function annotation_editor_set_active_button(){var _0x188b63=_0x5d4abf,_0xaf322f;for(_0xaf322f in _via_attributes){var _0x4fd709=_0x188b63(0x34e)+_0xaf322f+'_metadata';document[_0x188b63(0x2f2)](_0x4fd709)['classList'][_0x188b63(0x424)](_0x188b63(0x3b9));}var _0x4fd709=_0x188b63(0x34e)+_via_metadata_being_updated+_0x188b63(0x425);document[_0x188b63(0x2f2)](_0x4fd709)[_0x188b63(0x32a)][_0x188b63(0x21b)](_0x188b63(0x3b9));}function edit_region_metadata_in_annotation_editor(){_via_metadata_being_updated='region',annotation_editor_set_active_button(),update_annotation_editor();}function edit_file_metadata_in_annotation_editor(){var _0xce9287=_0x5d4abf;_via_metadata_being_updated=_0xce9287(0x3eb),annotation_editor_set_active_button(),update_annotation_editor();}function is_annotation_editor_visible(){var _0x19af75=_0x5d4abf;return document[_0x19af75(0x2f2)](_0x19af75(0x29d))[_0x19af75(0x32a)][_0x19af75(0x2d1)](_0x19af75(0x397));}function toggle_annotation_editor(){var _0x33bc2d=_0x5d4abf,_0x39dddd=document['getElementById']('annotation_editor_panel');_0x39dddd[_0x33bc2d(0x32a)][_0x33bc2d(0x2d1)](_0x33bc2d(0x397))?_0x39dddd[_0x33bc2d(0x32a)][_0x33bc2d(0x424)](_0x33bc2d(0x397)):(_0x39dddd[_0x33bc2d(0x32a)][_0x33bc2d(0x21b)](_0x33bc2d(0x397)),_0x39dddd['style']['height']=_via_settings['ui'][_0x33bc2d(0x483)]+'%',_0x39dddd[_0x33bc2d(0x1bf)]['fontSize']=_via_settings['ui'][_0x33bc2d(0x24d)]+'rem',update_annotation_editor());}function update_annotation_editor(){var _0x1d1f8b=_0x5d4abf,_0x477b9b=document[_0x1d1f8b(0x2f2)]('annotation_editor_panel'),_0x2f75b2=document['getElementById'](_0x1d1f8b(0x41a));_0x2f75b2[_0x1d1f8b(0x45b)]='',$(_0x1d1f8b(0x23b))[_0x1d1f8b(0x464)](''),_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x1d1f8b(0x2c7)]&&(annotation_editor_update_header_html(),annotation_editor_update_metadata_html()),_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x1d1f8b(0x1b9)]&&(_via_metadata_being_updated==='region'?_0x2f75b2[_0x1d1f8b(0x45b)]=_0x1d1f8b(0x319)+_0x1d1f8b(0x326):(annotation_editor_update_header_html(),annotation_editor_update_metadata_html()));}function annotation_editor_update_header_html(){var _0x2f2293=_0x5d4abf,_0x6cb98f=document[_0x2f2293(0x237)](_0x2f2293(0x1b5));_0x6cb98f[_0x2f2293(0x33a)](_0x2f2293(0x456),_0x2f2293(0x46a)),_0x6cb98f[_0x2f2293(0x33a)]('id',_0x2f2293(0x40b));if(_via_metadata_being_updated==='region'){var _0x5a7d7c=document[_0x2f2293(0x237)](_0x2f2293(0x1f9));_0x5a7d7c[_0x2f2293(0x33a)](_0x2f2293(0x456),_0x2f2293(0x42d)),_0x5a7d7c[_0x2f2293(0x45b)]='',_0x6cb98f['appendChild'](_0x5a7d7c);}if(_via_metadata_being_updated===_0x2f2293(0x3eb)){var _0x5a7d7c=document[_0x2f2293(0x237)](_0x2f2293(0x1f9));_0x5a7d7c[_0x2f2293(0x33a)](_0x2f2293(0x456),_0x2f2293(0x235)),_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x2f2293(0x1b9)]?_0x5a7d7c[_0x2f2293(0x45b)]=_0x2f2293(0x1fe):_0x5a7d7c['innerHTML']=_0x2f2293(0x22a),_0x6cb98f[_0x2f2293(0x20a)](_0x5a7d7c);}var _0x562a1f;for(_0x562a1f in _via_attributes[_via_metadata_being_updated]){var _0x5e5aac=document[_0x2f2293(0x237)](_0x2f2293(0x1f9));_0x5e5aac[_0x2f2293(0x33a)](_0x2f2293(0x456),_0x2f2293(0x235)),_0x5e5aac[_0x2f2293(0x45b)]=_0x562a1f,_0x6cb98f['appendChild'](_0x5e5aac);}var _0x3aca81=document[_0x2f2293(0x2f2)](_0x2f2293(0x41a));_0x3aca81[_0x2f2293(0x293)]['length']===0x0?_0x3aca81[_0x2f2293(0x20a)](_0x6cb98f):_0x3aca81[_0x2f2293(0x3a3)]['id']===_0x2f2293(0x40b)?_0x3aca81[_0x2f2293(0x1f6)](_0x6cb98f,_0x3aca81[_0x2f2293(0x3a3)]):_0x3aca81[_0x2f2293(0x26b)](_0x6cb98f,_0x3aca81[_0x2f2293(0x3a3)]);}function annotation_editor_update_metadata_html(){var _0x2a6439=_0x5d4abf,_0x17f608=document[_0x2a6439(0x2f2)](_0x2a6439(0x41a));switch(_via_metadata_being_updated){case _0x2a6439(0x2a8):var _0x10ae80;for(_0x10ae80=0x0;_0x10ae80<_via_img_metadata[_via_image_id]['regions'][_0x2a6439(0x442)];++_0x10ae80){$(_0x2a6439(0x23b))[_0x2a6439(0x368)](annotation_editor_get_metadata_row_html_mindtrip(_0x10ae80));}break;case _0x2a6439(0x3eb):_0x17f608[_0x2a6439(0x20a)](annotation_editor_get_metadata_row_html(0x0));break;}}function annotation_editor_update_row(_0x15015d){var _0x1ccbf3=_0x5d4abf,_0x3d3d5f=document[_0x1ccbf3(0x2f2)](_0x1ccbf3(0x41a)),_0x212bbe=annotation_editor_get_metadata_row_html(_0x15015d),_0x3c7157=document['getElementById'](_0x212bbe[_0x1ccbf3(0x420)]('id'));_0x3d3d5f[_0x1ccbf3(0x1f6)](_0x212bbe,_0x3c7157);}function annotation_editor_add_row(_0x21ab77){var _0x1e4e8b=_0x5d4abf;if(is_annotation_editor_visible()){var _0x4708e0=document['getElementById'](_0x1e4e8b(0x41a)),_0x33a0b=annotation_editor_get_metadata_row_html(_0x21ab77),_0x36af59=parseInt(_0x21ab77)-0x1;if(_0x36af59>=0x0){var _0x2d0ca7=_0x1e4e8b(0x35a)+_via_metadata_being_updated+'_'+_0x36af59,_0x5e6075=document[_0x1e4e8b(0x2f2)](_0x2d0ca7);_0x4708e0['insertBefore'](_0x33a0b,_0x5e6075[_0x1e4e8b(0x473)]);}else _0x4708e0[_0x1e4e8b(0x20a)](_0x33a0b);}}var input_type=_0x5d4abf(0x263),input_options=[],input_options_txt=[],input_type2=_0x5d4abf(0x463),input_options2=[];function annotation_editor_get_metadata_row_html_mindtrip(_0x4b9dae){var _0x4b66f6=_0x5d4abf,_0x2cc2c2=document[_0x4b66f6(0x237)]('tr');_0x2cc2c2[_0x4b66f6(0x33a)]('id',_0x4b66f6(0x35a)+_via_metadata_being_updated+'_'+_0x4b9dae);if(_via_metadata_being_updated===_0x4b66f6(0x2a8)){var _0x1bdea8=document[_0x4b66f6(0x237)]('th');_0x1bdea8[_0x4b66f6(0x33a)](_0x4b66f6(0x29a),'row'),_0x1bdea8[_0x4b66f6(0x45b)]=_0x4b9dae+0x1,_0x2cc2c2[_0x4b66f6(0x20a)](_0x1bdea8);}var _0x3888dc,_0x55767f,_0x7b38b2,_0x204aad=_via_image_id_list[curr_image_no];if(_via_img_metadata[_0x204aad][_0x4b66f6(0x1e0)]['length']>0x0){var _0x47582a=_via_img_metadata[_0x204aad]['img_class'];_0x47582a+'1'in img_class_input_type&&(input_type=img_class_input_type[_0x47582a+'1']),_0x47582a+'2'in img_class_input_type&&(input_type2='text'),_0x47582a+'1'in img_class_input_char&&(input_options=img_class_input_char[_0x47582a+'1'],input_options_txt=img_class_input_char_txt[_0x47582a+'1']),_0x47582a+'2'in img_class_input_char&&(input_options2=img_class_input_char[_0x47582a+'2']);}_0x7b38b2=input_options;input_options2[_0x4b66f6(0x442)]>0x0&&(input_options=input_options2);for(_0x3888dc in _via_attributes[_via_metadata_being_updated]){_0x3888dc==_0x4b66f6(0x215)?(_0x55767f=input_type2,console['log'](_0x4b66f6(0x2c4)+input_type2)):(_0x55767f=input_type,console[_0x4b66f6(0x43e)]('input_type\x20'+input_type));var _0xa02a0c=document[_0x4b66f6(0x237)]('td'),_0x9ccff9=_via_attributes[_via_metadata_being_updated][_0x3888dc][_0x4b66f6(0x3e3)],_0x1f0980=_via_attributes[_via_metadata_being_updated][_0x3888dc][_0x4b66f6(0x409)];typeof _0x1f0980===_0x4b66f6(0x289)&&(_0x1f0980='');var _0x34e880=_0x3888dc+'__'+_0x4b9dae,_0x5eb1be='',_0x5e469c='';if(_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE'])switch(_via_metadata_being_updated){case'region':_via_img_metadata[_via_image_id][_0x4b66f6(0x1e0)][_0x4b9dae][_0x4b66f6(0x270)][_0x4b66f6(0x497)](_0x3888dc)&&(_0x5eb1be=_via_img_metadata[_via_image_id][_0x4b66f6(0x1e0)][_0x4b9dae][_0x4b66f6(0x270)][_0x3888dc]);case _0x4b66f6(0x3eb):_via_img_metadata[_via_image_id][_0x4b66f6(0x2a9)][_0x4b66f6(0x497)](_0x3888dc)&&(_0x5eb1be=_via_img_metadata[_via_image_id]['file_attributes'][_0x3888dc]);}if(_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x4b66f6(0x1b9)]){if(_0x9ccff9==='text'){var _0x21cf56=_via_get_file_metadata_stat(_via_image_grid_img_index_list,_0x3888dc);if(_0x21cf56['hasOwnProperty'](_0x3888dc)){var _0x552162=Object[_0x4b66f6(0x2a3)](_0x21cf56[_0x3888dc]);_0x552162[_0x4b66f6(0x442)]===0x1?(_0x5eb1be=_0x552162[0x0],_0x5e469c=''):(_0x5eb1be='',_0x5e469c=_0x552162[_0x4b66f6(0x442)]+_0x4b66f6(0x49c));}else _0x5eb1be='',_0x5e469c=_0x4b66f6(0x209);}}_0x55767f==_0x4b66f6(0x463)&&_0x5eb1be==''&&(_0x5eb1be=_default_val,_via_img_metadata[_via_image_id][_0x4b66f6(0x1e0)][_0x4b9dae][_0x4b66f6(0x270)][_0x3888dc]=_0x5eb1be);console[_0x4b66f6(0x43e)]('input_type_local\x20'+_0x55767f);switch(_0x55767f){case _0x4b66f6(0x263):_0xa02a0c[_0x4b66f6(0x45b)]=_0x4b66f6(0x1ee)+_0x34e880+_0x4b66f6(0x1d2)+_0x5eb1be+_0x4b66f6(0x477)+i_max_len+_0x4b66f6(0x3fe);break;case _0x4b66f6(0x463):_via_attributes[_via_metadata_being_updated][_0x3888dc][_0x4b66f6(0x2c2)]=_0x7b38b2;var _0x1dab18=document[_0x4b66f6(0x237)](_0x4b66f6(0x44c));_0x1dab18[_0x4b66f6(0x33a)]('id',_0x34e880),_0x1dab18[_0x4b66f6(0x33a)](_0x4b66f6(0x328),'annotation_editor_on_metadata_update(this)'),_0x1dab18[_0x4b66f6(0x33a)]('style','border:\x201px\x20solid\x20#cccccc;margin:\x200.6rem\x200;padding:\x200.2rem\x200.4rem;');var _0x49b01a,_0x22bdb0=![];for(_0x49b01a in _via_attributes[_via_metadata_being_updated][_0x3888dc][_0x4b66f6(0x2c2)]){var _0x58d8fa=_0x34e880+'__'+_0x49b01a,_0x3eb2d1=document[_0x4b66f6(0x237)]('option');_0x3eb2d1['setAttribute'](_0x4b66f6(0x290),_0x49b01a);var _0x3c0698=_via_attributes[_via_metadata_being_updated][_0x3888dc]['options'][_0x49b01a];(_0x3c0698===''||typeof _0x3c0698===_0x4b66f6(0x289))&&(_0x3c0698=_0x49b01a),_0x3eb2d1[_0x4b66f6(0x33a)](_0x4b66f6(0x3c6),_0x3c0698),console[_0x4b66f6(0x43e)](_0x4b66f6(0x2c9)+_0x5eb1be),_via_attributes[_via_metadata_being_updated][_0x3888dc][_0x4b66f6(0x2c2)][_0x49b01a]===_0x5eb1be&&(_0x3eb2d1[_0x4b66f6(0x33a)](_0x4b66f6(0x3e7),_0x4b66f6(0x3e7)),_0x22bdb0=!![]),input_options_txt[_0x4b66f6(0x442)]>0x0&&(_0x3c0698=input_options_txt[_0x49b01a]),_0x3eb2d1['innerHTML']=_0x3c0698,_0x1dab18[_0x4b66f6(0x20a)](_0x3eb2d1);}!_0x22bdb0&&(_0x1dab18[_0x4b66f6(0x3a9)]='-1');_0xa02a0c[_0x4b66f6(0x20a)](_0x1dab18);break;}_0x2cc2c2[_0x4b66f6(0x20a)](_0xa02a0c);}return _0x2cc2c2;}function annotation_editor_get_metadata_row_html(_0x42022d){var _0x244bfd=_0x5d4abf,_0x28ce0d=document[_0x244bfd(0x237)](_0x244bfd(0x1b5));_0x28ce0d['setAttribute'](_0x244bfd(0x456),_0x244bfd(0x46a)),_0x28ce0d[_0x244bfd(0x33a)]('id','ae_'+_via_metadata_being_updated+'_'+_0x42022d);if(_via_metadata_being_updated===_0x244bfd(0x2a8)){var _0x2967d3=document[_0x244bfd(0x237)]('span');_0x2967d3[_0x244bfd(0x33a)](_0x244bfd(0x456),_0x244bfd(0x2c3)),_0x2967d3['innerHTML']=_0x42022d+0x1,_0x28ce0d[_0x244bfd(0x20a)](_0x2967d3);}if(_via_metadata_being_updated===_0x244bfd(0x3eb)){var _0x2967d3=document[_0x244bfd(0x237)](_0x244bfd(0x1f9));_0x2967d3['setAttribute'](_0x244bfd(0x456),_0x244bfd(0x42d));switch(_via_display_area_content_name){case VIA_DISPLAY_AREA_CONTENT_NAME[_0x244bfd(0x1b9)]:_0x2967d3['innerHTML']=_0x244bfd(0x2fe)+_via_image_grid_img_index_list[_0x244bfd(0x442)]+_0x244bfd(0x1c5);break;case VIA_DISPLAY_AREA_CONTENT_NAME[_0x244bfd(0x2c7)]:_0x2967d3['innerHTML']=_via_image_filename_list[_via_image_index];break;}_via_image_grid_img_index_list,_0x28ce0d[_0x244bfd(0x20a)](_0x2967d3);}var _0x197819,_0x28d551,_0x5bc7bf,_0x4cd2d1=_via_image_id_list[curr_image_no];if(_via_img_metadata[_0x4cd2d1][_0x244bfd(0x1e0)][_0x244bfd(0x442)]>0x0){var _0x48152f=_via_img_metadata[_0x4cd2d1]['img_class'];_0x48152f+'1'in img_class_input_type&&(input_type=img_class_input_type[_0x48152f+'1']),_0x48152f+'2'in img_class_input_type&&(input_type2=_0x244bfd(0x263)),_0x48152f+'1'in img_class_input_char&&(input_options=img_class_input_char[_0x48152f+'1']),_0x48152f+'2'in img_class_input_char&&(input_options2=img_class_input_char[_0x48152f+'2']);}_0x5bc7bf=input_options;input_options2['length']>0x0&&(input_options=input_options2);for(_0x197819 in _via_attributes[_via_metadata_being_updated]){_0x197819==_0x244bfd(0x215)?_0x28d551=input_type2:_0x28d551=input_type;var _0x264664=document[_0x244bfd(0x237)](_0x244bfd(0x1f9));_0x264664['setAttribute'](_0x244bfd(0x456),_0x244bfd(0x42d));var _0x5830c2=_via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x3e3)],_0x31f54c=_via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x409)];typeof _0x31f54c===_0x244bfd(0x289)&&(_0x31f54c='');var _0x12b6c7=_0x197819+'__'+_0x42022d,_0x2434b6='',_0x32b61b='';if(_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE'])switch(_via_metadata_being_updated){case _0x244bfd(0x2a8):_via_img_metadata[_via_image_id][_0x244bfd(0x1e0)][_0x42022d][_0x244bfd(0x270)]['hasOwnProperty'](_0x197819)&&(_0x2434b6=_via_img_metadata[_via_image_id][_0x244bfd(0x1e0)][_0x42022d][_0x244bfd(0x270)][_0x197819]);case'file':_via_img_metadata[_via_image_id][_0x244bfd(0x2a9)]['hasOwnProperty'](_0x197819)&&(_0x2434b6=_via_img_metadata[_via_image_id][_0x244bfd(0x2a9)][_0x197819]);}if(_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x244bfd(0x1b9)]){if(_0x5830c2===_0x244bfd(0x263)){var _0x15ae8c=_via_get_file_metadata_stat(_via_image_grid_img_index_list,_0x197819);if(_0x15ae8c[_0x244bfd(0x497)](_0x197819)){var _0x5f1520=Object['keys'](_0x15ae8c[_0x197819]);_0x5f1520[_0x244bfd(0x442)]===0x1?(_0x2434b6=_0x5f1520[0x0],_0x32b61b=''):(_0x2434b6='',_0x32b61b=_0x5f1520['length']+_0x244bfd(0x49c));}else _0x2434b6='',_0x32b61b=_0x244bfd(0x209);}}_0x28d551==_0x244bfd(0x463)&&_0x2434b6==''&&$('#default_val')[_0x244bfd(0x2ce)]()!=''&&(_0x2434b6=$(_0x244bfd(0x224))['val'](),_via_img_metadata[_via_image_id]['regions'][_0x42022d][_0x244bfd(0x270)][_0x197819]=_0x2434b6);switch(_0x28d551){case _0x244bfd(0x263):_0x264664['innerHTML']='<textarea\x20'+_0x244bfd(0x432)+_0x244bfd(0x1b0)+_0x31f54c+'\x22\x20'+_0x244bfd(0x20f)+_0x32b61b+'\x22\x20'+_0x244bfd(0x494)+_0x12b6c7+'\x22>'+_0x2434b6+_0x244bfd(0x39d);break;case _0x244bfd(0x451):var _0x2e4667=_via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)],_0x1b08f8;for(_0x1b08f8 in _0x2e4667){var _0x54c942=_0x12b6c7+'__'+_0x1b08f8,_0x3fcb25=document[_0x244bfd(0x237)](_0x244bfd(0x367));_0x3fcb25['setAttribute'](_0x244bfd(0x3e3),_0x244bfd(0x451)),_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x290),_0x1b08f8),_0x3fcb25[_0x244bfd(0x33a)]('id',_0x54c942),_0x3fcb25[_0x244bfd(0x33a)]('onchange','annotation_editor_on_metadata_update(this)');var _0x1412eb=_via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)][_0x1b08f8];(_0x1412eb===''||typeof _0x1412eb==='undefined')&&(_0x1412eb=_0x1b08f8);typeof _0x2434b6!==_0x244bfd(0x289)&&(_0x2434b6['hasOwnProperty'](_0x1b08f8)&&(_0x3fcb25[_0x244bfd(0x49a)]=_0x2434b6[_0x1b08f8]));var _0x2ecb13=document[_0x244bfd(0x237)](_0x244bfd(0x498));_0x2ecb13['setAttribute'](_0x244bfd(0x421),_0x54c942),_0x2ecb13[_0x244bfd(0x45b)]=_0x1412eb;var _0x4452e1=document[_0x244bfd(0x237)](_0x244bfd(0x1f9));_0x4452e1[_0x244bfd(0x20a)](_0x3fcb25),_0x4452e1['appendChild'](_0x2ecb13),_0x264664['appendChild'](_0x4452e1);}break;case _0x244bfd(0x45d):var _0x1b08f8;for(_0x1b08f8 in _via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)]){var _0x54c942=_0x12b6c7+'__'+_0x1b08f8,_0x3fcb25=document[_0x244bfd(0x237)](_0x244bfd(0x367));_0x3fcb25['setAttribute'](_0x244bfd(0x3e3),'radio'),_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x395),_0x12b6c7),_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x290),_0x1b08f8),_0x3fcb25[_0x244bfd(0x33a)]('id',_0x54c942),_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x328),'annotation_editor_on_metadata_update(this)');var _0x1412eb=_via_attributes[_via_metadata_being_updated][_0x197819]['options'][_0x1b08f8];(_0x1412eb===''||typeof _0x1412eb===_0x244bfd(0x289))&&(_0x1412eb=_0x1b08f8);_0x2434b6===_0x1b08f8&&(_0x3fcb25[_0x244bfd(0x49a)]=!![]);var _0x2ecb13=document[_0x244bfd(0x237)](_0x244bfd(0x498));_0x2ecb13[_0x244bfd(0x33a)]('for',_0x54c942),_0x2ecb13['innerHTML']=_0x1412eb;var _0x4452e1=document['createElement']('span');_0x4452e1[_0x244bfd(0x20a)](_0x3fcb25),_0x4452e1[_0x244bfd(0x20a)](_0x2ecb13),_0x264664[_0x244bfd(0x20a)](_0x4452e1);}break;case _0x244bfd(0x2e6):var _0x1b08f8,_0x4c18bb=0x0;for(_0x1b08f8 in _via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)]){_0x4c18bb=_0x4c18bb+0x1;}var _0x2f8879=document[_0x244bfd(0x237)](_0x244bfd(0x1b5));_0x2f8879['setAttribute'](_0x244bfd(0x456),_0x244bfd(0x2e3)),_0x264664['appendChild'](_0x2f8879);var _0x7849dc=0x0;for(_0x1b08f8 in _via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)]){var _0x54c942=_0x12b6c7+'__'+_0x1b08f8,_0x3fcb25=document[_0x244bfd(0x237)](_0x244bfd(0x367));_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x3e3),_0x244bfd(0x45d)),_0x3fcb25[_0x244bfd(0x33a)]('name',_0x12b6c7),_0x3fcb25['setAttribute']('value',_0x1b08f8),_0x3fcb25[_0x244bfd(0x33a)]('id',_0x54c942),_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x328),_0x244bfd(0x3b2));var _0x1412eb=_via_attributes[_via_metadata_being_updated][_0x197819]['options'][_0x1b08f8];(_0x1412eb===''||typeof _0x1412eb===_0x244bfd(0x289))&&(_0x1412eb=_0x1b08f8);_0x2434b6===_0x1b08f8&&(_0x3fcb25[_0x244bfd(0x49a)]=!![]);var _0x2ecb13=document['createElement'](_0x244bfd(0x498));_0x2ecb13['setAttribute'](_0x244bfd(0x421),_0x54c942),_0x2ecb13[_0x244bfd(0x45b)]=_0x244bfd(0x37c)+_0x1412eb+_0x244bfd(0x439)+_0x1b08f8+'</p>';var _0x4452e1=document[_0x244bfd(0x237)](_0x244bfd(0x1f9));_0x4452e1[_0x244bfd(0x20a)](_0x3fcb25),_0x4452e1['appendChild'](_0x2ecb13),_0x2f8879[_0x244bfd(0x20a)](_0x4452e1);}break;case _0x244bfd(0x463):_via_attributes[_via_metadata_being_updated][_0x197819]['options']=_0x5bc7bf;var _0x4a1145=document[_0x244bfd(0x237)](_0x244bfd(0x44c));_0x4a1145[_0x244bfd(0x33a)]('id',_0x12b6c7),_0x4a1145[_0x244bfd(0x33a)](_0x244bfd(0x328),_0x244bfd(0x3b2));var _0x1b08f8,_0x987757=![];for(_0x1b08f8 in _via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)]){var _0x54c942=_0x12b6c7+'__'+_0x1b08f8,_0x3fcb25=document[_0x244bfd(0x237)](_0x244bfd(0x45c));_0x3fcb25[_0x244bfd(0x33a)](_0x244bfd(0x290),_0x1b08f8);var _0x1412eb=_via_attributes[_via_metadata_being_updated][_0x197819][_0x244bfd(0x2c2)][_0x1b08f8];(_0x1412eb===''||typeof _0x1412eb===_0x244bfd(0x289))&&(_0x1412eb=_0x1b08f8),console[_0x244bfd(0x43e)](_0x244bfd(0x2c9)+_0x2434b6),_via_attributes[_via_metadata_being_updated][_0x197819]['options'][_0x1b08f8]===_0x2434b6&&(_0x3fcb25['setAttribute'](_0x244bfd(0x3e7),'selected'),_0x987757=!![]),_0x3fcb25[_0x244bfd(0x45b)]=_0x1412eb,_0x4a1145[_0x244bfd(0x20a)](_0x3fcb25);}!_0x987757&&(_0x4a1145[_0x244bfd(0x3a9)]='-1');_0x264664[_0x244bfd(0x20a)](_0x4a1145);break;}_0x28ce0d[_0x244bfd(0x20a)](_0x264664);}return _0x28ce0d;}function annotation_editor_scroll_to_row(_0x5856b9){var _0x5244c0=_0x5d4abf;if(is_annotation_editor_visible()){var _0x55fad3='ae_'+_via_metadata_being_updated+'_'+_0x5856b9,_0x4b605f=document[_0x5244c0(0x2f2)](_0x55fad3);_0x4b605f[_0x5244c0(0x2de)](![]);}}function annotation_editor_highlight_row(_0x112fcd){var _0x45ce42=_0x5d4abf;if(is_annotation_editor_visible()){var _0xcfaa39=_0x45ce42(0x35a)+_via_metadata_being_updated+'_'+_0x112fcd,_0x4a528e=document[_0x45ce42(0x2f2)](_0xcfaa39);_0x4a528e[_0x45ce42(0x32a)][_0x45ce42(0x21b)](_0x45ce42(0x2ea));}}function annotation_editor_clear_row_highlight(){var _0x261cd3=_0x5d4abf;if(is_annotation_editor_visible()){var _0x5c44e5=document['getElementById'](_0x261cd3(0x41a)),_0x185e7c;for(_0x185e7c=0x0;_0x185e7c<_0x5c44e5[_0x261cd3(0x293)][_0x261cd3(0x442)];++_0x185e7c){_0x5c44e5['childNodes'][_0x185e7c]['classList'][_0x261cd3(0x424)](_0x261cd3(0x2ea));}}}function annotation_editor_extract_html_id_components(_0x4531b0){var _0x5cc931=_0x5d4abf,_0x2b4b4e=_0x4531b0[_0x5cc931(0x1ba)]('__'),_0x4d9f80={};switch(_0x2b4b4e[_0x5cc931(0x442)]){case 0x3:_0x4d9f80[_0x5cc931(0x414)]=_0x2b4b4e[0x0],_0x4d9f80[_0x5cc931(0x2d9)]=_0x2b4b4e[0x1],_0x4d9f80[_0x5cc931(0x36c)]=_0x2b4b4e[0x2];break;case 0x2:_0x4d9f80[_0x5cc931(0x414)]=_0x2b4b4e[0x0],_0x4d9f80[_0x5cc931(0x2d9)]=_0x2b4b4e[0x1];break;default:}return _0x4d9f80;}function _via_get_file_metadata_stat(_0xb43817,_0x49ee4e){var _0x5cd4dc=_0x5d4abf,_0xb738aa={},_0xf35477,_0x288b97,_0x2b114f,_0x4297d4,_0x4b3fde;_0x288b97=_0xb43817[_0x5cd4dc(0x442)];for(_0xf35477=0x0;_0xf35477<_0x288b97;++_0xf35477){_0x4297d4=_0xb43817[_0xf35477],_0x2b114f=_via_image_id_list[_0xf35477],_via_img_metadata[_0x2b114f][_0x5cd4dc(0x2a9)]['hasOwnProperty'](_0x49ee4e)&&(_0x4b3fde=_via_img_metadata[_0x2b114f][_0x5cd4dc(0x2a9)][_0x49ee4e],!_0xb738aa[_0x5cd4dc(0x497)](_0x49ee4e)&&(_0xb738aa[_0x49ee4e]={}),_0xb738aa[_0x49ee4e]['hasOwnProperty'](_0x4b3fde)?_0xb738aa[_0x49ee4e][_0x4b3fde]+=0x1:_0xb738aa[_0x49ee4e][_0x4b3fde]=0x1);}return _0xb738aa;}function annotation_editor_on_metadata_update(_0xc0d70d){var _0x59b010=_0x5d4abf,_0x2088a0=annotation_editor_extract_html_id_components(_0xc0d70d['id']),_0x32b5ea=_via_image_id,_0x60b7d9=input_type;_0x2088a0['attr_id']==_0x59b010(0x215)&&(_0x60b7d9='text');if(_via_metadata_being_updated===_0x59b010(0x2a8)){if(_0x60b7d9==_0x59b010(0x263)){if(input_options[_0x59b010(0x442)]>0x0)for(var _0x1e5430=0x0;_0x1e5430<_0xc0d70d['value'][_0x59b010(0x442)];_0x1e5430++){var _0x2665ce=_0xc0d70d[_0x59b010(0x290)][_0x59b010(0x311)](_0x1e5430);if(input_options[_0x59b010(0x3ba)](_0x2665ce)==-0x1){alert(_0x59b010(0x358)+_0x2665ce+']');return;}}if(_0xc0d70d[_0x59b010(0x290)]['length']<i_min_len){alert(_0x59b010(0x364)+i_min_len+_0x59b010(0x307));return;}if(_0xc0d70d['value']['length']>i_max_len){alert(_0x59b010(0x3e5)+i_max_len+'글자입니다.');return;}}_0xc0d70d['options']!=undefined?annotation_editor_update_region_metadata(_0x32b5ea,_0x2088a0['row_id'],_0x2088a0[_0x59b010(0x414)],_0xc0d70d['options'][_0xc0d70d['value']][_0x59b010(0x420)]('attr-value'),_0xc0d70d[_0x59b010(0x49a)]):annotation_editor_update_region_metadata(_0x32b5ea,_0x2088a0[_0x59b010(0x2d9)],_0x2088a0[_0x59b010(0x414)],_0xc0d70d[_0x59b010(0x290)],_0xc0d70d[_0x59b010(0x49a)]);_via_redraw_reg_canvas();return;}if(_via_metadata_being_updated==='file'){var _0x2c1bfa=[_via_image_index];_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE_GRID']&&(_0x2c1bfa=_via_image_grid_img_index_list[_0x59b010(0x1af)](0x0)),annotation_editor_update_file_metadata(_0x2c1bfa,_0x2088a0[_0x59b010(0x414)],_0xc0d70d['value'],_0xc0d70d[_0x59b010(0x49a)])[_0x59b010(0x436)](function(_0x1321e0){var _0x2ec499=_0x59b010;show_message(_0x2ec499(0x346)+_0x1321e0+_0x2ec499(0x1c5)),_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x2ec499(0x1b9)]&&image_grid_show_all_project_images();},function(_0x1d44b0){var _0x498700=_0x59b010;show_message(_0x498700(0x216));});}}function annotation_editor_update_file_metadata(_0x3539e1,_0x55552b,_0x67ea71,_0x1e0847){return new Promise(function(_0x16fb58,_0x19829a){var _0xcfcaa6=_0x8643,_0x431582,_0x4226df,_0x2cb784,_0x6826c2;_0x4226df=_0x3539e1['length'];var _0x29fe9f=0x0;for(_0x431582=0x0;_0x431582<_0x4226df;++_0x431582){_0x6826c2=_0x3539e1[_0x431582],_0x2cb784=_via_image_id_list[_0x6826c2];switch(_via_attributes['file'][_0x55552b][_0xcfcaa6(0x3e3)]){case _0xcfcaa6(0x263):case'radio':case _0xcfcaa6(0x463):case'image':_via_img_metadata[_0x2cb784]['file_attributes'][_0x55552b]=_0x67ea71,_0x29fe9f+=0x1;break;case _0xcfcaa6(0x451):var _0x24e178=_0x67ea71;!_via_img_metadata[_0x2cb784][_0xcfcaa6(0x2a9)][_0xcfcaa6(0x497)](_0x55552b)&&(_via_img_metadata[_0x2cb784][_0xcfcaa6(0x2a9)][_0x55552b]={});_0x1e0847?_via_img_metadata[_0x2cb784][_0xcfcaa6(0x2a9)][_0x55552b][_0x24e178]=!![]:delete _via_img_metadata[_0x2cb784][_0xcfcaa6(0x2a9)][_0x55552b][_0x24e178];_0x29fe9f+=0x1;break;}}_0x16fb58(_0x29fe9f);});}function annotation_editor_update_region_metadata(_0x4c1612,_0x5a2d24,_0x4adc90,_0x39035f,_0x180c56){var _0x29b94d=_0x5d4abf;console[_0x29b94d(0x43e)](_0x29b94d(0x227)+_via_attributes['region'][_0x4adc90][_0x29b94d(0x3e3)]);switch(_via_attributes[_0x29b94d(0x2a8)][_0x4adc90][_0x29b94d(0x3e3)]){case _0x29b94d(0x263):case _0x29b94d(0x463):case _0x29b94d(0x45d):case'image':_via_img_metadata[_0x4c1612]['regions'][_0x5a2d24][_0x29b94d(0x270)][_0x4adc90]=_0x39035f;break;case _0x29b94d(0x451):var _0x41992a=_0x39035f;!_via_img_metadata[_0x4c1612][_0x29b94d(0x1e0)][_0x5a2d24]['region_attributes'][_0x29b94d(0x497)](_0x4adc90)&&(_via_img_metadata[_0x4c1612][_0x29b94d(0x1e0)][_0x5a2d24][_0x29b94d(0x270)][_0x4adc90]={});_0x180c56?_via_img_metadata[_0x4c1612][_0x29b94d(0x1e0)][_0x5a2d24][_0x29b94d(0x270)][_0x4adc90][_0x41992a]=!![]:delete _via_img_metadata[_0x4c1612]['regions'][_0x5a2d24][_0x29b94d(0x270)][_0x4adc90][_0x41992a];break;}}function set_region_annotations_to_default_value(_0x547c31){var _0x295e0b=_0x5d4abf,_0x4c2086;for(_0x4c2086 in _via_attributes[_0x295e0b(0x2a8)]){var _0x42eb34=_via_attributes[_0x295e0b(0x2a8)][_0x4c2086][_0x295e0b(0x3e3)];switch(_0x42eb34){case _0x295e0b(0x263):var _0x1d3381=_via_attributes[_0x295e0b(0x2a8)][_0x4c2086][_0x295e0b(0x36e)];typeof _0x1d3381!=='undefined'&&(_via_img_metadata[_via_image_id][_0x295e0b(0x1e0)][_0x547c31]['region_attributes'][_0x4c2086]=_0x1d3381);break;case'image':case'dropdown':_0x4c2086!=_0x295e0b(0x498)&&(_via_img_metadata[_via_image_id][_0x295e0b(0x1e0)][_0x547c31][_0x295e0b(0x270)][_0x4c2086]='');var _0xead44c=_via_attributes['region'][_0x4c2086]['default_options'];typeof _0xead44c!==_0x295e0b(0x289)&&(_via_img_metadata[_via_image_id][_0x295e0b(0x1e0)][_0x547c31][_0x295e0b(0x270)][_0x4c2086]=Object[_0x295e0b(0x2a3)](_0xead44c)[0x0]);break;case _0x295e0b(0x45d):_via_img_metadata[_via_image_id][_0x295e0b(0x1e0)][_0x547c31]['region_attributes'][_0x4c2086]='';var _0xead44c=_via_attributes['region'][_0x4c2086]['default_options'];typeof _0xead44c!==_0x295e0b(0x289)&&(_via_img_metadata[_via_image_id]['regions'][_0x547c31][_0x295e0b(0x270)][_0x4c2086]=Object[_0x295e0b(0x2a3)](_0xead44c)[0x0]);break;case _0x295e0b(0x451):_via_img_metadata[_via_image_id][_0x295e0b(0x1e0)][_0x547c31][_0x295e0b(0x270)][_0x4c2086]={};var _0xead44c=_via_attributes[_0x295e0b(0x2a8)][_0x4c2086][_0x295e0b(0x286)];if(typeof _0xead44c!=='underfined'){var _0x37e1c8;for(_0x37e1c8 in _0xead44c){var _0x1d3381=_0xead44c[_0x37e1c8];typeof _0x1d3381!==_0x295e0b(0x3de)&&(_via_img_metadata[_via_image_id]['regions'][_0x547c31][_0x295e0b(0x270)][_0x4c2086][_0x37e1c8]=_0x1d3381);}}break;}}}function set_file_annotations_to_default_value(_0xe73775){var _0x36c961=_0x5d4abf,_0x1b9b13;for(_0x1b9b13 in _via_attributes[_0x36c961(0x3eb)]){var _0x193a30=_via_attributes[_0x36c961(0x3eb)][_0x1b9b13][_0x36c961(0x3e3)];switch(_0x193a30){case'text':var _0x23220d=_via_attributes[_0x36c961(0x3eb)][_0x1b9b13][_0x36c961(0x36e)];_via_img_metadata[_0xe73775][_0x36c961(0x2a9)][_0x1b9b13]=_0x23220d;break;case _0x36c961(0x2e6):case'dropdown':case _0x36c961(0x45d):_via_img_metadata[_0xe73775][_0x36c961(0x2a9)][_0x1b9b13]='';var _0x53cf38=_via_attributes['file'][_0x1b9b13]['default_options'];_via_img_metadata[_0xe73775][_0x36c961(0x2a9)][_0x1b9b13]=Object[_0x36c961(0x2a3)](_0x53cf38)[0x0];break;case'checkbox':_via_img_metadata[_0xe73775][_0x36c961(0x2a9)][_0x1b9b13]={};var _0x53cf38=_via_attributes[_0x36c961(0x3eb)][_0x1b9b13]['default_options'],_0x411fb0;for(_0x411fb0 in _0x53cf38){var _0x23220d=_0x53cf38[_0x411fb0];_via_img_metadata[_0xe73775][_0x36c961(0x2a9)][_0x1b9b13][_0x411fb0]=_0x23220d;}break;}}}function annotation_editor_increase_panel_height(){var _0x3dc41d=_0x5d4abf,_0xc6535d=document[_0x3dc41d(0x2f2)](_0x3dc41d(0x29d));_via_settings['ui']['annotation_editor_height']<0x5f&&(_via_settings['ui'][_0x3dc41d(0x483)]+=VIA_ANNOTATION_EDITOR_HEIGHT_CHANGE,_0xc6535d['style'][_0x3dc41d(0x3f2)]=_via_settings['ui']['annotation_editor_height']+'%');}function annotation_editor_decrease_panel_height(){var _0x6d3b37=_0x5d4abf,_0x5a83da=document[_0x6d3b37(0x2f2)](_0x6d3b37(0x29d));_via_settings['ui'][_0x6d3b37(0x483)]>0xa&&(_via_settings['ui']['annotation_editor_height']-=VIA_ANNOTATION_EDITOR_HEIGHT_CHANGE,_0x5a83da[_0x6d3b37(0x1bf)][_0x6d3b37(0x3f2)]=_via_settings['ui'][_0x6d3b37(0x483)]+'%');}function annotation_editor_increase_content_size(){var _0x324790=_0x5d4abf,_0x35e025=document[_0x324790(0x2f2)](_0x324790(0x29d));_via_settings['ui'][_0x324790(0x24d)]<1.6&&(_via_settings['ui']['annotation_editor_fontsize']+=VIA_ANNOTATION_EDITOR_FONTSIZE_CHANGE,_0x35e025[_0x324790(0x1bf)][_0x324790(0x419)]=_via_settings['ui'][_0x324790(0x24d)]+_0x324790(0x1d3));}function annotation_editor_decrease_content_size(){var _0x2f1d8c=_0x5d4abf,_0x261fba=document[_0x2f1d8c(0x2f2)](_0x2f1d8c(0x29d));_via_settings['ui'][_0x2f1d8c(0x24d)]>0.4&&(_via_settings['ui'][_0x2f1d8c(0x24d)]-=VIA_ANNOTATION_EDITOR_FONTSIZE_CHANGE,_0x261fba['style'][_0x2f1d8c(0x419)]=_via_settings['ui'][_0x2f1d8c(0x24d)]+_0x2f1d8c(0x1d3));}function project_set_name(_0x44a568){var _0x2061e3=_0x5d4abf;_via_settings[_0x2061e3(0x3f6)]['name']=_0x44a568;var _0x3bcf01=document[_0x2061e3(0x2f2)](_0x2061e3(0x285));_0x3bcf01[_0x2061e3(0x290)]=_via_settings['project']['name'];}function project_init_default_project(){var _0xdcd9d9=_0x5d4abf;!_via_settings[_0xdcd9d9(0x497)]('project')&&(_via_settings['project']={}),project_set_name(project_get_default_project_name());}function project_on_name_update(_0x1771ac){project_set_name(_0x1771ac['value']);}function project_get_default_project_name(){var _0x9a1ac0=_0x5d4abf;const _0x25f793=new Date();var _0x397955=['Jan',_0x9a1ac0(0x21f),_0x9a1ac0(0x32b),_0x9a1ac0(0x3d2),_0x9a1ac0(0x465),_0x9a1ac0(0x2a7),_0x9a1ac0(0x317),_0x9a1ac0(0x3ec),'Sep','Oct','Nov',_0x9a1ac0(0x2be)],_0xbfc26b=_0x25f793[_0x9a1ac0(0x249)]()+_0x397955[_0x25f793[_0x9a1ac0(0x31d)]()]+_0x25f793['getFullYear']()+'_'+_0x25f793['getHours']()+'h'+_0x25f793['getMinutes']()+'m',_0x3a087a=_0x9a1ac0(0x1d4)+_0xbfc26b;return _0x3a087a;}function project_save_with_confirm(){var _0x5de655=_0x5d4abf,_0x4def71={'title':_0x5de655(0x26a)},_0x5ebe0f={'project_name':{'type':_0x5de655(0x263),'name':_0x5de655(0x3b7),'value':_via_settings['project'][_0x5de655(0x395)],'disabled':![],'size':0x1e},'save_annotations':{'type':_0x5de655(0x451),'name':_0x5de655(0x28c),'checked':!![],'disabled':![]},'save_attributes':{'type':'checkbox','name':_0x5de655(0x281),'checked':!![]},'save_via_settings':{'type':_0x5de655(0x451),'name':_0x5de655(0x33e),'checked':!![]}};invoke_with_user_inputs(project_save_confirmed,_0x5ebe0f,_0x4def71);}function project_save_confirmed(_0x303040){var _0x33a6e2=_0x5d4abf;_0x303040['project_name'][_0x33a6e2(0x290)]!==_via_settings[_0x33a6e2(0x3f6)][_0x33a6e2(0x395)]&&project_set_name(_0x303040['project_name'][_0x33a6e2(0x290)]);var _0x3d7a5c={'_via_settings':_via_settings,'_via_img_metadata':_via_img_metadata,'_via_attributes':_via_attributes},_0x40047c=_0x303040['project_name']['value']+_0x33a6e2(0x345),_0x3b48be=new Blob([JSON[_0x33a6e2(0x3d3)](_0x3d7a5c)],{'type':_0x33a6e2(0x434)});save_data_to_local_file(_0x3b48be,_0x40047c),user_input_default_cancel_handler();}function project_open_select_project_file(){var _0x3a12c3=_0x5d4abf;invisible_file_input&&(invisible_file_input[_0x3a12c3(0x278)]='.json',invisible_file_input[_0x3a12c3(0x328)]=project_open,invisible_file_input['removeAttribute']('multiple'),invisible_file_input[_0x3a12c3(0x340)]());}function project_open(_0x3fd992){var _0x4f0f8b=_0x5d4abf,_0xb85029=_0x3fd992[_0x4f0f8b(0x250)][_0x4f0f8b(0x25a)][0x0];load_text_file(_0xb85029,JSON[_0x4f0f8b(0x1bd)](project_open_parse_json_file));}function project_open_parse_json_file(_0x5a0edb){var _0x1a1b15=_0x5d4abf;if(_0x5a0edb[_0x1a1b15(0x427)]&&_0x5a0edb['_via_img_metadata']&&_0x5a0edb[_0x1a1b15(0x2d8)]){project_import_settings(_0x5a0edb[_0x1a1b15(0x427)]),_via_img_metadata=_0x5a0edb['_via_img_metadata'],_via_image_id_list=[],_via_image_filename_list=[],_via_img_count=0x0;var _0x319d88;for(_0x319d88 in _via_img_metadata){console[_0x1a1b15(0x43e)](_0x1a1b15(0x238),_0x319d88),_via_image_id_list[_0x1a1b15(0x355)](_0x319d88),_via_image_filename_list['push'](_via_img_metadata[_0x319d88]['filename']),set_file_annotations_to_default_value(_0x319d88),_via_img_count+=0x1;}_via_attributes=_0x5a0edb['_via_attributes'],project_parse_via_attributes_from_img_metadata();var _0x18104e=Object['keys'](_via_attributes[_0x1a1b15(0x3eb)]),_0x275c81=Object[_0x1a1b15(0x2a3)](_via_attributes[_0x1a1b15(0x2a8)]);_0x275c81[_0x1a1b15(0x442)]?(_via_attribute_being_updated='region',_via_current_attribute_id=_0x275c81[0x0]):_0x18104e['length']&&(_via_attribute_being_updated=_0x1a1b15(0x3eb),_via_current_attribute_id=_0x18104e[0x0]),_via_settings[_0x1a1b15(0x43d)]['default_filepath']!==''&&_via_file_resolve_all_to_default_filepath(),_via_img_count>0x0&&(_via_show_img(0x0),update_img_fn_list(),_via_reload_img_fn_list_table=!![]);}else show_message(_0x1a1b15(0x437));}function project_parse_via_attributes_from_img_metadata(){var _0x35e80b=_0x5d4abf,_0x232123,_0x5d8fdc,_0x1e8a7e;!_via_attributes[_0x35e80b(0x497)](_0x35e80b(0x3eb))&&(_via_attributes[_0x35e80b(0x3eb)]={});!_via_attributes[_0x35e80b(0x497)](_0x35e80b(0x2a8))&&(_via_attributes['region']={});for(_0x232123 in _via_img_metadata){for(_0x5d8fdc in _via_img_metadata[_0x232123][_0x35e80b(0x2a9)]){!_via_attributes[_0x35e80b(0x3eb)]['hasOwnProperty'](_0x5d8fdc)&&(_via_attributes[_0x35e80b(0x3eb)][_0x5d8fdc]={},_via_attributes['file'][_0x5d8fdc]['type']='text');}var _0xb91b99;for(_0xb91b99=0x0;_0xb91b99<_via_img_metadata[_0x232123]['regions'][_0x35e80b(0x442)];++_0xb91b99){for(_0x1e8a7e in _via_img_metadata[_0x232123]['regions'][_0xb91b99][_0x35e80b(0x270)]){!_via_attributes[_0x35e80b(0x2a8)][_0x35e80b(0x497)](_0x1e8a7e)&&(_via_attributes[_0x35e80b(0x2a8)][_0x1e8a7e]={},_via_attributes[_0x35e80b(0x2a8)][_0x1e8a7e][_0x35e80b(0x3e3)]=_0x35e80b(0x263));}}}}function project_import_settings(_0x51ae89){var _0xc09620=_0x5d4abf,_0x4c0050;for(_0x4c0050 in _0x51ae89){if(typeof _0x51ae89[_0x4c0050]===_0xc09620(0x23a)){var _0x141654;for(_0x141654 in _0x51ae89[_0x4c0050]){if(typeof _0x51ae89[_0x4c0050][_0x141654]==='object'){var _0x204e81;for(_0x204e81 in _0x51ae89[_0x4c0050][_0x141654]){_via_settings[_0x4c0050][_0x141654][_0x204e81]=_0x51ae89[_0x4c0050][_0x141654][_0x204e81];}}else _via_settings[_0x4c0050][_0x141654]=_0x51ae89[_0x4c0050][_0x141654];}}else _via_settings[_0x4c0050]=_0x51ae89[_0x4c0050];}}function project_file_remove_with_confirm(){var _0x270747=_0x5d4abf,_0x18d806=_via_image_id_list[_via_image_index],_0x41380d=_via_img_metadata[_0x18d806]['filename'],_0x32ea4c=_via_img_metadata[_0x18d806][_0x270747(0x1e0)]['length'],_0x34549c={'title':_0x270747(0x41c)},_0x484941={'img_index':{'type':'text','name':_0x270747(0x203),'value':_via_image_index+0x1,'disabled':!![]},'filename':{'type':_0x270747(0x263),'name':_0x270747(0x2ed),'value':_0x41380d,'disabled':!![],'size':0x1e},'region_count':{'type':_0x270747(0x263),'name':_0x270747(0x2c5),'disabled':!![],'value':_0x32ea4c},'confirm':{'type':'checkbox','name':_0x270747(0x1e5),'checked':![]}};invoke_with_user_inputs(project_file_remove_confirmed,_0x484941,_0x34549c);}function project_file_remove_confirmed(_0x26bcba){var _0x46471b=_0x5d4abf;if(_0x26bcba['confirm'][_0x46471b(0x290)]){var _0x2d47ba=_0x26bcba[_0x46471b(0x3e0)][_0x46471b(0x290)]-0x1,_0x2b725a=_via_image_id_list[_0x2d47ba],_0x581793=_via_img_metadata[_0x2b725a][_0x46471b(0x22a)],_0x59aa2e=_via_image_id_list[_0x46471b(0x1af)](0x0),_0xfbb9a9=_via_image_filename_list['slice'](0x0);_via_image_id_list=[],_via_image_filename_list=[],_via_img_count=0x0;var _0x1ba7c3;for(_0x1ba7c3=0x0;_0x1ba7c3<_0x59aa2e[_0x46471b(0x442)];++_0x1ba7c3){var _0x200795=_0x59aa2e[_0x1ba7c3];_0x200795!==_0x2b725a&&(_via_image_id_list[_0x46471b(0x355)](_0x200795),_via_image_filename_list[_0x46471b(0x355)](_via_img_metadata[_0x200795][_0x46471b(0x22a)]),_via_img_count+=0x1);}_via_reload_img_fn_list_table=!![],update_img_fn_list(),_via_img_count===0x0?(_via_current_image_loaded=![],show_home_panel()):(console[_0x46471b(0x43e)](_via_image_id),move_to_next_image()),delete _via_img_metadata[_0x2b725a],show_message(_0x46471b(0x36f)+_0x581793+_0x46471b(0x219));}user_input_default_cancel_handler();}function project_add_new_file(_0x3fa472,_0x344e4d){var _0x363507=_0x5d4abf;typeof _0x344e4d==='undefined'&&(_0x344e4d=-0x1);var _0x16f0be=_via_get_image_id(_0x3fa472,_0x344e4d);return!_via_img_metadata[_0x363507(0x497)](_0x16f0be)&&(_via_img_metadata[_0x16f0be]=new file_metadata(_0x3fa472,_0x344e4d),_via_image_id_list['push'](_0x16f0be),_via_image_filename_list['push'](_0x3fa472),_via_img_count+=0x1),_0x16f0be;}function project_file_add_local(_0x5d226a){var _0x15eec2=_0x5d4abf,_0x2f95c8=_0x5d226a[_0x15eec2(0x250)]['files'],_0x389ff3=_via_img_count,_0x58a248=[],_0x1376ee=0x0;for(var _0xcce10d=0x0;_0xcce10d<_0x2f95c8[_0x15eec2(0x442)];++_0xcce10d){var _0x5697d9=_0x2f95c8[_0xcce10d][_0x15eec2(0x3e3)][_0x15eec2(0x38b)](0x0,0x5);if(_0x5697d9==='image'){var _0x5052d3=_0x2f95c8[_0xcce10d][_0x15eec2(0x395)],_0x6ca914=_0x2f95c8[_0xcce10d][_0x15eec2(0x499)],_0x9ffd00=_via_get_image_id(_0x5052d3,_0x6ca914),_0x32a516=_via_get_image_id(_0x5052d3,-0x1),_0x385920=_0x9ffd00;_via_img_metadata[_0x15eec2(0x497)](_0x9ffd00)||_via_img_metadata['hasOwnProperty'](_0x32a516)?(_via_img_metadata[_0x15eec2(0x497)](_0x32a516)&&(_0x385920=_0x32a516),_via_img_fileref[_0x385920]=_0x2f95c8[_0xcce10d],_via_img_metadata[_0x385920][_0x15eec2(0x499)]===-0x1&&(_via_img_metadata[_0x385920][_0x15eec2(0x499)]=_0x6ca914)):(_0x385920=project_add_new_file(_0x5052d3,_0x6ca914),_via_img_fileref[_0x385920]=_0x2f95c8[_0xcce10d],set_file_annotations_to_default_value(_0x385920)),_0x58a248['push'](_via_image_id_list['indexOf'](_0x385920));}else _0x1376ee+=0x1;}if(_via_img_metadata){var _0x14190a=_0x15eec2(0x3d4)+_0x58a248[_0x15eec2(0x442)]+'\x20images.';_0x1376ee&&(_0x14190a+=_0x15eec2(0x448)+_0x1376ee+_0x15eec2(0x294)),show_message(_0x14190a),_0x58a248[_0x15eec2(0x442)]?_via_show_img(_0x58a248[0x0]):_via_show_img(_via_image_index),update_img_fn_list();}else show_message(_0x15eec2(0x1b6));}function project_file_add_abs_path_with_input(){var _0x2e4f02=_0x5d4abf,_0x79ffa7={'title':_0x2e4f02(0x257)},_0x576093={'absolute_path':{'type':'text','name':_0x2e4f02(0x3fd),'placeholder':'/home/abhishek/image1.jpg','disabled':![],'size':0x32}};invoke_with_user_inputs(project_file_add_abs_path_input_done,_0x576093,_0x79ffa7);}function project_file_add_abs_path_input_done(_0x2612c1){var _0x27ccb4=_0x5d4abf,_0x1c3f5b=_0x2612c1['absolute_path']['value'][_0x27ccb4(0x479)](),_0x8c037d=project_file_add_url(_0x1c3f5b),_0x2e609e=_via_image_id_list[_0x27ccb4(0x3ba)](_0x8c037d);show_message(_0x27ccb4(0x438)+_0x1c3f5b+']'),update_img_fn_list(),_via_show_img(_0x2e609e),user_input_default_cancel_handler();}function project_file_add_url_with_input(){var _0x50160b=_0x5d4abf,_0xe97c00={'title':_0x50160b(0x3aa)},_0xc2a14a={'url':{'type':_0x50160b(0x263),'name':_0x50160b(0x282),'placeholder':_0x50160b(0x44a),'disabled':![],'size':0x32}};invoke_with_user_inputs(project_file_add_url_input_done,_0xc2a14a,_0xe97c00);}function project_file_add_url_input_done(_0x57a527){var _0x531148=_0x5d4abf,_0x53b0a8=_0x57a527[_0x531148(0x38a)][_0x531148(0x290)][_0x531148(0x479)](),_0x4cc4e9=project_file_add_url(_0x53b0a8),_0x264f65=_via_image_id_list[_0x531148(0x3ba)](_0x4cc4e9);show_message(_0x531148(0x24e)+_0x53b0a8+']'),update_img_fn_list(),_via_show_img(_0x264f65),user_input_default_cancel_handler();}function project_file_add_url(_0x22cbf1){var _0x26f10a=_0x5d4abf;if(_0x22cbf1!==''){var _0x371b98=-0x1,_0x43477f=_via_get_image_id(_0x22cbf1,_0x371b98);if(!_via_img_metadata[_0x26f10a(0x497)](_0x43477f))return _0x43477f=project_add_new_file(_0x22cbf1),_via_img_src[_0x43477f]=_via_img_metadata[_0x43477f][_0x26f10a(0x22a)],set_file_annotations_to_default_value(_0x43477f),_0x43477f;}}function project_file_add_base64(_0x1cb9fb,_0x3ac799){var _0x39c79f=_0x5d4abf,_0x18cb70=-0x1,_0x445c96=_via_get_image_id(_0x1cb9fb,_0x18cb70);!_via_img_metadata[_0x39c79f(0x497)](_0x445c96)&&(_0x445c96=project_add_new_file(_0x1cb9fb,_0x18cb70),_via_img_src[_0x445c96]=_0x3ac799,set_file_annotations_to_default_value(_0x445c96));}function project_file_load_on_fail(_0x3f9e15){var _0x1cf754=_via_image_id_list[_0x3f9e15];_via_img_src[_0x1cf754]='',_via_image_load_error[_0x3f9e15]=!![],img_fn_list_ith_entry_error(_0x3f9e15,!![]);}function project_file_load_on_success(_0x4e6c43){_via_image_load_error[_0x4e6c43]=![],img_fn_list_ith_entry_error(_0x4e6c43,![]);}function project_settings_toggle(){var _0x2794ad=_0x5d4abf;_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x2794ad(0x1ce)]?show_single_image_view():project_settings_show();}function project_settings_show(){set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME['SETTINGS']);}function project_filepath_add_from_input(_0x359b54,_0x3cd438){var _0x510b0b=_0x5d4abf,_0x9bf70e=document[_0x510b0b(0x2f2)](_0x359b54)['value'][_0x510b0b(0x479)](),_0x418fce=parseInt(_0x3cd438[_0x510b0b(0x420)]('value'));project_filepath_add(_0x9bf70e),_via_show_img(_0x418fce);}function project_filepath_add(_0x443370){var _0x3c1e63=_0x5d4abf;console[_0x3c1e63(0x43e)](_0x3c1e63(0x40c)+_0x443370);if(_0xce293==='')return;if(_via_settings[_0x3c1e63(0x43d)][_0x3c1e63(0x273)]['hasOwnProperty'](_0x443370))return;else{var _0x2f8f89=0x0,_0xce293;for(_0xce293 in _via_settings['core'][_0x3c1e63(0x273)]){_via_settings[_0x3c1e63(0x43d)]['filepath'][_0xce293]>_0x2f8f89&&(_0x2f8f89=_via_settings[_0x3c1e63(0x43d)]['filepath'][_0xce293]);}_via_settings[_0x3c1e63(0x43d)][_0x3c1e63(0x273)][_0x443370]=_0x2f8f89+0x1;}}function project_filepath_del(_0x238ebe){var _0x157fa2=_0x5d4abf;_via_settings[_0x157fa2(0x43d)][_0x157fa2(0x273)]['hasOwnProperty'](_0x238ebe)&&delete _via_settings[_0x157fa2(0x43d)][_0x157fa2(0x273)][_0x238ebe];}function project_save_attributes(){var _0x40cee=_0x5d4abf,_0x1308b2={'type':'application/json;charset=utf-8'},_0x41c3aa=new Blob([JSON[_0x40cee(0x3d3)](_via_attributes)],_0x1308b2);save_data_to_local_file(_0x41c3aa,_via_settings['project'][_0x40cee(0x395)]+_0x40cee(0x325));}function project_import_attributes_from_file(_0x898155){var _0x889eb6=_0x5d4abf,_0x594f47=_0x898155[_0x889eb6(0x250)][_0x889eb6(0x25a)];for(var _0x385468=0x0;_0x385468<_0x594f47[_0x889eb6(0x442)];++_0x385468){var _0x2dc51f=_0x594f47[_0x385468];load_text_file(_0x2dc51f,project_import_attributes_from_json);}}function project_import_attributes_from_json(_0x1d8371){var _0xaf83e8=_0x5d4abf;try{var _0x4ff907=JSON['parse'](_0x1d8371),_0x58b802,_0x22c00d=0x0,_0x47c1cc=0x0,_0x3b4306=0x0;for(_0x58b802 in _0x4ff907[_0xaf83e8(0x3eb)]){!_via_attributes[_0xaf83e8(0x3eb)][_0xaf83e8(0x497)](_0x58b802)?(_via_attributes['file'][_0x58b802]=JSON[_0xaf83e8(0x1bd)](JSON[_0xaf83e8(0x3d3)](_0x4ff907['file'][_0x58b802])),_0x47c1cc+=0x1):_0x22c00d+=0x1;}for(_0x58b802 in _0x4ff907['region']){!_via_attributes[_0xaf83e8(0x2a8)][_0xaf83e8(0x497)](_0x58b802)?(_via_attributes[_0xaf83e8(0x2a8)][_0x58b802]=JSON[_0xaf83e8(0x1bd)](JSON['stringify'](_0x4ff907['region'][_0x58b802])),_0x3b4306+=0x1):_0x22c00d+=0x1;}if(_0x47c1cc>0x0||_0x3b4306>0x0){var _0x5a4d1b=Object[_0xaf83e8(0x2a3)](_via_attributes[_0xaf83e8(0x3eb)]),_0x5e89e2=Object[_0xaf83e8(0x2a3)](_via_attributes[_0xaf83e8(0x2a8)]);_0x5e89e2[_0xaf83e8(0x442)]?(_via_attribute_being_updated=_0xaf83e8(0x2a8),_via_current_attribute_id=_0x5e89e2[0x0]):_0x5a4d1b[_0xaf83e8(0x442)]&&(_via_attribute_being_updated=_0xaf83e8(0x3eb),_via_current_attribute_id=_0x5a4d1b[0x0]),update_attributes_update_panel(),update_annotation_editor();}show_message(_0xaf83e8(0x313)+_0x47c1cc+'\x20file\x20attributes\x20and\x20'+_0x3b4306+_0xaf83e8(0x262)+'\x20(skipped\x20'+_0x22c00d+')');}catch(_0x32766c){show_message(_0xaf83e8(0x201)+_0x32766c+']');}}function image_grid_init(){var _0x20d454=_0x5d4abf,_0x57982e=document[_0x20d454(0x2f2)]('image_grid_content');_0x57982e[_0x20d454(0x466)](),_0x57982e[_0x20d454(0x391)](_0x20d454(0x49d),image_grid_mousedown_handler,![]),_0x57982e[_0x20d454(0x391)](_0x20d454(0x3ab),image_grid_mouseup_handler,![]),_0x57982e[_0x20d454(0x391)]('mousemove',image_grid_mousemove_handler,![]),_0x57982e[_0x20d454(0x391)](_0x20d454(0x39e),image_grid_dblclick_handler,![]),image_grid_set_content_panel_height_fixed();var _0x2ccddd,_0x4662e1,_0x57982e=document['getElementById']('image_grid_show_image_policy'),_0x349d9e=_0x57982e[_0x20d454(0x2c2)]['length'];for(_0x2ccddd=0x0;_0x2ccddd<_0x349d9e;++_0x2ccddd){if(_0x57982e['options'][_0x2ccddd][_0x20d454(0x290)]===_via_settings['ui'][_0x20d454(0x2b1)]['show_image_policy']){_0x57982e[_0x20d454(0x3a9)]=_0x2ccddd;break;}}}function image_grid_update(){var _0x156583=_0x5d4abf;_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x156583(0x1b9)]&&image_grid_set_content(_via_image_grid_img_index_list);}function image_grid_toggle(){var _0x32f76a=_0x5d4abf,_0x185e2a=document[_0x32f76a(0x2f2)]('toolbar_image_grid_toggle');_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME[_0x32f76a(0x1b9)]?show_single_image_view():show_image_grid_view();}function image_grid_show_all_project_images(){var _0x3788c2=_0x5d4abf,_0x4473cf=[],_0x27f4a5,_0xfcd5b2;_0xfcd5b2=_via_image_id_list['length'];for(_0x27f4a5=0x0;_0x27f4a5<_0xfcd5b2;++_0x27f4a5){_0x4473cf['push'](_0x27f4a5);}image_grid_clear_all_groups();var _0x1acfdf=document[_0x3788c2(0x2f2)]('image_grid_toolbar_group_by_select');_0x1acfdf[_0x3788c2(0x3a9)]=0x0,image_grid_set_content(_0x4473cf);}function image_grid_clear_all_groups(){var _0x2c881c=_0x5d4abf,_0xb2e5d9,_0x1a1b7a;_0x1a1b7a=_via_image_grid_group_var[_0x2c881c(0x442)];for(_0xb2e5d9=0x0;_0xb2e5d9<_0x1a1b7a;++_0xb2e5d9){image_grid_remove_html_group_panel(_via_image_grid_group_var[_0xb2e5d9]),image_grid_group_by_select_set_disabled(_via_image_grid_group_var[_0xb2e5d9]['type'],_via_image_grid_group_var[_0xb2e5d9]['name'],![]);}_via_image_grid_group={},_via_image_grid_group_var=[];}function image_grid_set_content(_0xcfae9b){var _0x24ae0c=_0x5d4abf;if(_0xcfae9b[_0x24ae0c(0x442)]===0x0)return;if(_via_image_grid_load_ongoing)return;_via_image_grid_img_index_list=_0xcfae9b[_0x24ae0c(0x1af)](0x0),document[_0x24ae0c(0x2f2)](_0x24ae0c(0x2e7))[_0x24ae0c(0x45b)]=_via_image_grid_img_index_list[_0x24ae0c(0x442)],_via_image_grid_page_first_index=0x0,_via_image_grid_page_last_index=null,_via_image_grid_stack_prev_page=[],image_grid_clear_content(),image_grid_set_content_panel_height_fixed(),_via_image_grid_load_ongoing=!![];var _0xa193be=_via_image_grid_img_index_list['length'];switch(_via_settings['ui'][_0x24ae0c(0x2b1)]['show_image_policy']){case _0x24ae0c(0x27e):_via_image_grid_page_img_index_list=_via_image_grid_img_index_list[_0x24ae0c(0x1af)](0x0);break;case _0x24ae0c(0x398):_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_via_image_grid_img_index_list[0x0]),_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_via_image_grid_img_index_list[Math[_0x24ae0c(0x2f1)](_0xa193be/0x2)]),_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_via_image_grid_img_index_list[_0xa193be-0x1]);break;case _0x24ae0c(0x415):var _0x5188a8;for(_0x5188a8=0x0;_0x5188a8<_0xa193be;++_0x5188a8){_0x5188a8%0x2!==0x0&&_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_via_image_grid_img_index_list[_0x5188a8]);}break;case _0x24ae0c(0x28f):var _0x5188a8;for(_0x5188a8=0x0;_0x5188a8<_0xa193be;++_0x5188a8){_0x5188a8%0x2===0x0&&_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_via_image_grid_img_index_list[_0x5188a8]);}break;case _0x24ae0c(0x380):case _0x24ae0c(0x2a6):case _0x24ae0c(0x1dd):var _0x362496=parseInt(_via_settings['ui'][_0x24ae0c(0x2b1)][_0x24ae0c(0x20d)][_0x24ae0c(0x38b)](_0x24ae0c(0x3e8)[_0x24ae0c(0x442)])),_0x5188a8;for(_0x5188a8=0x0;_0x5188a8<_0xa193be;_0x5188a8=_0x5188a8+_0x362496){_via_image_grid_page_img_index_list[_0x24ae0c(0x355)](_0x5188a8);}break;}image_grid_content_append_img(_via_image_grid_page_first_index);}function image_grid_clear_content(){var _0x3f569c=_0x5d4abf,_0x47485e=document[_0x3f569c(0x2f2)](_0x3f569c(0x33f)),_0x4fedb3=document[_0x3f569c(0x2f2)](_0x3f569c(0x38f));_0x47485e[_0x3f569c(0x45b)]='',_0x4fedb3[_0x3f569c(0x45b)]='';}function image_grid_set_content_panel_height_fixed(){var _0x185e89=_0x5d4abf,_0x46b8a1=document[_0x185e89(0x2f2)](_0x185e89(0x3b5)),_0x4a083b=document['documentElement'];_0x46b8a1[_0x185e89(0x1bf)]['height']=_0x4a083b['clientHeight']-5.5*ui_top_panel[_0x185e89(0x482)]+'px';}function image_grid_content_append_img(_0x48fd61){var _0x236f6d=_0x5d4abf,_0x309ca4=_via_image_grid_page_img_index_list[_0x48fd61],_0x4580db=image_grid_get_html_img_id(_0x309ca4),_0x1cce69=_via_image_id_list[_0x309ca4],_0x29fdf2=document['createElement'](_0x236f6d(0x471));if(_via_img_fileref[_0x1cce69]instanceof File){var _0x4f2acd=new FileReader();_0x4f2acd[_0x236f6d(0x391)]('error',function(){},![]),_0x4f2acd['addEventListener'](_0x236f6d(0x35b),function(){var _0x4eca1c=_0x236f6d;_0x29fdf2['src']=_0x4f2acd[_0x4eca1c(0x485)];},![]),_0x4f2acd[_0x236f6d(0x312)](_via_img_fileref[_0x1cce69]);}else _0x29fdf2[_0x236f6d(0x49b)]=_via_img_src[_0x1cce69];_0x29fdf2[_0x236f6d(0x33a)]('id',_0x4580db),_0x29fdf2[_0x236f6d(0x33a)](_0x236f6d(0x3f2),_via_settings['ui'][_0x236f6d(0x2b1)][_0x236f6d(0x1f8)]+'px'),_0x29fdf2[_0x236f6d(0x33a)](_0x236f6d(0x1df),'['+(_0x309ca4+0x1)+']\x20'+_via_img_metadata[_0x1cce69]['filename']),_0x29fdf2[_0x236f6d(0x391)](_0x236f6d(0x35b),image_grid_on_img_load,![]),_0x29fdf2[_0x236f6d(0x391)](_0x236f6d(0x481),image_grid_on_img_error,![]),document[_0x236f6d(0x2f2)]('image_grid_content_img')[_0x236f6d(0x20a)](_0x29fdf2);}function image_grid_on_img_load(_0x671bff){var _0x4c26be=_0x671bff['target'],_0x4e2b3b=image_grid_parse_html_img_id(_0x4c26be['id']);project_file_load_on_success(_0x4e2b3b),image_grid_add_img_if_possible(_0x4c26be);}function image_grid_on_img_error(_0xda1f3e){var _0x25aa3b=_0x5d4abf,_0x10619e=_0xda1f3e[_0x25aa3b(0x250)],_0x544b32=image_grid_parse_html_img_id(_0x10619e['id']);project_file_load_on_fail(_0x544b32),image_grid_add_img_if_possible(_0x10619e);}function image_grid_add_img_if_possible(_0x43cc16){var _0x3c7827=_0x5d4abf,_0x5675c2=image_grid_parse_html_img_id(_0x43cc16['id']),_0xca2ce=document['getElementById']('image_grid_content_img'),_0x3a3118=parseInt(_0x43cc16[_0x3c7827(0x408)])+parseInt(_0x43cc16['height']);if(_0xca2ce[_0x3c7827(0x3f3)]<_0x3a3118){var _0xd176f8=document['getElementById'](_0x3c7827(0x33f));_0xd176f8['removeChild'](_0x43cc16);_via_settings['ui'][_0x3c7827(0x2b1)][_0x3c7827(0x322)]&&image_grid_page_show_all_regions();_via_image_grid_load_ongoing=![];var _0x4a2e60=_via_image_grid_page_img_index_list[_0x3c7827(0x3ba)](_0x5675c2);_via_image_grid_page_last_index=_0x4a2e60;var _0xc6c2d3=document[_0x3c7827(0x2f2)](_0x3c7827(0x386)),_0x329ffc=[];_via_image_grid_stack_prev_page['length']&&_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x468)),_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x341)+(_via_image_grid_page_first_index+0x1)+_0x3c7827(0x3b3)+_via_image_grid_page_last_index+_0x3c7827(0x24c)),_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x327)),_0xc6c2d3[_0x3c7827(0x45b)]=_0x329ffc[_0x3c7827(0x323)]('');}else{var _0x22dc50=_via_image_grid_page_img_index_list['indexOf'](_0x5675c2),_0x53a226=_0x22dc50+0x1;if(_0x53a226!==_via_image_grid_page_img_index_list[_0x3c7827(0x442)]){if(_via_image_grid_load_ongoing)image_grid_content_append_img(_0x22dc50+0x1);else{_via_image_grid_page_last_index=_via_image_grid_page_first_index;var _0xc6c2d3=document[_0x3c7827(0x2f2)]('image_grid_info'),_0x329ffc=[];_via_image_grid_stack_prev_page[_0x3c7827(0x442)]&&_0x329ffc['push']('<span\x20class=\x22text_button\x20left\x22\x20onclick=\x22image_grid_page_prev()\x22>Prev</span>'),_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x304)),_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x327)),_0xc6c2d3[_0x3c7827(0x45b)]=_0x329ffc['join']('');}}else{var _0x4a2e60=_via_image_grid_page_img_index_list[_0x3c7827(0x3ba)](_0x5675c2);_via_image_grid_page_last_index=_0x4a2e60;_via_settings['ui'][_0x3c7827(0x2b1)][_0x3c7827(0x322)]&&image_grid_page_show_all_regions();_via_image_grid_load_ongoing=![];var _0xc6c2d3=document[_0x3c7827(0x2f2)](_0x3c7827(0x386)),_0x329ffc=[];_via_image_grid_stack_prev_page[_0x3c7827(0x442)]&&_0x329ffc[_0x3c7827(0x355)](_0x3c7827(0x468)),_0x329ffc['push'](_0x3c7827(0x341)+(_via_image_grid_page_first_index+0x1)+_0x3c7827(0x3b3)+_via_image_grid_page_last_index+_0x3c7827(0x24c)),_0xc6c2d3[_0x3c7827(0x45b)]=_0x329ffc[_0x3c7827(0x323)]('');}}}function image_grid_show_pagination(){var _0xa061bb=_0x5d4abf,_0xc7f89a=document[_0xa061bb(0x2f2)]('image_grid_info'),_0x45c233=[];_0x45c233[_0xa061bb(0x355)](_0xa061bb(0x365)),_0x45c233[_0xa061bb(0x355)]('Showing\x201\x20to\x20100'),_0x45c233[_0xa061bb(0x355)](_0xa061bb(0x3ed));}function image_grid_onchange_show_image_policy(_0x3f94af){var _0x1ad228=_0x5d4abf;_via_settings['ui'][_0x1ad228(0x2b1)][_0x1ad228(0x20d)]=_0x3f94af[_0x1ad228(0x2c2)][_0x3f94af[_0x1ad228(0x3a9)]][_0x1ad228(0x290)],image_grid_set_content(_via_image_grid_img_index_list);}function image_grid_page_show_all_regions(){var _0x1b08e6=_0x5d4abf,_0x1e491d=[];if(_via_settings['ui'][_0x1b08e6(0x2b1)][_0x1b08e6(0x322)]){var _0x150479=document[_0x1b08e6(0x2f2)](_0x1b08e6(0x33f)),_0x59c247=_0x150479['childNodes'][_0x1b08e6(0x442)],_0x582a34;for(_0x582a34=0x0;_0x582a34<_0x59c247;++_0x582a34){var _0x67ac9=image_grid_parse_html_img_id(_0x150479[_0x1b08e6(0x293)][_0x582a34]['id']),_0xb7d289=[];_0xb7d289[_0x1b08e6(0x355)](parseInt(_0x150479['childNodes'][_0x582a34][_0x1b08e6(0x335)])),_0xb7d289[_0x1b08e6(0x355)](parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x3f2)])),_0xb7d289[_0x1b08e6(0x355)](parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x447)])),_0xb7d289[_0x1b08e6(0x355)](parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34]['naturalHeight'])),_0xb7d289['push'](parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x453)])+parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x225)])),_0xb7d289['push'](parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x408)])+parseInt(_0x150479[_0x1b08e6(0x293)][_0x582a34][_0x1b08e6(0x1e6)]));var _0x2a68f5=image_grid_show_region_shape(_0x67ac9,_0xb7d289);_0x1e491d[_0x1b08e6(0x355)](_0x2a68f5);}}}function image_grid_show_region_shape(_0xc6dea,_0x4a7962){return new Promise(function(_0x2a3f0c,_0x3789e2){var _0x46e834=_0x8643,_0x5a925d,_0x2ed1ec=_via_image_id_list[_0xc6dea];for(_0x5a925d=0x0;_0x5a925d<_via_img_metadata[_0x2ed1ec][_0x46e834(0x1e0)][_0x46e834(0x442)];++_0x5a925d){var _0x3eb7eb=_via_img_metadata[_0x2ed1ec][_0x46e834(0x1e0)][_0x5a925d][_0x46e834(0x40a)],_0x2173c3;switch(_0x3eb7eb[_0x46e834(0x395)]){case VIA_REGION_SHAPE[_0x46e834(0x428)]:_0x2173c3=[_0x3eb7eb['x'],_0x3eb7eb['y'],_0x3eb7eb['x']+_0x3eb7eb[_0x46e834(0x335)],_0x3eb7eb['y']+_0x3eb7eb[_0x46e834(0x3f2)]];break;case VIA_REGION_SHAPE[_0x46e834(0x2ef)]:_0x2173c3=[_0x3eb7eb['cx'],_0x3eb7eb['cy'],_0x3eb7eb['cx']+_0x3eb7eb['r'],_0x3eb7eb['cy']+_0x3eb7eb['r']];break;case VIA_REGION_SHAPE[_0x46e834(0x336)]:_0x2173c3=[_0x3eb7eb['cx'],_0x3eb7eb['cy'],_0x3eb7eb['cx']+_0x3eb7eb['rx'],_0x3eb7eb['cy']+_0x3eb7eb['ry']];break;case VIA_REGION_SHAPE['POLYLINE']:case VIA_REGION_SHAPE['POLYGON']:var _0x29d82e;_0x2173c3=[];for(_0x29d82e=0x0;_0x29d82e<_0x3eb7eb[_0x46e834(0x1c4)]['length'];++_0x29d82e){_0x2173c3['push'](_0x3eb7eb[_0x46e834(0x1c4)][_0x29d82e]),_0x2173c3['push'](_0x3eb7eb[_0x46e834(0x1b7)][_0x29d82e]);}break;case VIA_REGION_SHAPE[_0x46e834(0x3b6)]:_0x2173c3=[_0x3eb7eb['cx'],_0x3eb7eb['cy']];break;}var _0x254cc6=_0x4a7962[0x1]/_0x4a7962[0x3],_0x4889ce=_0x4a7962[0x4],_0x1291fc=_0x4a7962[0x5],_0x85aaba=new _via_region(_0x3eb7eb[_0x46e834(0x395)],_0x5a925d,_0x2173c3,_0x254cc6,_0x4889ce,_0x1291fc),_0x197bc7=_0x85aaba[_0x46e834(0x361)]();_0x197bc7[_0x46e834(0x33a)](_0x46e834(0x2dd),_via_settings['ui'][_0x46e834(0x2b1)][_0x46e834(0x363)]),_0x197bc7[_0x46e834(0x33a)](_0x46e834(0x429),_via_settings['ui'][_0x46e834(0x2b1)][_0x46e834(0x22b)]),_0x197bc7[_0x46e834(0x33a)]('stroke-width',_via_settings['ui'][_0x46e834(0x2b1)][_0x46e834(0x1ec)]),document[_0x46e834(0x2f2)]('image_grid_content_rshape')['appendChild'](_0x197bc7);}});}function image_grid_image_size_increase(){var _0x4b3b0d=_0x5d4abf,_0xf93cf7=_via_settings['ui'][_0x4b3b0d(0x2b1)]['img_height']+VIA_IMAGE_GRID_IMG_HEIGHT_CHANGE;_via_settings['ui'][_0x4b3b0d(0x2b1)][_0x4b3b0d(0x1f8)]=_0xf93cf7,_via_image_grid_page_last_index=null,image_grid_update();}function image_grid_image_size_decrease(){var _0x4c716e=_0x5d4abf,_0x3cd637=_via_settings['ui'][_0x4c716e(0x2b1)]['img_height']-VIA_IMAGE_GRID_IMG_HEIGHT_CHANGE;_0x3cd637>0x1&&(_via_settings['ui'][_0x4c716e(0x2b1)][_0x4c716e(0x1f8)]=_0x3cd637,_via_image_grid_page_last_index=null,image_grid_update());}function image_grid_info(_0x41047b){var _0x3584f7=_0x5d4abf;document[_0x3584f7(0x2f2)]('image_grid_info')[_0x3584f7(0x45b)]=_0x41047b,setTimeout(function(){var _0x1c858f=_0x3584f7;document[_0x1c858f(0x2f2)](_0x1c858f(0x386))[_0x1c858f(0x45b)]='';},VIA_THEME_MESSAGE_TIMEOUT_MS);}function image_grid_mousedown_handler(_0x44ffe8){var _0x55c6c5=_0x5d4abf;_0x44ffe8[_0x55c6c5(0x3ea)](),_via_image_grid_mousedown_img_index=image_grid_parse_html_img_id(_0x44ffe8[_0x55c6c5(0x250)]['id']);}function image_grid_mousemove_handler(_0x266781){var _0x36fcfa=_0x5d4abf;_0x266781[_0x36fcfa(0x3ea)]();}function image_grid_mouseup_handler(_0x393b34){var _0x5da72a=_0x5d4abf;_0x393b34['preventDefault'](),_via_image_grid_mouseup_img_index=image_grid_parse_html_img_id(_0x393b34[_0x5da72a(0x250)]['id']);if(_via_image_grid_mouseup_img_index===_via_image_grid_mousedown_img_index)image_grid_toggle_img_select(_via_image_grid_mouseup_img_index);else{var _0x53a33e=_via_image_grid_mousedown_img_index,_0x55ff77=_via_image_grid_mouseup_img_index;if(_via_image_grid_mousedown_img_index>_via_image_grid_mouseup_img_index){var _0x545390=_0x53a33e;_0x53a33e=_0x55ff77,_0x55ff77=_0x545390;}var _0x255cc0;for(_0x255cc0=_0x53a33e;_0x255cc0<=_0x55ff77;++_0x255cc0){_via_image_grid_selected_img_index_list['push'](_0x255cc0);var _0x597548=image_grid_get_html_img_id(_0x255cc0);document[_0x5da72a(0x2f2)](_0x597548)[_0x5da72a(0x32a)]['toggle'](_0x5da72a(0x25f));}}}function image_grid_toggle_img_select(_0x263bdb){var _0xe1f2d3=_0x5d4abf,_0x2d9077=_via_image_grid_selected_img_index_list[_0xe1f2d3(0x3ba)](_0x263bdb);_0x2d9077===-0x1?_via_image_grid_selected_img_index_list[_0xe1f2d3(0x355)](_0x263bdb):_via_image_grid_selected_img_index_list[_0xe1f2d3(0x292)](_0x2d9077,0x1);var _0x5581d5=image_grid_get_html_img_id(_0x263bdb);document[_0xe1f2d3(0x2f2)](_0x5581d5)[_0xe1f2d3(0x32a)]['toggle']('sel');}function image_grid_page_style_set_selection(_0x4e3dcb){var _0x4cf699=_0x5d4abf,_0x3f296f=document[_0x4cf699(0x2f2)](_0x4cf699(0x33f))[_0x4cf699(0x293)],_0x22b883=_0x3f296f[_0x4cf699(0x442)],_0x379bd9;if(_0x4e3dcb)for(_0x379bd9=0x0;_0x379bd9<_0x22b883;++_0x379bd9){_0x3f296f[_0x379bd9][_0x4cf699(0x32a)][_0x4cf699(0x21b)](_0x4cf699(0x25f));}else for(_0x379bd9=0x0;_0x379bd9<_0x22b883;++_0x379bd9){_0x3f296f[_0x379bd9][_0x4cf699(0x32a)][_0x4cf699(0x424)]('sel');}}function image_grid_parse_html_img_id(_0x1e862){var _0x20960a=_0x5d4abf,_0x22a732=_0x1e862[_0x20960a(0x38b)](0x2);return parseInt(_0x22a732);}function image_grid_get_html_img_id(_0x182968){return'im'+_0x182968;}function image_grid_dblclick_handler(_0x5162d2){var _0x1b643f=_0x5d4abf;_via_image_index=image_grid_parse_html_img_id(_0x5162d2[_0x1b643f(0x250)]['id']),show_single_image_view();}function image_grid_toolbar_update_group_by_select(){var _0x4f6608=_0x5d4abf,_0x2a3202=document[_0x4f6608(0x2f2)](_0x4f6608(0x375));_0x2a3202['innerHTML']='';var _0x40878f=document[_0x4f6608(0x237)](_0x4f6608(0x45c));_0x40878f['setAttribute']('value',''),_0x40878f['setAttribute'](_0x4f6608(0x3e7),_0x4f6608(0x3e7)),_0x40878f['innerHTML']=_0x4f6608(0x2f4),_0x2a3202[_0x4f6608(0x20a)](_0x40878f);var _0x595cfd;for(_0x595cfd in _via_attributes[_0x4f6608(0x3eb)]){var _0x40878f=document[_0x4f6608(0x237)](_0x4f6608(0x45c));_0x40878f['setAttribute']('value',image_grid_toolbar_group_by_select_get_html_id(_0x4f6608(0x3eb),_0x595cfd)),_0x40878f['innerHTML']='[file]\x20'+_0x595cfd,_0x2a3202[_0x4f6608(0x20a)](_0x40878f);}var _0x289c5f;for(_0x289c5f in _via_attributes[_0x4f6608(0x2a8)]){var _0x40878f=document['createElement']('option');_0x40878f[_0x4f6608(0x33a)]('value',image_grid_toolbar_group_by_select_get_html_id('region',_0x289c5f)),_0x40878f[_0x4f6608(0x45b)]=_0x4f6608(0x42b)+_0x289c5f,_0x2a3202['appendChild'](_0x40878f);}}function image_grid_toolbar_group_by_select_get_html_id(_0x351363,_0x171de2){var _0x15721d=_0x5d4abf;if(_0x351363==='file')return'f_'+_0x171de2;if(_0x351363===_0x15721d(0x2a8))return'r_'+_0x171de2;}function image_grid_toolbar_group_by_select_parse_html_id(_0x2d579b){var _0x2aa203=_0x5d4abf;if(_0x2d579b[_0x2aa203(0x3e9)]('f_'))return{'attr_type':_0x2aa203(0x3eb),'attr_name':_0x2d579b[_0x2aa203(0x38b)](0x2)};if(_0x2d579b[_0x2aa203(0x3e9)]('r_'))return{'attr_type':_0x2aa203(0x2a8),'attr_name':_0x2d579b[_0x2aa203(0x38b)](0x2)};}function image_grid_toolbar_onchange_group_by_select(_0x3ae3e8){var _0x4133b1=_0x5d4abf;if(_0x3ae3e8[_0x4133b1(0x2c2)][_0x3ae3e8[_0x4133b1(0x3a9)]]['value']===''){image_grid_show_all_project_images();return;}var _0x19ad72=image_grid_toolbar_group_by_select_parse_html_id(_0x3ae3e8[_0x4133b1(0x2c2)][_0x3ae3e8[_0x4133b1(0x3a9)]][_0x4133b1(0x290)]),_0x3a4ec9=_0x19ad72[_0x4133b1(0x1c6)],_0x1b20cb=_0x19ad72[_0x4133b1(0x35d)];image_grid_group_by(_0x3a4ec9,_0x1b20cb),image_grid_group_by_select_set_disabled(_0x3a4ec9,_0x1b20cb,!![]);}function image_grid_remove_html_group_panel(_0x2ea88c){var _0xad0b41=_0x5d4abf,_0xdca942=document[_0xad0b41(0x2f2)](_0xad0b41(0x214)+_0x2ea88c[_0xad0b41(0x46b)]);document[_0xad0b41(0x2f2)]('image_grid_group_panel')['removeChild'](_0xdca942);}function image_grid_add_html_group_panel(_0x320749){var _0x5a2368=_0x5d4abf,_0x422b0f=document[_0x5a2368(0x237)](_0x5a2368(0x1b5));_0x422b0f[_0x5a2368(0x32a)]['add'](_0x5a2368(0x247)),_0x422b0f[_0x5a2368(0x33a)]('id',_0x5a2368(0x214)+_0x320749[_0x5a2368(0x46b)]);var _0x54866e=document[_0x5a2368(0x237)]('span');_0x54866e[_0x5a2368(0x32a)][_0x5a2368(0x21b)]('text_button'),_0x54866e[_0x5a2368(0x33a)](_0x5a2368(0x49e),_0x5a2368(0x2ac)),_0x54866e['innerHTML']='&times;',_0x422b0f[_0x5a2368(0x20a)](_0x54866e);var _0x16032b=document[_0x5a2368(0x237)](_0x5a2368(0x47c));_0x16032b[_0x5a2368(0x45b)]='<',_0x16032b[_0x5a2368(0x33a)](_0x5a2368(0x290),_0x320749[_0x5a2368(0x46b)]),_0x16032b[_0x5a2368(0x33a)](_0x5a2368(0x49e),_0x5a2368(0x210)),_0x422b0f[_0x5a2368(0x20a)](_0x16032b);var _0x8f69be=document[_0x5a2368(0x237)](_0x5a2368(0x44c));_0x8f69be['setAttribute']('id',image_grid_group_select_get_html_id(_0x320749[_0x5a2368(0x46b)])),_0x8f69be[_0x5a2368(0x33a)]('onchange',_0x5a2368(0x3c2));var _0x1e02c8,_0x109da4,_0xbf59ce=_0x320749[_0x5a2368(0x372)][_0x5a2368(0x442)],_0x4b01b5=_0x320749['values'][_0x320749[_0x5a2368(0x42e)]];for(_0x1e02c8=0x0;_0x1e02c8<_0xbf59ce;++_0x1e02c8){_0x109da4=_0x320749[_0x5a2368(0x372)][_0x1e02c8];var _0x5b2155=document[_0x5a2368(0x237)](_0x5a2368(0x45c));_0x5b2155[_0x5a2368(0x33a)]('value',_0x109da4),_0x5b2155[_0x5a2368(0x45b)]='('+(_0x1e02c8+0x1)+'/'+_0xbf59ce+')\x20'+_0x320749[_0x5a2368(0x395)]+_0x5a2368(0x3be)+_0x109da4,_0x109da4===_0x4b01b5&&_0x5b2155['setAttribute'](_0x5a2368(0x3e7),_0x5a2368(0x3e7)),_0x8f69be['appendChild'](_0x5b2155);}_0x422b0f[_0x5a2368(0x20a)](_0x8f69be);var _0x59f4d8=document['createElement'](_0x5a2368(0x47c));_0x59f4d8[_0x5a2368(0x45b)]='>',_0x59f4d8[_0x5a2368(0x33a)](_0x5a2368(0x290),_0x320749[_0x5a2368(0x46b)]),_0x59f4d8[_0x5a2368(0x33a)](_0x5a2368(0x49e),_0x5a2368(0x1f3)),_0x422b0f['appendChild'](_0x59f4d8),document['getElementById']('image_grid_group_panel')[_0x5a2368(0x20a)](_0x422b0f);}function image_grid_group_panel_set_selected_value(_0x3ae3d7){var _0x586f31=_0x5d4abf,_0x27da20=document[_0x586f31(0x2f2)](image_grid_group_select_get_html_id(_0x3ae3d7));_0x27da20['selectedIndex']=_via_image_grid_group_var[_0x3ae3d7][_0x586f31(0x42e)];}function image_grid_group_panel_set_options(_0x8ba7de){var _0x3e8756=_0x5d4abf,_0x15942f=document[_0x3e8756(0x2f2)](image_grid_group_select_get_html_id(_0x8ba7de));_0x15942f['innerHTML']='';var _0x21d0bc,_0x5a4cee,_0x4fff7f=_via_image_grid_group_var[_0x8ba7de][_0x3e8756(0x372)][_0x3e8756(0x442)],_0x147e7e=_via_image_grid_group_var[_0x8ba7de][_0x3e8756(0x395)],_0x45e645=_via_image_grid_group_var[_0x8ba7de][_0x3e8756(0x372)][_via_image_grid_group_var[_0x8ba7de][_0x3e8756(0x42e)]];for(_0x21d0bc=0x0;_0x21d0bc<_0x4fff7f;++_0x21d0bc){_0x5a4cee=_via_image_grid_group_var[_0x8ba7de][_0x3e8756(0x372)][_0x21d0bc];var _0x4fb3fa=document[_0x3e8756(0x237)](_0x3e8756(0x45c));_0x4fb3fa[_0x3e8756(0x33a)](_0x3e8756(0x290),_0x5a4cee),_0x4fb3fa[_0x3e8756(0x45b)]='('+(_0x21d0bc+0x1)+'/'+_0x4fff7f+')\x20'+_0x147e7e+_0x3e8756(0x3be)+_0x5a4cee,_0x5a4cee===_0x45e645&&_0x4fb3fa[_0x3e8756(0x33a)]('selected',_0x3e8756(0x3e7)),_0x15942f['appendChild'](_0x4fb3fa);}}function image_grid_group_select_get_html_id(_0x5a9af5){return'gi_'+_0x5a9af5;}function image_grid_group_select_parse_html_id(_0x35ee5f){var _0x4260be=_0x5d4abf;return parseInt(_0x35ee5f[_0x4260be(0x38b)](0x3));}function image_grid_group_by_select_set_disabled(_0x5ae55a,_0x13d76f,_0x46624c){var _0x4d4212=_0x5d4abf,_0x170af4=document['getElementById'](_0x4d4212(0x375)),_0x40e100=image_grid_toolbar_group_by_select_get_html_id(_0x5ae55a,_0x13d76f),_0x5e27c4=_0x170af4[_0x4d4212(0x2c2)][_0x4d4212(0x442)],_0x41d88f,_0x42cd2e;for(_0x42cd2e=0x0;_0x42cd2e<_0x5e27c4;++_0x42cd2e){if(_0x40e100===_0x170af4[_0x4d4212(0x2c2)][_0x42cd2e][_0x4d4212(0x290)]){_0x46624c?_0x170af4[_0x4d4212(0x2c2)][_0x42cd2e][_0x4d4212(0x33a)](_0x4d4212(0x42a),'disabled'):_0x170af4[_0x4d4212(0x2c2)][_0x42cd2e][_0x4d4212(0x455)]('disabled');break;}}}function image_grid_remove_group_by(_0x2fd8e5){var _0x347c22=_0x5d4abf,_0x192f72=_0x347c22(0x214),_0x975382=parseInt(_0x2fd8e5['parentNode']['id']['substr'](_0x192f72[_0x347c22(0x442)]));if(_0x975382===0x0)image_grid_show_all_project_images();else{image_grid_group_by_merge(_via_image_grid_group,0x0,_0x975382);var _0x44438a=_via_image_grid_group_var[_0x347c22(0x442)],_0x2fd8e5=document['getElementById']('image_grid_group_panel'),_0x262c5d,_0x32fad4;for(_0x32fad4=_0x975382;_0x32fad4<_0x44438a;++_0x32fad4){image_grid_remove_html_group_panel(_via_image_grid_group_var[_0x32fad4]),image_grid_group_by_select_set_disabled(_via_image_grid_group_var[_0x32fad4][_0x347c22(0x3e3)],_via_image_grid_group_var[_0x32fad4][_0x347c22(0x395)],![]);}_via_image_grid_group_var[_0x347c22(0x292)](_0x975382),image_grid_set_content_to_current_group();}}function image_grid_group_by(_0x58f0c2,_0xd7e160){var _0x4b519c=_0x5d4abf;if(Object[_0x4b519c(0x2a3)](_via_image_grid_group)[_0x4b519c(0x442)]===0x0){var _0x4c40da=[],_0x560907;for(_0x560907=0x0;_0x560907<_via_img_count;++_0x560907){_0x4c40da[_0x4b519c(0x355)](_0x560907);}_via_image_grid_group=image_grid_split_array_to_group(_0x4c40da,_0x58f0c2,_0xd7e160);var _0xa89ca9=Object[_0x4b519c(0x2a3)](_via_image_grid_group);_via_image_grid_group_var=[],_via_image_grid_group_var[_0x4b519c(0x355)]({'type':_0x58f0c2,'name':_0xd7e160,'current_value_index':0x2,'values':_0xa89ca9,'group_index':0x0}),image_grid_add_html_group_panel(_via_image_grid_group_var[0x0]);}else{image_grid_group_split_all_arrays(_via_image_grid_group,_0x58f0c2,_0xd7e160);var _0x560907,_0xde413c,_0x357085,_0x255458=_via_image_grid_group;_0xde413c=_via_image_grid_group_var[_0x4b519c(0x442)];for(_0x560907=0x0;_0x560907<_0xde413c;++_0x560907){_0x357085=_via_image_grid_group_var[_0x560907][_0x4b519c(0x372)][_via_image_grid_group_var[_0x560907]['current_value_index']],_0x255458=_0x255458[_0x357085];}var _0xa89ca9=Object[_0x4b519c(0x2a3)](_0x255458),_0x39a1b9=_via_image_grid_group_var[_0x4b519c(0x442)];_via_image_grid_group_var[_0x4b519c(0x355)]({'type':_0x58f0c2,'name':_0xd7e160,'current_value_index':0x0,'values':_0xa89ca9,'group_index':_0x39a1b9}),image_grid_add_html_group_panel(_via_image_grid_group_var[_0x39a1b9]);}image_grid_set_content_to_current_group();}function image_grid_group_by_merge(_0x32569b,_0x8003a8,_0x17b79e){var _0x2f14c0,_0x12fcd5=[];if(_0x8003a8===_0x17b79e)return image_grid_group_by_collapse(_0x32569b);else for(_0x2f14c0 in _0x32569b){_0x32569b[_0x2f14c0]=image_grid_group_by_merge(_0x32569b[_0x2f14c0],_0x8003a8+0x1,_0x17b79e);}}function image_grid_group_by_collapse(_0x412e49){var _0x279892=_0x5d4abf,_0x21a05d,_0x321645,_0x1eb4b1=[];for(_0x21a05d in _0x412e49){Array[_0x279892(0x24b)](_0x412e49[_0x21a05d])?_0x1eb4b1=_0x1eb4b1[_0x279892(0x31c)](_0x412e49[_0x21a05d]):_0x1eb4b1=_0x1eb4b1[_0x279892(0x31c)](image_grid_group_by_collapse(_0x412e49[_0x21a05d]));}return _0x1eb4b1;}function image_grid_group_split_all_arrays(_0x3472d2,_0x205a56,_0x9f8d86){var _0x25f5e7=_0x5d4abf;if(Array[_0x25f5e7(0x24b)](_0x3472d2))return image_grid_split_array_to_group(_0x3472d2,_0x205a56,_0x9f8d86);else{var _0x3ee325;for(_0x3ee325 in _0x3472d2){Array[_0x25f5e7(0x24b)](_0x3472d2[_0x3ee325])?_0x3472d2[_0x3ee325]=image_grid_split_array_to_group(_0x3472d2[_0x3ee325],_0x205a56,_0x9f8d86):image_grid_group_split_all_arrays(_0x3472d2[_0x3ee325],_0x205a56,_0x9f8d86);}}}function image_grid_split_array_to_group(_0x2ecae5,_0x5876a4,_0xfabf0a){var _0x3e057d=_0x5d4abf,_0x147b51={},_0x3fb966,_0x4859c4,_0x21fed9,_0x5dccba=_0x2ecae5[_0x3e057d(0x442)],_0x58e632;switch(_0x5876a4){case _0x3e057d(0x3eb):for(_0x21fed9=0x0;_0x21fed9<_0x5dccba;++_0x21fed9){_0x3fb966=_0x2ecae5[_0x21fed9],_0x4859c4=_via_image_id_list[_0x3fb966],_via_img_metadata[_0x4859c4][_0x3e057d(0x2a9)][_0x3e057d(0x497)](_0xfabf0a)&&(_0x58e632=_via_img_metadata[_0x4859c4][_0x3e057d(0x2a9)][_0xfabf0a],!_0x147b51[_0x3e057d(0x497)](_0x58e632)&&(_0x147b51[_0x58e632]=[]),_0x147b51[_0x58e632][_0x3e057d(0x355)](_0x3fb966));}break;case _0x3e057d(0x2a8):var _0x109e8a,_0x16c8fd;for(_0x21fed9=0x0;_0x21fed9<_0x5dccba;++_0x21fed9){_0x3fb966=_0x2ecae5[_0x21fed9],_0x4859c4=_via_image_id_list[_0x3fb966],_0x16c8fd=_via_img_metadata[_0x4859c4][_0x3e057d(0x1e0)][_0x3e057d(0x442)];for(_0x109e8a=0x0;_0x109e8a<_0x16c8fd;++_0x109e8a){if(_via_img_metadata[_0x4859c4][_0x3e057d(0x1e0)][_0x109e8a][_0x3e057d(0x270)][_0x3e057d(0x497)](_0xfabf0a)){_0x58e632=_via_img_metadata[_0x4859c4]['regions'][_0x109e8a][_0x3e057d(0x270)][_0xfabf0a];!_0x147b51[_0x3e057d(0x497)](_0x58e632)&&(_0x147b51[_0x58e632]=[]);if(_0x147b51[_0x58e632][_0x3e057d(0x2b5)](_0x3fb966))continue;else _0x147b51[_0x58e632]['push'](_0x3fb966);}}}break;}return _0x147b51;}function image_grid_group_next(_0xf16db2){var _0x5435c1=_0x5d4abf,_0x502bba=parseInt(_0xf16db2['value']),_0x2121a7=_via_image_grid_group_var[_0x502bba][_0x5435c1(0x372)],_0x2b76f8=_0x2121a7[_0x5435c1(0x442)],_0x2a1f5e=_via_image_grid_group_var[_0x502bba][_0x5435c1(0x42e)],_0x36ad14=_0x2a1f5e+0x1;if(_0x36ad14>=_0x2b76f8){if(_0x502bba===0x0)_0x36ad14=_0x36ad14-_0x2b76f8,image_grid_jump_to_group(_0x502bba,_0x36ad14);else{var _0xf022c9=_0x502bba-0x1,_0x3175c3=_via_image_grid_group_var[_0xf022c9][_0x5435c1(0x42e)],_0x4e5f9a=_0x3175c3+0x1;while(_0xf022c9!==0x0){if(_0x4e5f9a>=_via_image_grid_group_var[_0xf022c9]['values']['length'])_0xf022c9=_0x502bba-0x1,_0x3175c3=_via_image_grid_group_var[_0xf022c9][_0x5435c1(0x42e)],_0x4e5f9a=_0x3175c3+0x1;else break;}_0x4e5f9a>=_via_image_grid_group_var[_0xf022c9][_0x5435c1(0x372)][_0x5435c1(0x442)]&&(_0x4e5f9a=0x0),image_grid_jump_to_group(_0xf022c9,_0x4e5f9a);}}else image_grid_jump_to_group(_0x502bba,_0x36ad14);image_grid_set_content_to_current_group();}function image_grid_group_prev(_0x33b876){var _0x11a0cf=_0x5d4abf,_0x4a05e5=parseInt(_0x33b876[_0x11a0cf(0x290)]),_0x5f0c9b=_via_image_grid_group_var[_0x4a05e5][_0x11a0cf(0x372)],_0x1e5338=_0x5f0c9b[_0x11a0cf(0x442)],_0x2a057b=_via_image_grid_group_var[_0x4a05e5][_0x11a0cf(0x42e)],_0x3c2bee=_0x2a057b-0x1;if(_0x3c2bee<0x0){if(_0x4a05e5===0x0)_0x3c2bee=_0x1e5338+_0x3c2bee,image_grid_jump_to_group(_0x4a05e5,_0x3c2bee);else{var _0x43ae26=_0x4a05e5-0x1,_0x26c444=_via_image_grid_group_var[_0x43ae26][_0x11a0cf(0x42e)],_0x28c229=_0x26c444-0x1;while(_0x43ae26!==0x0){if(_0x28c229<0x0)_0x43ae26=_0x4a05e5-0x1,_0x26c444=_via_image_grid_group_var[_0x43ae26]['current_value_index'],_0x28c229=_0x26c444-0x1;else break;}_0x28c229<0x0&&(_0x28c229=0x0),image_grid_jump_to_group(_0x43ae26,_0x28c229);}}else image_grid_jump_to_group(_0x4a05e5,_0x3c2bee);image_grid_set_content_to_current_group();}function image_grid_group_value_onchange(_0x3345d8){var _0x40960a=_0x5d4abf,_0x4d54f9=image_grid_group_select_parse_html_id(_0x3345d8['id']);image_grid_jump_to_group(_0x4d54f9,_0x3345d8[_0x40960a(0x3a9)]),image_grid_set_content_to_current_group();}function image_grid_jump_to_group(_0x35cecc,_0x2ec326){var _0x5a8a2a=_0x5d4abf,_0x3dc409=_via_image_grid_group_var[_0x35cecc][_0x5a8a2a(0x372)][_0x5a8a2a(0x442)];if(_0x2ec326>=_0x3dc409||_0x2ec326<0x0)return;_via_image_grid_group_var[_0x35cecc][_0x5a8a2a(0x42e)]=_0x2ec326,image_grid_group_panel_set_selected_value(_0x35cecc);var _0xaa505c,_0x4c73cd;if(_0x35cecc+0x1<_via_image_grid_group_var['length']){var _0x1cd58c=_via_image_grid_group;for(_0xaa505c=0x0;_0xaa505c<=_0x35cecc;++_0xaa505c){_0x4c73cd=_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x372)][_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x42e)]],_0x1cd58c=_0x1cd58c[_0x4c73cd];}for(_0xaa505c=_0x35cecc+0x1;_0xaa505c<_via_image_grid_group_var[_0x5a8a2a(0x442)];++_0xaa505c){_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x372)]=Object['keys'](_0x1cd58c);if(_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x372)]['length']===0x0){_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x42e)]=-0x1,_via_image_grid_group_var[_0x5a8a2a(0x292)](_0xaa505c),image_grid_group_panel_set_options(_0xaa505c);break;}else _via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x42e)]=0x0,_0x4c73cd=_via_image_grid_group_var[_0xaa505c][_0x5a8a2a(0x372)][0x0],_0x1cd58c=_0x1cd58c[_0x4c73cd],image_grid_group_panel_set_options(_0xaa505c);}}}function image_grid_set_content_to_current_group(){var _0x4a1cc4=_0x5d4abf,_0x160da0=[],_0x2b6f50=_via_image_grid_group,_0x4ac9c7,_0x5a8d8d,_0x2c36df,_0x295f29;_0x5a8d8d=_via_image_grid_group_var['length'];for(_0x4ac9c7=0x0;_0x4ac9c7<_0x5a8d8d;++_0x4ac9c7){_0x2c36df=_via_image_grid_group_var[_0x4ac9c7][_0x4a1cc4(0x372)][_via_image_grid_group_var[_0x4ac9c7][_0x4a1cc4(0x42e)]],_0x2b6f50=_0x2b6f50[_0x2c36df];}Array[_0x4a1cc4(0x24b)](_0x2b6f50)?image_grid_set_content(_0x2b6f50):console[_0x4a1cc4(0x43e)](_0x4a1cc4(0x228)+typeof _0x2b6f50);}function image_grid_page_next(){var _0x26b7e3=_0x5d4abf;_via_image_grid_stack_prev_page[_0x26b7e3(0x355)](_via_image_grid_page_first_index),_via_image_grid_page_first_index=_via_image_grid_page_last_index,image_grid_clear_content(),_via_image_grid_load_ongoing=!![],image_grid_page_nav_show_cancel(),image_grid_content_append_img(_via_image_grid_page_first_index);}function image_grid_page_prev(){var _0x38f733=_0x5d4abf;_via_image_grid_page_first_index=_via_image_grid_stack_prev_page[_0x38f733(0x211)](),_via_image_grid_page_last_index=-0x1,image_grid_clear_content(),_via_image_grid_load_ongoing=!![],image_grid_page_nav_show_cancel(),image_grid_content_append_img(_via_image_grid_page_first_index);}function image_grid_page_nav_show_cancel(){var _0x3b604e=_0x5d4abf,_0x5d803c=document['getElementById']('image_grid_info'),_0x519e03=[];_0x519e03['push']('Loading\x20images\x20...\x20'),_0x519e03['push'](_0x3b604e(0x2cc)),_0x519e03['push'](_0x3b604e(0x258)),_0x5d803c[_0x3b604e(0x45b)]=_0x519e03[_0x3b604e(0x323)]('');}function image_grid_cancel_load_ongoing(){_via_image_grid_load_ongoing=![];}function _via_region(_0x3dd3d4,_0x531ca9,_0x7d013,_0x3b4a3f,_0x37389e,_0x291042){var _0x2033a9=_0x5d4abf;this[_0x2033a9(0x402)]=_0x3dd3d4,this['id']=_0x531ca9,this[_0x2033a9(0x205)]=_0x3b4a3f,this['offset_x']=_0x37389e,this['offset_y']=_0x291042,this[_0x2033a9(0x2e1)]=![],this['attributes']={};var _0x4378b9=_0x7d013[_0x2033a9(0x442)],_0x2804c3;this[_0x2033a9(0x3b8)]=new Array(_0x4378b9),this[_0x2033a9(0x2e5)]=new Array(_0x4378b9);if(_0x4378b9!==0x0)for(_0x2804c3=0x0;_0x2804c3<_0x4378b9;_0x2804c3++){this[_0x2033a9(0x2e5)][_0x2804c3]=_0x7d013[_0x2804c3];var _0x55c06e=this[_0x2033a9(0x202)];_0x2804c3%0x2!==0x0&&(_0x55c06e=this[_0x2033a9(0x3a7)]),this[_0x2033a9(0x3b8)][_0x2804c3]=Math[_0x2033a9(0x2b4)](this[_0x2033a9(0x2e5)][_0x2804c3]*this[_0x2033a9(0x205)])+_0x55c06e;}switch(this[_0x2033a9(0x402)]){case _0x2033a9(0x256):_via_region_rect['call'](this),this[_0x2033a9(0x3d1)]=['x','y','width',_0x2033a9(0x3f2)];break;case _0x2033a9(0x25e):_via_region_circle[_0x2033a9(0x31e)](this),this[_0x2033a9(0x3d1)]=['cx','cy','r'];break;case _0x2033a9(0x374):_via_region_ellipse['call'](this),this[_0x2033a9(0x3d1)]=['cx','cy','rx','ry'];break;case _0x2033a9(0x212):_via_region_line[_0x2033a9(0x31e)](this),this['svg_attributes']=['x1','y1','x2','y2'];break;case _0x2033a9(0x318):_via_region_polyline[_0x2033a9(0x31e)](this),this['svg_attributes']=['points'];break;case _0x2033a9(0x25c):_via_region_polygon[_0x2033a9(0x31e)](this),this['svg_attributes']=[_0x2033a9(0x279)];break;case _0x2033a9(0x43c):_via_region_point[_0x2033a9(0x31e)](this),this['shape']=_0x2033a9(0x25e),this['svg_attributes']=['cx','cy','r'];break;}this[_0x2033a9(0x489)]();}_via_region[_0x5d4abf(0x1f5)][_0x5d4abf(0x217)]=function(){var _0x31cf00=_0x5d4abf,_0x2db9a9='http://www.w3.org/2000/svg';this['svg_element']=document[_0x31cf00(0x24f)](_0x2db9a9,this[_0x31cf00(0x402)]),this[_0x31cf00(0x462)]='<'+this['shape'],this['svg_element'][_0x31cf00(0x206)](null,'id',this['id']);var _0x58ea54=this[_0x31cf00(0x3d1)][_0x31cf00(0x442)];for(var _0x332914=0x0;_0x332914<_0x58ea54;_0x332914++){this['svg_element'][_0x31cf00(0x206)](null,this[_0x31cf00(0x3d1)][_0x332914],this[this[_0x31cf00(0x3d1)][_0x332914]]),this[_0x31cf00(0x462)]+='\x20'+this[_0x31cf00(0x3d1)][_0x332914]+'=\x22'+this[this[_0x31cf00(0x3d1)][_0x332914]]+'\x22';}this[_0x31cf00(0x462)]+='/>';},_via_region[_0x5d4abf(0x1f5)][_0x5d4abf(0x361)]=function(){var _0x1cc5da=_0x5d4abf;return this[_0x1cc5da(0x2e1)]&&(this['prepare_svg_element'](),this['recompute_svg']=![]),this[_0x1cc5da(0x38e)];},_via_region[_0x5d4abf(0x1f5)][_0x5d4abf(0x3fc)]=function(){var _0x50ee59=_0x5d4abf;return this[_0x50ee59(0x2e1)]&&(this[_0x50ee59(0x217)](),this[_0x50ee59(0x2e1)]=![]),this[_0x50ee59(0x462)];};function _via_region_rect(){var _0xc124bb=_0x5d4abf;this[_0xc124bb(0x476)]=_via_region_rect['prototype'][_0xc124bb(0x476)],this[_0xc124bb(0x310)]=_via_region_rect[_0xc124bb(0x1f5)][_0xc124bb(0x310)],this[_0xc124bb(0x3a5)]=_via_region_rect[_0xc124bb(0x1f5)][_0xc124bb(0x3a5)],this[_0xc124bb(0x242)]=_via_region_rect[_0xc124bb(0x1f5)][_0xc124bb(0x242)],this[_0xc124bb(0x489)]=_via_region_rect[_0xc124bb(0x1f5)][_0xc124bb(0x489)],this[_0xc124bb(0x329)]=_via_region_rect['prototype']['dist_to_nearest_edge'];}_via_region_rect[_0x5d4abf(0x1f5)][_0x5d4abf(0x489)]=function(){var _0x589dcb=_0x5d4abf;this['dview'][0x0]<this[_0x589dcb(0x3b8)][0x2]?(this['x']=this[_0x589dcb(0x3b8)][0x0],this['x2']=this['dview'][0x2]):(this['x']=this[_0x589dcb(0x3b8)][0x2],this['x2']=this[_0x589dcb(0x3b8)][0x0]),this[_0x589dcb(0x3b8)][0x1]<this[_0x589dcb(0x3b8)][0x3]?(this['y']=this[_0x589dcb(0x3b8)][0x1],this['y2']=this[_0x589dcb(0x3b8)][0x3]):(this['y']=this[_0x589dcb(0x3b8)][0x3],this['y2']=this[_0x589dcb(0x3b8)][0x1]),this[_0x589dcb(0x335)]=this['x2']-this['x'],this[_0x589dcb(0x3f2)]=this['y2']-this['y'],this[_0x589dcb(0x2e1)]=!![];};function _via_region_circle(){var _0x3160fe=_0x5d4abf;this['is_inside']=_via_region_circle['prototype'][_0x3160fe(0x476)],this[_0x3160fe(0x310)]=_via_region_circle[_0x3160fe(0x1f5)]['is_on_edge'],this[_0x3160fe(0x3a5)]=_via_region_circle[_0x3160fe(0x1f5)]['move'],this[_0x3160fe(0x242)]=_via_region_circle[_0x3160fe(0x1f5)]['resize'],this[_0x3160fe(0x489)]=_via_region_circle[_0x3160fe(0x1f5)]['initialize'],this[_0x3160fe(0x329)]=_via_region_circle['prototype'][_0x3160fe(0x329)];}_via_region_circle[_0x5d4abf(0x1f5)][_0x5d4abf(0x489)]=function(){var _0x51f2e3=_0x5d4abf;this['cx']=this[_0x51f2e3(0x3b8)][0x0],this['cy']=this[_0x51f2e3(0x3b8)][0x1];var _0x536e77=this[_0x51f2e3(0x3b8)][0x2]-this['dview'][0x0],_0x4e0cb9=this[_0x51f2e3(0x3b8)][0x3]-this[_0x51f2e3(0x3b8)][0x1];this['r']=Math['round'](Math[_0x51f2e3(0x28b)](_0x536e77*_0x536e77+_0x4e0cb9*_0x4e0cb9)),this['r2']=this['r']*this['r'],this[_0x51f2e3(0x2e1)]=!![];};function _via_region_ellipse(){var _0x5eeeae=_0x5d4abf;this[_0x5eeeae(0x476)]=_via_region_ellipse['prototype']['is_inside'],this[_0x5eeeae(0x310)]=_via_region_ellipse[_0x5eeeae(0x1f5)][_0x5eeeae(0x310)],this[_0x5eeeae(0x3a5)]=_via_region_ellipse[_0x5eeeae(0x1f5)]['move'],this['resize']=_via_region_ellipse['prototype'][_0x5eeeae(0x242)],this['initialize']=_via_region_ellipse['prototype']['initialize'],this[_0x5eeeae(0x329)]=_via_region_ellipse[_0x5eeeae(0x1f5)][_0x5eeeae(0x329)];}_via_region_ellipse['prototype'][_0x5d4abf(0x489)]=function(){var _0x5246ed=_0x5d4abf;this['cx']=this[_0x5246ed(0x3b8)][0x0],this['cy']=this[_0x5246ed(0x3b8)][0x1],this['rx']=Math[_0x5246ed(0x369)](this[_0x5246ed(0x3b8)][0x2]-this[_0x5246ed(0x3b8)][0x0]),this['ry']=Math[_0x5246ed(0x369)](this['dview'][0x3]-this['dview'][0x1]),this[_0x5246ed(0x2f3)]=0x1/(this['rx']*this['rx']),this['inv_ry2']=0x1/(this['ry']*this['ry']),this[_0x5246ed(0x2e1)]=!![];};function _via_region_line(){var _0x4c3f1f=_0x5d4abf;this[_0x4c3f1f(0x476)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x476)],this[_0x4c3f1f(0x310)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x310)],this[_0x4c3f1f(0x3a5)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x3a5)],this[_0x4c3f1f(0x242)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x242)],this[_0x4c3f1f(0x489)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x489)],this[_0x4c3f1f(0x329)]=_via_region_line[_0x4c3f1f(0x1f5)][_0x4c3f1f(0x329)];}_via_region_line[_0x5d4abf(0x1f5)]['initialize']=function(){var _0x161b7d=_0x5d4abf;this['x1']=this[_0x161b7d(0x3b8)][0x0],this['y1']=this[_0x161b7d(0x3b8)][0x1],this['x2']=this[_0x161b7d(0x3b8)][0x2],this['y2']=this[_0x161b7d(0x3b8)][0x3],this['dx']=this['x1']-this['x2'],this['dy']=this['y1']-this['y2'],this[_0x161b7d(0x1dc)]=this['x1']*this['y2']-this['x2']*this['y1'],this[_0x161b7d(0x2e1)]=!![];};function _via_region_polyline(){var _0x1e40e1=_0x5d4abf;this[_0x1e40e1(0x476)]=_via_region_polyline[_0x1e40e1(0x1f5)]['is_inside'],this[_0x1e40e1(0x310)]=_via_region_polyline[_0x1e40e1(0x1f5)][_0x1e40e1(0x310)],this['move']=_via_region_polyline[_0x1e40e1(0x1f5)][_0x1e40e1(0x3a5)],this[_0x1e40e1(0x242)]=_via_region_polyline['prototype'][_0x1e40e1(0x242)],this['initialize']=_via_region_polyline[_0x1e40e1(0x1f5)][_0x1e40e1(0x489)],this['dist_to_nearest_edge']=_via_region_polyline['prototype'][_0x1e40e1(0x329)];}_via_region_polyline[_0x5d4abf(0x1f5)][_0x5d4abf(0x489)]=function(){var _0x149657=_0x5d4abf,_0x3acb5f=this['dview'][_0x149657(0x442)],_0x2bb883=new Array(_0x3acb5f/0x2),_0x163da3=0x0;for(var _0x18b551=0x0;_0x18b551<_0x3acb5f;_0x18b551+=0x2){_0x2bb883[_0x163da3]=this[_0x149657(0x3b8)][_0x18b551]+'\x20'+this[_0x149657(0x3b8)][_0x18b551+0x1],_0x163da3++;}this['points']=_0x2bb883[_0x149657(0x323)](','),this[_0x149657(0x2e1)]=!![];};function _via_region_polygon(){var _0x523843=_0x5d4abf;this[_0x523843(0x476)]=_via_region_polygon[_0x523843(0x1f5)]['is_inside'],this[_0x523843(0x310)]=_via_region_polygon[_0x523843(0x1f5)]['is_on_edge'],this[_0x523843(0x3a5)]=_via_region_polygon[_0x523843(0x1f5)]['move'],this['resize']=_via_region_polygon[_0x523843(0x1f5)]['resize'],this[_0x523843(0x489)]=_via_region_polygon[_0x523843(0x1f5)][_0x523843(0x489)],this['dist_to_nearest_edge']=_via_region_polygon[_0x523843(0x1f5)]['dist_to_nearest_edge'];}_via_region_polygon[_0x5d4abf(0x1f5)][_0x5d4abf(0x489)]=function(){var _0x5cfc9b=_0x5d4abf,_0xc291fb=this[_0x5cfc9b(0x3b8)][_0x5cfc9b(0x442)],_0x5b9522=new Array(_0xc291fb/0x2),_0x15b2c8=0x0;for(var _0x39a6f9=0x0;_0x39a6f9<_0xc291fb;_0x39a6f9+=0x2){_0x5b9522[_0x15b2c8]=this[_0x5cfc9b(0x3b8)][_0x39a6f9]+'\x20'+this[_0x5cfc9b(0x3b8)][_0x39a6f9+0x1],_0x15b2c8++;}this[_0x5cfc9b(0x279)]=_0x5b9522[_0x5cfc9b(0x323)](','),this['recompute_svg']=!![];};function _via_region_point(){var _0x238224=_0x5d4abf;this[_0x238224(0x476)]=_via_region_point['prototype'][_0x238224(0x476)],this[_0x238224(0x310)]=_via_region_point[_0x238224(0x1f5)][_0x238224(0x310)],this[_0x238224(0x3a5)]=_via_region_point['prototype'][_0x238224(0x3a5)],this[_0x238224(0x242)]=_via_region_point[_0x238224(0x1f5)][_0x238224(0x242)],this[_0x238224(0x489)]=_via_region_point[_0x238224(0x1f5)][_0x238224(0x489)],this[_0x238224(0x329)]=_via_region_point[_0x238224(0x1f5)][_0x238224(0x329)];}_via_region_point[_0x5d4abf(0x1f5)][_0x5d4abf(0x489)]=function(){var _0x53e76e=_0x5d4abf;this['cx']=this[_0x53e76e(0x3b8)][0x0],this['cy']=this[_0x53e76e(0x3b8)][0x1],this['r']=0x2,this['r2']=this['r']*this['r'],this[_0x53e76e(0x2e1)]=!![];};function _via_cancel_current_image_loading(){var _0x340770=_0x5d4abf,_0x248d32=document[_0x340770(0x2f2)](_0x340770(0x320));_0x248d32[_0x340770(0x45b)]=_0x340770(0x491),_via_is_loading_current_image=![];}function _via_show_img(_0x5b0c2d){var _0xec0311=_0x5d4abf;if(_via_is_loading_current_image)return;activeTb(_0x5b0c2d);var _0xed02ae=_via_image_id_list[_0x5b0c2d];setCurrChecked(_0xed02ae),curr_img_id=_0xed02ae;var _0x3682f8=_via_img_metadata[_0xed02ae]['regions'],_0x56d421='',_0x55da06='';for(var _0x116470=0x0;_0x116470<_0x3682f8[_0xec0311(0x442)];_0x116470++){reg=_0x3682f8[_0x116470],_0x116470==_0x3682f8[_0xec0311(0x442)]-0x1?_0x55da06+=lbl_txt_map[reg[_0xec0311(0x270)]['label']]:_0x55da06+=lbl_txt_map[reg[_0xec0311(0x270)][_0xec0311(0x498)]]+'/';}$(_0xec0311(0x268))[_0xec0311(0x263)](_0x56d421+'['+_0x55da06+']');if(typeof _via_img_fileref[_0xed02ae]==='undefined'||!_via_img_fileref[_0xed02ae]instanceof File){if(typeof _via_img_src[_0xed02ae]===_0xec0311(0x289)||_via_img_src[_0xed02ae]===''){if(is_url(_via_img_metadata[_0xed02ae][_0xec0311(0x22a)])){_via_img_src[_0xed02ae]=_via_img_metadata[_0xed02ae][_0xec0311(0x22a)],_via_show_img(_0x5b0c2d);return;}else{var _0x948251=_via_file_get_search_path_list();_via_file_resolve(_0x5b0c2d,_0x948251)[_0xec0311(0x436)](function(_0x4fcd8d){_via_show_img(_0x5b0c2d);},function(_0x4b4218){show_page_404(_0x5b0c2d);});return;}}}console[_0xec0311(0x43e)](_0x5b0c2d),_via_buffer_img_index_list[_0xec0311(0x2b5)](_0x5b0c2d)?(_via_current_image_loaded=![],_via_show_img_from_buffer(_0x5b0c2d)[_0xec0311(0x436)](function(_0x271bde){Promise['all'](_via_preload_img_promise_list)['then'](function(_0x24fbf3){_via_preload_img_promise_list=[];var _0x5cf2cf=_via_img_buffer_start_preload(_0x5b0c2d,0x0);_via_preload_img_promise_list['push'](_0x5cf2cf);});},function(_0x81f13c){var _0x16bb99=_0xec0311;console[_0x16bb99(0x43e)](_0x16bb99(0x2ba)+_via_image_filename_list[_0x81f13c]),_via_current_image_loaded=![];})):(_via_is_loading_current_image=!![],img_loading_spinbar(_0x5b0c2d,!![]),_via_img_buffer_add_image(_0x5b0c2d)[_0xec0311(0x436)](function(_0x2bed94){_via_is_loading_current_image=![],img_loading_spinbar(_0x5b0c2d,![]),_via_show_img(_0x5b0c2d);},function(_0xb10d89){var _0x225c43=_0xec0311;_via_is_loading_current_image=![],img_loading_spinbar(_0x5b0c2d,![]),show_page_404(_0x5b0c2d),console[_0x225c43(0x43e)](_0x225c43(0x48a)+_via_image_filename_list[_0xb10d89]);}));}function _via_buffer_hide_current_image(){var _0x417a5e=_0x5d4abf;img_fn_list_ith_entry_selected(_via_image_index,![]),_via_clear_reg_canvas(),_via_current_image&&_via_current_image[_0x417a5e(0x32a)][_0x417a5e(0x424)](_0x417a5e(0x412));}function _via_show_img_from_buffer(_0xb0f819){return new Promise(function(_0x59855b,_0x5d3eb4){var _0x529fdc=_0x8643;_via_buffer_hide_current_image();var _0x40efb2=_via_img_buffer_get_html_id(_0xb0f819);_via_current_image=document[_0x529fdc(0x2f2)](_0x40efb2);if(!_via_current_image){_0x5d3eb4(_0xb0f819);return;}_via_current_image[_0x529fdc(0x32a)][_0x529fdc(0x21b)](_0x529fdc(0x412)),_via_image_index=_0xb0f819,_via_image_id=_via_image_id_list[_via_image_index],_via_current_image_filename=_via_img_metadata[_via_image_id][_0x529fdc(0x22a)],_via_current_image_loaded=!![];var _0x4806e7=_via_buffer_img_index_list['indexOf'](_0xb0f819);_via_buffer_img_shown_timestamp[_0x4806e7]=Date['now'](),_via_click_x0=0x0,_via_click_y0=0x0,_via_click_x1=0x0,_via_click_y1=0x0,_via_is_user_drawing_region=![],_via_is_window_resized=![],_via_is_user_resizing_region=![],_via_is_user_moving_region=![],_via_is_user_drawing_polygon=![],_via_is_region_selected=![],_via_user_sel_region_id=-0x1,_via_current_image_width=_via_current_image['naturalWidth'],_via_current_image_height=_via_current_image[_0x529fdc(0x39a)];(_via_current_image_width===0x0||_via_current_image_height===0x0)&&(_via_current_image_width=0x280,_via_current_image_height=0x1e0);var _0xea395e=document[_0x529fdc(0x2e8)],_0x376745=_0xea395e[_0x529fdc(0x264)]-leftsidebar['clientWidth']-0x14;leftsidebar[_0x529fdc(0x1bf)][_0x529fdc(0x426)]===_0x529fdc(0x36a)&&(_0x376745=_0xea395e['clientWidth']);var _0x582dda=_0xea395e[_0x529fdc(0x3f3)]-0x2*ui_top_panel[_0x529fdc(0x482)];_via_canvas_width=_via_current_image_width,_via_canvas_height=_via_current_image_height;if(_via_canvas_width>_0x376745){var _0x5811b6=_0x376745/_via_current_image[_0x529fdc(0x447)];_via_canvas_width=_0x376745,_via_canvas_height=_via_current_image['naturalHeight']*_0x5811b6;}if(_via_canvas_height>_0x582dda){var _0x2a3231=_0x582dda/_via_canvas_height;_via_canvas_height=_0x582dda,_via_canvas_width=_via_canvas_width*_0x2a3231;}_via_canvas_width=Math['round'](_via_canvas_width),_via_canvas_height=Math['round'](_via_canvas_height),_via_canvas_scale=_via_current_image[_0x529fdc(0x447)]/_via_canvas_width,_via_canvas_scale_without_zoom=_via_canvas_scale,set_all_canvas_size(_via_canvas_width,_via_canvas_height),toggle_all_regions_selection(![]),set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME['IMAGE']),img_fn_list_ith_entry_selected(_0xb0f819,!![]),img_fn_list_scroll_to_file(_0xb0f819),update_annotation_editor(),_via_load_canvas_regions(),_via_redraw_reg_canvas(),_via_reg_canvas[_0x529fdc(0x466)](),_via_is_canvas_zoomed&&set_zoom(_via_canvas_zoom_level_index),_0x59855b(_0xb0f819);});}function _via_img_buffer_add_image(_0x1b41b7){return new Promise(function(_0x58b150,_0x3d7e39){var _0x20bacd=_0x8643;if(_via_buffer_img_index_list[_0x20bacd(0x2b5)](_0x1b41b7)){_0x58b150(_0x1b41b7);return;}var _0x378695=_via_image_id_list[_0x1b41b7],_0x3f91e5=_via_img_metadata[_0x378695][_0x20bacd(0x22a)];if(!_via_img_metadata['hasOwnProperty'](_0x378695)){_0x3d7e39(_0x1b41b7);return;}if(_via_img_fileref[_0x378695]instanceof File){var _0x5e4a22=new FileReader();_0x5e4a22[_0x20bacd(0x312)](_via_img_fileref[_0x378695]),_0x5e4a22['addEventListener'](_0x20bacd(0x481),function(){var _0x3d8b33=_0x20bacd;console['log'](_0x3d8b33(0x208)),project_file_load_on_fail(_0x1b41b7),_0x3d7e39(_0x1b41b7);},![]),_0x5e4a22[_0x20bacd(0x391)](_0x20bacd(0x35b),function(){var _0xd9adb0=_0x20bacd,_0x18f5fb=_via_image_id_list[_0x1b41b7],_0x577c77=document[_0xd9adb0(0x237)](_0xd9adb0(0x471));_0x577c77['setAttribute']('id',_via_img_buffer_get_html_id(_0x1b41b7)),_0x577c77[_0xd9adb0(0x33a)](_0xd9adb0(0x49b),_0x5e4a22[_0xd9adb0(0x485)]),_0x577c77[_0xd9adb0(0x33a)]('alt','Image\x20loaded\x20from\x20base64\x20data\x20of\x20a\x20local\x20file\x20selected\x20by\x20user.'),_0x577c77[_0xd9adb0(0x391)](_0xd9adb0(0x481),function(){project_file_load_on_fail(_0x1b41b7),_0x3d7e39(_0x1b41b7);}),_0x577c77[_0xd9adb0(0x391)](_0xd9adb0(0x35b),function(){var _0x235a70=_0xd9adb0;_via_img_panel['insertBefore'](_0x577c77,_via_reg_canvas),project_file_load_on_success(_0x1b41b7),img_fn_list_ith_entry_add_css_class(_0x1b41b7,'buffered');var _0x33d911=_via_buffer_img_index_list[_0x235a70(0x442)];_via_buffer_img_index_list[_0x235a70(0x355)](_0x1b41b7),_via_buffer_img_shown_timestamp[_0x33d911]=Date['now'](),_0x58b150(_0x1b41b7);});},![]);return;}if(typeof _via_img_src[_0x378695]===_0x20bacd(0x289)||_via_img_src[_0x378695]==='')_0x3d7e39(_0x1b41b7);else{var _0x378695=_via_image_id_list[_0x1b41b7],_0xae7588=document[_0x20bacd(0x237)](_0x20bacd(0x471));_0xae7588[_0x20bacd(0x33a)]('id',_via_img_buffer_get_html_id(_0x1b41b7)),_0xae7588['setAttribute'](_0x20bacd(0x49b),_via_img_src[_0x378695]),_via_img_src[_0x378695]['startsWith'](_0x20bacd(0x32c))?_0xae7588[_0x20bacd(0x33a)](_0x20bacd(0x30e),_0x20bacd(0x42c)):_0xae7588[_0x20bacd(0x33a)](_0x20bacd(0x30e),'Source:\x20'+_via_img_src[_0x378695]),_0xae7588[_0x20bacd(0x391)]('abort',function(){project_file_load_on_fail(_0x1b41b7),_0x3d7e39(_0x1b41b7);}),_0xae7588[_0x20bacd(0x391)]('error',function(){project_file_load_on_fail(_0x1b41b7),_0x3d7e39(_0x1b41b7);}),_0xae7588[_0x20bacd(0x391)](_0x20bacd(0x35b),function(){var _0x3cc751=_0x20bacd;_via_img_panel[_0x3cc751(0x26b)](_0xae7588,_via_reg_canvas),project_file_load_on_success(_0x1b41b7),img_fn_list_ith_entry_add_css_class(_0x1b41b7,_0x3cc751(0x3b0));var _0x5bcb2a=_via_buffer_img_index_list[_0x3cc751(0x442)];_via_buffer_img_index_list['push'](_0x1b41b7),_via_buffer_img_shown_timestamp[_0x5bcb2a]=Date[_0x3cc751(0x338)](),_0x58b150(_0x1b41b7);},![]);}},![]);}function _via_img_buffer_get_html_id(_0x3cc693){var _0x4813c9=_0x5d4abf;return _0x4813c9(0x431)+_0x3cc693;}function _via_img_buffer_parse_html_id(_0x9a10f){var _0x586715=_0x5d4abf;return parseInt(_0x9a10f[_0x586715(0x38b)](0x3));}function _via_img_buffer_start_preload(_0x52274b,_0x3160ca){return new Promise(function(_0x585c5b,_0x1c8c7f){_via_buffer_preload_img_index=_0x52274b,_via_img_buffer_preload_img(_via_buffer_preload_img_index,0x0)['then'](function(_0x41b996){_0x585c5b(_0x41b996);});});}function _via_img_buffer_preload_img(_0x331d99,_0x4c4c2f){return new Promise(function(_0x1f3cd5,_0x43f18d){var _0x40812e=_0x8643,_0x59cf60=_via_img_buffer_get_preload_img_index(_0x331d99,_0x4c4c2f);if(_via_buffer_preload_img_index!==_via_image_index){_0x1f3cd5([]);return;}if(_via_buffer_img_index_list[_0x40812e(0x442)]>_via_settings[_0x40812e(0x43d)][_0x40812e(0x21e)])while(_via_buffer_img_index_list['length']>_via_settings[_0x40812e(0x43d)][_0x40812e(0x21e)]){_via_img_buffer_remove_least_useful_img();if(_via_image_index!==_via_buffer_preload_img_index){_0x1f3cd5([]);return;}}_via_img_buffer_add_image(_0x59cf60)[_0x40812e(0x436)](function(_0x3fcf33){if(_via_image_index!==_via_buffer_preload_img_index){_0x1f3cd5([_0x3fcf33]);return;}var _0x13bf91=_0x4c4c2f+0x1;_0x13bf91!==VIA_IMG_PRELOAD_COUNT?_via_img_buffer_preload_img(_0x331d99,_0x13bf91)['then'](function(_0x113d8c){_0x113d8c['push'](_0x3fcf33),_0x1f3cd5(_0x113d8c);}):_0x1f3cd5([_0x3fcf33]);},function(_0x284fa5){var _0x27d4b4=_0x40812e,_0x156ab0=_0x4c4c2f+0x1;_0x156ab0!==VIA_IMG_PRELOAD_COUNT?_via_img_buffer_preload_img(_0x331d99,_0x156ab0)[_0x27d4b4(0x436)](function(_0xd30a59){_0x1f3cd5(_0xd30a59);}):_0x1f3cd5([]);});});}function _via_img_buffer_get_preload_img_index(_0x1ad100,_0x560145){var _0x56ffda=_0x1ad100+VIA_IMG_PRELOAD_INDICES[_0x560145];return(_0x56ffda<0x0||_0x56ffda>=_via_img_count)&&(_0x56ffda<0x0?_0x56ffda=_via_img_count+_0x56ffda:_0x56ffda=_0x56ffda-_via_img_count),_0x56ffda;}function _via_img_buffer_remove_least_useful_img(){var _0x394287=_via_buffer_img_not_in_preload_list(),_0x2c66bf=_via_buffer_get_oldest_in_list(_0x394287);if(_via_buffer_img_index_list[_0x2c66bf]!==_via_image_index)_via_buffer_remove(_0x2c66bf);else{var _0x38de17=_via_buffer_get_buffer_furthest_from_current_img();_via_buffer_remove(_0x38de17);}}function _via_buffer_remove(_0x563166){var _0x584cf6=_0x5d4abf,_0x3d5ac0=_via_buffer_img_index_list[_0x563166],_0x35c07d=_via_img_buffer_get_html_id(_0x3d5ac0),_0x5c64c8=document[_0x584cf6(0x2f2)](_0x35c07d);if(_0x5c64c8){if(_0x5c64c8[_0x584cf6(0x32a)][_0x584cf6(0x2d1)](_0x584cf6(0x412)))return;else _via_buffer_img_index_list[_0x584cf6(0x292)](_0x563166,0x1),_via_buffer_img_shown_timestamp[_0x584cf6(0x292)](_0x563166,0x1),_via_img_panel[_0x584cf6(0x349)](_0x5c64c8),img_fn_list_ith_entry_remove_css_class(_0x3d5ac0,_0x584cf6(0x3b0));}}function _via_buffer_get_oldest_in_list(_0x2a87af){var _0x3d81b0=_0x5d4abf,_0x23a67e,_0x1f862e=_0x2a87af[_0x3d81b0(0x442)],_0xdbb992=-0x1,_0x29722d=Date['now']();for(_0x23a67e=0x0;_0x23a67e<_0x1f862e;++_0x23a67e){var _0x1abbcd=_0x2a87af[_0x23a67e];_via_buffer_img_shown_timestamp[_0x1abbcd]<_0x29722d&&(_0x29722d=_via_buffer_img_shown_timestamp[_0x23a67e],_0xdbb992=_0x23a67e);}return _0xdbb992;}function _via_buffer_get_buffer_furthest_from_current_img(){var _0x12d65a=_0x5d4abf,_0x443177=_via_image_index,_0x44ff00,_0x24c858,_0x82f87,_0x3d4264,_0x2426c9=_via_buffer_img_index_list[_0x12d65a(0x442)],_0x57716a=0x0;_0x24c858=Math[_0x12d65a(0x369)](_via_buffer_img_index_list[0x0]-_0x443177),_0x82f87=_via_img_count-_0x24c858;var _0x150b15=Math[_0x12d65a(0x40d)](_0x24c858,_0x82f87);for(_0x44ff00=0x1;_0x44ff00<_0x2426c9;++_0x44ff00){_0x24c858=Math[_0x12d65a(0x369)](_via_buffer_img_index_list[_0x44ff00]-_0x443177),_0x82f87=_via_img_count-_0x24c858,_0x3d4264=Math['min'](_0x24c858,_0x82f87),_0x3d4264>_0x150b15&&(_0x150b15=_0x3d4264,_0x57716a=_0x44ff00);}return _0x57716a;}function _via_buffer_img_not_in_preload_list(){var _0x57ab6b=_0x5d4abf,_0x8c1a9c=_via_buffer_get_current_preload_list(),_0x3752a3,_0x1af599=[];for(_0x3752a3=0x0;_0x3752a3<_via_buffer_img_index_list['length'];++_0x3752a3){!_0x8c1a9c[_0x57ab6b(0x2b5)](_via_buffer_img_index_list[_0x3752a3])&&_0x1af599[_0x57ab6b(0x355)](_0x3752a3);}return _0x1af599;}function _via_buffer_get_current_preload_list(){var _0x3ad07e=_0x5d4abf,_0x1b85f0,_0x965e78=[_via_image_index],_0x45fbf9=_via_image_index;for(_0x1b85f0=0x0;_0x1b85f0<VIA_IMG_PRELOAD_COUNT;++_0x1b85f0){var _0x40de8d=_0x45fbf9+VIA_IMG_PRELOAD_INDICES[_0x1b85f0];_0x40de8d<0x0&&(_0x40de8d=_via_img_count+_0x40de8d),_0x40de8d>=_via_img_count&&(_0x40de8d=_0x40de8d-_via_img_count),_0x965e78[_0x3ad07e(0x355)](_0x40de8d);}return _0x965e78;}function settings_panel_toggle(){var _0x5ab96b=_0x5d4abf;_via_display_area_content_name===VIA_DISPLAY_AREA_CONTENT_NAME['SETTINGS']?_via_display_area_content_name_prev!==''?set_display_area_content(_via_display_area_content_name_prev):show_single_image_view():(settings_init(),set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x5ab96b(0x1ce)]));}function settings_init(){settings_region_label_update_options(),settings_filepath_update_html(),settings_show_current_value();}function settings_save(){var _0x527887=_0x5d4abf,_0x221653=![];document[_0x527887(0x2f2)](_0x527887(0x302))['value']!==_via_settings[_0x527887(0x43d)][_0x527887(0x230)]&&(_0x221653=!![]);var _0x3e8eeb=document['getElementById']('settings_panel'),_0x28e37a=_0x3e8eeb[_0x527887(0x1d9)]('value'),_0x46a5f7=_0x28e37a[_0x527887(0x442)],_0x4cd52b;for(_0x4cd52b=0x0;_0x4cd52b<_0x46a5f7;++_0x4cd52b){var _0x7507af=_0x28e37a[_0x4cd52b][_0x527887(0x293)][0x1],_0x20c3ed=_0x7507af['id']['split']('.');if(_0x20c3ed[0x0]===_0x527887(0x427)){var _0x22983e=_via_settings,_0x47676b=!![],_0x21695c;for(_0x21695c=0x1;_0x21695c<_0x20c3ed[_0x527887(0x442)]-0x1;++_0x21695c){if(_0x22983e[_0x527887(0x497)](_0x20c3ed[_0x21695c]))_0x22983e=_0x22983e[_0x20c3ed[_0x21695c]];else{_0x47676b=![];break;}}if(_0x47676b){var _0x1e132b=_0x20c3ed[_0x20c3ed['length']-0x1];(_0x7507af[_0x527887(0x290)]!==''||typeof _0x7507af[_0x527887(0x290)]!==_0x527887(0x289))&&(_0x22983e[_0x1e132b]=_0x7507af[_0x527887(0x290)]);}}}var _0x3e8eeb;_0x3e8eeb=document[_0x527887(0x2f2)](_0x527887(0x430)),_0x3e8eeb[_0x527887(0x290)]!==''&&project_filepath_add(_0x3e8eeb[_0x527887(0x290)]['trim']()),_0x3e8eeb=document[_0x527887(0x2f2)](_0x527887(0x285)),_0x3e8eeb[_0x527887(0x290)]!==_via_settings['project'][_0x527887(0x395)]&&(_0x3e8eeb[_0x527887(0x290)]=_via_settings[_0x527887(0x3f6)][_0x527887(0x395)]),_0x221653&&(_via_file_resolve_all_to_default_filepath(),_via_show_img(_via_image_index)),show_message('Settings\x20saved.'),settings_panel_toggle(),console[_0x527887(0x43e)]('settings_panel_toggle()\x20done');}function settings_show_current_value(){var _0x4a6aac=_0x5d4abf,_0xd4c5e0=document[_0x4a6aac(0x2f2)]('settings_panel'),_0x11e788=_0xd4c5e0[_0x4a6aac(0x1d9)](_0x4a6aac(0x290)),_0xdacb11=_0x11e788[_0x4a6aac(0x442)],_0x4c2789;for(_0x4c2789=0x0;_0x4c2789<_0xdacb11;++_0x4c2789){var _0x53b69e=_0x11e788[_0x4c2789][_0x4a6aac(0x293)][0x1],_0x497d41=_0x53b69e['id'][_0x4a6aac(0x1ba)]('.');if(_0x497d41[0x0]==='_via_settings'){var _0x3aadb1=_via_settings,_0x1465c6=!![],_0x51a692;for(_0x51a692=0x1;_0x51a692<_0x497d41['length'];++_0x51a692){if(_0x3aadb1[_0x4a6aac(0x497)](_0x497d41[_0x51a692]))_0x3aadb1=_0x3aadb1[_0x497d41[_0x51a692]];else{_0x1465c6=![];break;}}_0x1465c6&&(_0x53b69e[_0x4a6aac(0x290)]=_0x3aadb1);}}}function settings_region_label_update_options(){var _0x4ce26c=_0x5d4abf,_0x54cdf0=document[_0x4ce26c(0x2f2)](_0x4ce26c(0x266));_0x54cdf0[_0x4ce26c(0x45b)]='';var _0x3485fc=document[_0x4ce26c(0x237)](_0x4ce26c(0x45c));_0x3485fc[_0x4ce26c(0x33a)](_0x4ce26c(0x290),_0x4ce26c(0x33c));_via_settings['ui'][_0x4ce26c(0x2e6)]['region_label']===_0x4ce26c(0x33c)&&_0x3485fc[_0x4ce26c(0x33a)](_0x4ce26c(0x3e7),'selected');_0x3485fc['innerHTML']=_0x4ce26c(0x1ea),_0x54cdf0['appendChild'](_0x3485fc);var _0xae9fef;for(_0xae9fef in _via_attributes[_0x4ce26c(0x2a8)]){var _0x13dba1=document['createElement']('option');_0x13dba1[_0x4ce26c(0x33a)](_0x4ce26c(0x290),_0xae9fef),_0x13dba1[_0x4ce26c(0x45b)]=_0x4ce26c(0x492)+_0xae9fef,_via_settings['ui'][_0x4ce26c(0x2e6)][_0x4ce26c(0x3c4)]===_0xae9fef&&_0x13dba1[_0x4ce26c(0x33a)]('selected',_0x4ce26c(0x3e7)),_0x54cdf0['appendChild'](_0x13dba1);}}function settings_filepath_update_html(){var _0xf99433=_0x5d4abf,_0x209b78=document['getElementById'](_0xf99433(0x467));_0x209b78['innerHTML']='';var _0x15357d,_0x3c8c7b,_0x26fb91;for(_0x3c8c7b in _via_settings[_0xf99433(0x43d)]['filepath']){_0x26fb91=_via_settings[_0xf99433(0x43d)]['filepath'][_0x3c8c7b];if(_0x26fb91!==0x0){var _0x4229d0=document[_0xf99433(0x237)]('li');_0x4229d0[_0xf99433(0x45b)]=_0x3c8c7b+_0xf99433(0x370)+_0x3c8c7b+'\x22);\x20settings_filepath_update_html();\x22>&times;</span>',_0x209b78['appendChild'](_0x4229d0);}}}function _via_file_resolve_all_to_default_filepath(){var _0x2e94ee=_0x5d4abf,_0x242d60;for(_0x242d60 in _via_img_metadata){_via_img_metadata[_0x2e94ee(0x497)](_0x242d60)&&_via_file_resolve_file_to_default_filepath(_0x242d60);}}function _via_file_resolve_file_to_default_filepath(_0x14d731){var _0x5ad207=_0x5d4abf;_via_img_metadata['hasOwnProperty'](_0x14d731)&&((typeof _via_img_fileref[_0x14d731]===_0x5ad207(0x289)||!_via_img_fileref[_0x14d731]instanceof File)&&(is_url(_via_img_metadata[_0x14d731]['filename'])?_via_img_src[_0x14d731]=_via_img_metadata[_0x14d731]['filename']:_via_img_src[_0x14d731]=_via_settings['core'][_0x5ad207(0x230)]+_via_img_metadata[_0x14d731][_0x5ad207(0x22a)]));}function _via_file_resolve_all(){return new Promise(function(_0x441a2e,_0x37b987){var _0x47431a=_0x8643,_0x4d30f0=[],_0x44d3ee=_via_file_get_search_path_list(),_0x2ee71f,_0xadd070;for(_0x2ee71f=0x0;_0x2ee71f<_via_img_count;++_0x2ee71f){_0xadd070=_via_image_id_list[_0x2ee71f];if(typeof _via_img_src[_0xadd070]===_0x47431a(0x289)||_via_img_src[_0xadd070]===''){var _0x235a83=_via_file_resolve(_0x2ee71f,_0x44d3ee);_0x4d30f0['push'](_0x235a83);}}Promise[_0x47431a(0x27e)](_0x4d30f0)['then'](function(_0xc0c977){var _0x15f01d=_0x47431a;console[_0x15f01d(0x43e)](_0xc0c977),_0x441a2e();},function(_0x48027f){var _0x588c29=_0x47431a;console[_0x588c29(0x43e)](_0x48027f),_0x37b987();});});}function _via_file_get_search_path_list(){var _0x14cda3=_0x5d4abf,_0x36e13a=[],_0x1ea8d9;for(_0x1ea8d9 in _via_settings[_0x14cda3(0x43d)][_0x14cda3(0x273)]){_via_settings['core'][_0x14cda3(0x273)][_0x1ea8d9]!==0x0&&_0x36e13a[_0x14cda3(0x355)](_0x1ea8d9);}return _0x36e13a;}function _via_file_resolve(_0x59d4d1,_0x2460fe){return new Promise(function(_0x3d72ba,_0x3b62d7){var _0x2af5ae=_0x8643,_0xd7a50a=0x0,_0x373e24=_via_file_resolve_check_path(_0x59d4d1,_0xd7a50a,_0x2460fe)[_0x2af5ae(0x436)](function(_0x6e5c65){_0x3d72ba(_0x6e5c65);},function(_0x4c46a8){_0x3b62d7(_0x4c46a8);});},![]);}function _via_file_resolve_check_path(_0x9e8c6f,_0x24f2e2,_0x4afdcd){return new Promise(function(_0xc32b65,_0x1eafa3){var _0x2f624c=_0x8643,_0x46fce6=_via_image_id_list[_0x9e8c6f],_0xf73a29=new Image(0x0,0x0),_0x4ef5e2=_0x4afdcd[_0x24f2e2]+_via_img_metadata[_0x46fce6][_0x2f624c(0x22a)];is_url(_via_img_metadata[_0x46fce6][_0x2f624c(0x22a)])&&(_0x4afdcd[_0x24f2e2]!==''&&(_0x4ef5e2=_0x4afdcd[_0x24f2e2]+get_filename_from_url(_via_img_metadata[_0x46fce6][_0x2f624c(0x22a)]))),_0xf73a29['setAttribute'](_0x2f624c(0x49b),_0x4ef5e2),_0xf73a29[_0x2f624c(0x391)](_0x2f624c(0x35b),function(){_via_img_src[_0x46fce6]=_0x4ef5e2,_0xc32b65(_0x9e8c6f);},![]),_0xf73a29[_0x2f624c(0x391)]('abort',function(){_0x1eafa3(_0x9e8c6f);}),_0xf73a29['addEventListener']('error',function(){var _0x5e9d3e=_0x2f624c,_0x1c8be9=_0x24f2e2+0x1;_0x1c8be9<_0x4afdcd[_0x5e9d3e(0x442)]?_via_file_resolve_check_path(_0x9e8c6f,_0x1c8be9,_0x4afdcd)[_0x5e9d3e(0x436)](function(_0x165177){_0xc32b65(_0x9e8c6f);},function(_0x17fa67){_0x1eafa3(_0x9e8c6f);}):_0x1eafa3(_0x9e8c6f);},![]);},![]);}function show_page_404(_0x414f11){var _0x451203=_0x5d4abf;_via_buffer_hide_current_image(),set_display_area_content(VIA_DISPLAY_AREA_CONTENT_NAME[_0x451203(0x2d0)]),_via_image_index=_0x414f11,_via_image_id=_via_image_id_list[_via_image_index],_via_current_image_loaded=![],img_fn_list_ith_entry_selected(_via_image_index,!![]),document[_0x451203(0x2f2)](_0x451203(0x299))[_0x451203(0x45b)]='['+(_via_image_index+0x1)+']'+_via_img_metadata[_via_image_id][_0x451203(0x22a)];}function is_url(_0x430e0c){var _0x32cb9c=_0x5d4abf;return _0x430e0c[_0x32cb9c(0x3e9)](_0x32cb9c(0x47a))||_0x430e0c['startsWith']('https://')||_0x430e0c['startsWith']('www.')?!![]:![];}function get_filename_from_url(_0x241798){var _0x4b2bf2=_0x5d4abf;return _0x241798[_0x4b2bf2(0x376)](_0x241798[_0x4b2bf2(0x400)]('/')+0x1);}function array_intersect(_0x4533ea){var _0x4c7484=_0x5d4abf;if(_0x4533ea[_0x4c7484(0x442)]===0x0)return[];if(_0x4533ea['length']===0x1)return _0x4533ea[0x0];var _0xf3fecf=_0x4533ea[0x0],_0x53bbd3=0x0,_0x3885d0;for(_0x3885d0=0x1;_0x3885d0<_0x4533ea[_0x4c7484(0x442)];++_0x3885d0){_0x4533ea[_0x3885d0]['length']<_0xf3fecf['length']&&(_0xf3fecf=_0x4533ea[_0x3885d0],_0x53bbd3=_0x3885d0);}var _0xe6d456=[],_0x14592b={},_0x17100a;for(_0x3885d0=0x0;_0x3885d0<_0x4533ea[_0x4c7484(0x442)];++_0x3885d0){_0x3885d0===0x0?_0x17100a=_0x53bbd3:_0x17100a=_0x3885d0;var _0x25c3b5;for(_0x25c3b5=0x0;_0x25c3b5<_0x4533ea[_0x17100a][_0x4c7484(0x442)];++_0x25c3b5){_0x14592b[_0x4533ea[_0x17100a][_0x25c3b5]]===_0x3885d0-0x1?_0x3885d0===_0x4533ea[_0x4c7484(0x442)]-0x1?(_0xe6d456[_0x4c7484(0x355)](_0x4533ea[_0x17100a][_0x25c3b5]),_0x14592b[_0x4533ea[_0x17100a][_0x25c3b5]]=0x0):_0x14592b[_0x4533ea[_0x17100a][_0x25c3b5]]=_0x3885d0:_0x14592b[_0x4533ea[_0x17100a][_0x25c3b5]]=0x0;}}return _0xe6d456;}function generate_img_index_list(_0x5a01a3){var _0x5a9be7=_0x5d4abf,_0x1602af=[],_0x1aa911=[];if(_0x5a01a3[_0x5a9be7(0x29e)][_0x5a9be7(0x290)]!==''){var _0x3170dc=_0x5a01a3['prev_next_count'][_0x5a9be7(0x290)][_0x5a9be7(0x1ba)](',');if(_0x3170dc['length']===0x2){var _0x53651a=parseInt(_0x3170dc[0x0]),_0x50a361=parseInt(_0x3170dc[0x1]),_0x18beaf;for(_0x18beaf=_via_image_index-_0x53651a;_0x18beaf<=_via_image_index+_0x50a361;_0x18beaf++){_0x1aa911[_0x5a9be7(0x355)](_0x18beaf);}}}_0x1aa911[_0x5a9be7(0x442)]!==0x0&&_0x1602af[_0x5a9be7(0x355)](_0x1aa911);var _0x24b8ac=[];if(_0x5a01a3[_0x5a9be7(0x2a0)]['value']!==''){var _0x242508=_0x5a01a3[_0x5a9be7(0x2a0)][_0x5a9be7(0x290)][_0x5a9be7(0x1ba)](',');if(_0x242508[_0x5a9be7(0x442)]!==0x0){var _0x18beaf;for(_0x18beaf=0x0;_0x18beaf<_0x242508[_0x5a9be7(0x442)];++_0x18beaf){if(_0x242508[_0x18beaf]['includes']('-')){var _0x229af3=_0x242508[_0x18beaf]['split']('-'),_0x12b322=parseInt(_0x229af3[0x0])-0x1,_0x584260=parseInt(_0x229af3[0x1])-0x1,_0x193b49;for(_0x193b49=_0x12b322;_0x193b49<=_0x584260;++_0x193b49){_0x24b8ac[_0x5a9be7(0x355)](_0x193b49);}}else _0x24b8ac[_0x5a9be7(0x355)](parseInt(_0x242508[_0x18beaf])-0x1);}}}_0x24b8ac[_0x5a9be7(0x442)]!==0x0&&_0x1602af[_0x5a9be7(0x355)](_0x24b8ac);var _0x515f18=[];if(_0x5a01a3[_0x5a9be7(0x486)][_0x5a9be7(0x290)]!==''){var _0x3a8918=_0x5a01a3['regex']['value'];for(var _0x18beaf=0x0;_0x18beaf<_via_image_filename_list[_0x5a9be7(0x442)];++_0x18beaf){var _0x3af5a7=_via_image_filename_list[_0x18beaf];_0x3af5a7['match'](_0x3a8918)!==null&&_0x515f18['push'](_0x18beaf);}}_0x515f18[_0x5a9be7(0x442)]!==0x0&&_0x1602af[_0x5a9be7(0x355)](_0x515f18);var _0x3e6689=array_intersect(_0x1602af);return _0x3e6689;}function btn_search(){var _0xff2b52=_0x5d4abf,_0x167931=$('#find_files')[_0xff2b52(0x2ce)](),_0x4eadcb=$(_0xff2b52(0x45a))[_0xff2b52(0x2ce)](),_0x4f8f7e=new FormData();console[_0xff2b52(0x43e)]('find_files:',_0x167931),console[_0xff2b52(0x43e)](_0xff2b52(0x298),_0x4eadcb);if(_0x167931==_0xff2b52(0x490))get_video_list();else _0x167931==_0xff2b52(0x2bd)&&get_video_info(_0x4eadcb);}